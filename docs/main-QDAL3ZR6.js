var O_=Object.create;var Wa=Object.defineProperty,R_=Object.defineProperties,F_=Object.getOwnPropertyDescriptor,j_=Object.getOwnPropertyDescriptors,B_=Object.getOwnPropertyNames,fh=Object.getOwnPropertySymbols,V_=Object.getPrototypeOf,mh=Object.prototype.hasOwnProperty,U_=Object.prototype.propertyIsEnumerable;var ph=(t,e,o)=>e in t?Wa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,M=(t,e)=>{for(var o in e||={})mh.call(e,o)&&ph(t,o,e[o]);if(fh)for(var o of fh(e))U_.call(e,o)&&ph(t,o,e[o]);return t},ve=(t,e)=>R_(t,j_(e));var H_=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var z_=(t,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of B_(e))!mh.call(t,i)&&i!==o&&Wa(t,i,{get:()=>e[i],enumerable:!(r=F_(e,i))||r.enumerable});return t};var $_=(t,e,o)=>(o=t!=null?O_(V_(t)):{},z_(e||!t||!t.__esModule?Wa(o,"default",{value:t,enumerable:!0}):o,t));var Jg=H_((da,Xg)=>{"use strict";(function(t,e){typeof da=="object"&&typeof Xg<"u"?e(da):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.leaflet={}))})(da,function(t){"use strict";var e="1.9.4";function o(n){var a,l,d,h;for(l=1,d=arguments.length;l<d;l++){h=arguments[l];for(a in h)n[a]=h[a]}return n}var r=Object.create||function(){function n(){}return function(a){return n.prototype=a,new n}}();function i(n,a){var l=Array.prototype.slice;if(n.bind)return n.bind.apply(n,l.call(arguments,1));var d=l.call(arguments,2);return function(){return n.apply(a,d.length?d.concat(l.call(arguments)):arguments)}}var s=0;function u(n){return"_leaflet_id"in n||(n._leaflet_id=++s),n._leaflet_id}function c(n,a,l){var d,h,m,v;return v=function(){d=!1,h&&(m.apply(l,h),h=!1)},m=function(){d?h=arguments:(n.apply(l,arguments),setTimeout(v,a),d=!0)},m}function f(n,a,l){var d=a[1],h=a[0],m=d-h;return n===d&&l?n:((n-h)%m+m)%m+h}function p(){return!1}function g(n,a){if(a===!1)return n;var l=Math.pow(10,a===void 0?6:a);return Math.round(n*l)/l}function _(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function D(n){return _(n).split(/\s+/)}function b(n,a){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?r(n.options):{});for(var l in a)n.options[l]=a[l];return n.options}function R(n,a,l){var d=[];for(var h in n)d.push(encodeURIComponent(l?h.toUpperCase():h)+"="+encodeURIComponent(n[h]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var W=/\{ *([\w_ -]+) *\}/g;function fe(n,a){return n.replace(W,function(l,d){var h=a[d];if(h===void 0)throw new Error("No value provided for variable "+l);return typeof h=="function"&&(h=h(a)),h})}var G=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function Ze(n,a){for(var l=0;l<n.length;l++)if(n[l]===a)return l;return-1}var ye="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function We(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var Ut=0;function je(n){var a=+new Date,l=Math.max(0,16-(a-Ut));return Ut=a+l,window.setTimeout(n,l)}var bt=window.requestAnimationFrame||We("RequestAnimationFrame")||je,Zn=window.cancelAnimationFrame||We("CancelAnimationFrame")||We("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function Se(n,a,l){if(l&&bt===je)n.call(a);else return bt.call(window,i(n,a))}function Be(n){n&&Zn.call(window,n)}var lv={__proto__:null,extend:o,create:r,bind:i,get lastId(){return s},stamp:u,throttle:c,wrapNum:f,falseFn:p,formatNum:g,trim:_,splitWords:D,setOptions:b,getParamString:R,template:fe,isArray:G,indexOf:Ze,emptyImageUrl:ye,requestFn:bt,cancelFn:Zn,requestAnimFrame:Se,cancelAnimFrame:Be};function Ht(){}Ht.extend=function(n){var a=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=a.__super__=this.prototype,d=r(l);d.constructor=a,a.prototype=d;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(a[h]=this[h]);return n.statics&&o(a,n.statics),n.includes&&(cv(n.includes),o.apply(null,[d].concat(n.includes))),o(d,n),delete d.statics,delete d.includes,d.options&&(d.options=l.options?r(l.options):{},o(d.options,n.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,v=d._initHooks.length;m<v;m++)d._initHooks[m].call(this)}},a},Ht.include=function(n){var a=this.prototype.options;return o(this.prototype,n),n.options&&(this.prototype.options=a,this.mergeOptions(n.options)),this},Ht.mergeOptions=function(n){return o(this.prototype.options,n),this},Ht.addInitHook=function(n){var a=Array.prototype.slice.call(arguments,1),l=typeof n=="function"?n:function(){this[n].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function cv(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=G(n)?n:[n];for(var a=0;a<n.length;a++)n[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var qe={on:function(n,a,l){if(typeof n=="object")for(var d in n)this._on(d,n[d],a);else{n=D(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],a,l)}return this},off:function(n,a,l){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var d in n)this._off(d,n[d],a);else{n=D(n);for(var h=arguments.length===1,m=0,v=n.length;m<v;m++)h?this._off(n[m]):this._off(n[m],a,l)}return this},_on:function(n,a,l,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(n,a,l)===!1){l===this&&(l=void 0);var h={fn:a,ctx:l};d&&(h.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(h)}},_off:function(n,a,l){var d,h,m;if(this._events&&(d=this._events[n],!!d)){if(arguments.length===1){if(this._firingCount)for(h=0,m=d.length;h<m;h++)d[h].fn=p;delete this._events[n];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var v=this._listens(n,a,l);if(v!==!1){var y=d[v];this._firingCount&&(y.fn=p,this._events[n]=d=d.slice()),d.splice(v,1)}}},fire:function(n,a,l){if(!this.listens(n,l))return this;var d=o({},a,{type:n,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var h=this._events[n];if(h){this._firingCount=this._firingCount+1||1;for(var m=0,v=h.length;m<v;m++){var y=h[m],w=y.fn;y.once&&this.off(n,w,y.ctx),w.call(y.ctx||this,d)}this._firingCount--}}return l&&this._propagateEvent(d),this},listens:function(n,a,l,d){typeof n!="string"&&console.warn('"string" type argument expected');var h=a;typeof a!="function"&&(d=!!a,h=void 0,l=void 0);var m=this._events&&this._events[n];if(m&&m.length&&this._listens(n,h,l)!==!1)return!0;if(d){for(var v in this._eventParents)if(this._eventParents[v].listens(n,a,l,d))return!0}return!1},_listens:function(n,a,l){if(!this._events)return!1;var d=this._events[n]||[];if(!a)return!!d.length;l===this&&(l=void 0);for(var h=0,m=d.length;h<m;h++)if(d[h].fn===a&&d[h].ctx===l)return h;return!1},once:function(n,a,l){if(typeof n=="object")for(var d in n)this._on(d,n[d],a,!0);else{n=D(n);for(var h=0,m=n.length;h<m;h++)this._on(n[h],a,l,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[u(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[u(n)],this},_propagateEvent:function(n){for(var a in this._eventParents)this._eventParents[a].fire(n.type,o({layer:n.target,propagatedFrom:n.target},n),!0)}};qe.addEventListener=qe.on,qe.removeEventListener=qe.clearAllEventListeners=qe.off,qe.addOneTimeEventListener=qe.once,qe.fireEvent=qe.fire,qe.hasEventListeners=qe.listens;var Vi=Ht.extend(qe);function B(n,a,l){this.x=l?Math.round(n):n,this.y=l?Math.round(a):a}var nd=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(n){return this.clone()._add(O(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(O(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new B(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new B(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nd(this.x),this.y=nd(this.y),this},distanceTo:function(n){n=O(n);var a=n.x-this.x,l=n.y-this.y;return Math.sqrt(a*a+l*l)},equals:function(n){return n=O(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=O(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function O(n,a,l){return n instanceof B?n:G(n)?new B(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new B(n.x,n.y):new B(n,a,l)}function ue(n,a){if(n)for(var l=a?[n,a]:n,d=0,h=l.length;d<h;d++)this.extend(l[d])}ue.prototype={extend:function(n){var a,l;if(!n)return this;if(n instanceof B||typeof n[0]=="number"||"x"in n)a=l=O(n);else if(n=Ve(n),a=n.min,l=n.max,!a||!l)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=l.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(n){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var a,l;return typeof n[0]=="number"||n instanceof B?n=O(n):n=Ve(n),n instanceof ue?(a=n.min,l=n.max):a=l=n,a.x>=this.min.x&&l.x<=this.max.x&&a.y>=this.min.y&&l.y<=this.max.y},intersects:function(n){n=Ve(n);var a=this.min,l=this.max,d=n.min,h=n.max,m=h.x>=a.x&&d.x<=l.x,v=h.y>=a.y&&d.y<=l.y;return m&&v},overlaps:function(n){n=Ve(n);var a=this.min,l=this.max,d=n.min,h=n.max,m=h.x>a.x&&d.x<l.x,v=h.y>a.y&&d.y<l.y;return m&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var a=this.min,l=this.max,d=Math.abs(a.x-l.x)*n,h=Math.abs(a.y-l.y)*n;return Ve(O(a.x-d,a.y-h),O(l.x+d,l.y+h))},equals:function(n){return n?(n=Ve(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function Ve(n,a){return!n||n instanceof ue?n:new ue(n,a)}function Ue(n,a){if(n)for(var l=a?[n,a]:n,d=0,h=l.length;d<h;d++)this.extend(l[d])}Ue.prototype={extend:function(n){var a=this._southWest,l=this._northEast,d,h;if(n instanceof ie)d=n,h=n;else if(n instanceof Ue){if(d=n._southWest,h=n._northEast,!d||!h)return this}else return n?this.extend(q(n)||pe(n)):this;return!a&&!l?(this._southWest=new ie(d.lat,d.lng),this._northEast=new ie(h.lat,h.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),l.lat=Math.max(h.lat,l.lat),l.lng=Math.max(h.lng,l.lng)),this},pad:function(n){var a=this._southWest,l=this._northEast,d=Math.abs(a.lat-l.lat)*n,h=Math.abs(a.lng-l.lng)*n;return new Ue(new ie(a.lat-d,a.lng-h),new ie(l.lat+d,l.lng+h))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ie||"lat"in n?n=q(n):n=pe(n);var a=this._southWest,l=this._northEast,d,h;return n instanceof Ue?(d=n.getSouthWest(),h=n.getNorthEast()):d=h=n,d.lat>=a.lat&&h.lat<=l.lat&&d.lng>=a.lng&&h.lng<=l.lng},intersects:function(n){n=pe(n);var a=this._southWest,l=this._northEast,d=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>=a.lat&&d.lat<=l.lat,v=h.lng>=a.lng&&d.lng<=l.lng;return m&&v},overlaps:function(n){n=pe(n);var a=this._southWest,l=this._northEast,d=n.getSouthWest(),h=n.getNorthEast(),m=h.lat>a.lat&&d.lat<l.lat,v=h.lng>a.lng&&d.lng<l.lng;return m&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,a){return n?(n=pe(n),this._southWest.equals(n.getSouthWest(),a)&&this._northEast.equals(n.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function pe(n,a){return n instanceof Ue?n:new Ue(n,a)}function ie(n,a,l){if(isNaN(n)||isNaN(a))throw new Error("Invalid LatLng object: ("+n+", "+a+")");this.lat=+n,this.lng=+a,l!==void 0&&(this.alt=+l)}ie.prototype={equals:function(n,a){if(!n)return!1;n=q(n);var l=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return l<=(a===void 0?1e-9:a)},toString:function(n){return"LatLng("+g(this.lat,n)+", "+g(this.lng,n)+")"},distanceTo:function(n){return an.distance(this,q(n))},wrap:function(){return an.wrapLatLng(this)},toBounds:function(n){var a=180*n/40075017,l=a/Math.cos(Math.PI/180*this.lat);return pe([this.lat-a,this.lng-l],[this.lat+a,this.lng+l])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function q(n,a,l){return n instanceof ie?n:G(n)&&typeof n[0]!="object"?n.length===3?new ie(n[0],n[1],n[2]):n.length===2?new ie(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ie(n.lat,"lng"in n?n.lng:n.lon,n.alt):a===void 0?null:new ie(n,a,l)}var zt={latLngToPoint:function(n,a){var l=this.projection.project(n),d=this.scale(a);return this.transformation._transform(l,d)},pointToLatLng:function(n,a){var l=this.scale(a),d=this.transformation.untransform(n,l);return this.projection.unproject(d)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var a=this.projection.bounds,l=this.scale(n),d=this.transformation.transform(a.min,l),h=this.transformation.transform(a.max,l);return new ue(d,h)},infinite:!1,wrapLatLng:function(n){var a=this.wrapLng?f(n.lng,this.wrapLng,!0):n.lng,l=this.wrapLat?f(n.lat,this.wrapLat,!0):n.lat,d=n.alt;return new ie(l,a,d)},wrapLatLngBounds:function(n){var a=n.getCenter(),l=this.wrapLatLng(a),d=a.lat-l.lat,h=a.lng-l.lng;if(d===0&&h===0)return n;var m=n.getSouthWest(),v=n.getNorthEast(),y=new ie(m.lat-d,m.lng-h),w=new ie(v.lat-d,v.lng-h);return new Ue(y,w)}},an=o({},zt,{wrapLng:[-180,180],R:6371e3,distance:function(n,a){var l=Math.PI/180,d=n.lat*l,h=a.lat*l,m=Math.sin((a.lat-n.lat)*l/2),v=Math.sin((a.lng-n.lng)*l/2),y=m*m+Math.cos(d)*Math.cos(h)*v*v,w=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return this.R*w}}),id=6378137,fa={R:id,MAX_LATITUDE:85.0511287798,project:function(n){var a=Math.PI/180,l=this.MAX_LATITUDE,d=Math.max(Math.min(l,n.lat),-l),h=Math.sin(d*a);return new B(this.R*n.lng*a,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(n){var a=180/Math.PI;return new ie((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*a,n.x*a/this.R)},bounds:function(){var n=id*Math.PI;return new ue([-n,-n],[n,n])}()};function pa(n,a,l,d){if(G(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=a,this._c=l,this._d=d}pa.prototype={transform:function(n,a){return this._transform(n.clone(),a)},_transform:function(n,a){return a=a||1,n.x=a*(this._a*n.x+this._b),n.y=a*(this._c*n.y+this._d),n},untransform:function(n,a){return a=a||1,new B((n.x/a-this._b)/this._a,(n.y/a-this._d)/this._c)}};function Ui(n,a,l,d){return new pa(n,a,l,d)}var ma=o({},an,{code:"EPSG:3857",projection:fa,transformation:function(){var n=.5/(Math.PI*fa.R);return Ui(n,.5,-n,.5)}()}),dv=o({},ma,{code:"EPSG:900913"});function rd(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function od(n,a){var l="",d,h,m,v,y,w;for(d=0,m=n.length;d<m;d++){for(y=n[d],h=0,v=y.length;h<v;h++)w=y[h],l+=(h?"L":"M")+w.x+" "+w.y;l+=a?x.svg?"z":"x":""}return l||"M0 0"}var ga=document.documentElement.style,Xr="ActiveXObject"in window,hv=Xr&&!document.addEventListener,sd="msLaunchUri"in navigator&&!("documentMode"in document),va=Et("webkit"),ad=Et("android"),ud=Et("android 2")||Et("android 3"),fv=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pv=ad&&Et("Google")&&fv<537&&!("AudioNode"in window),_a=!!window.opera,ld=!sd&&Et("chrome"),cd=Et("gecko")&&!va&&!_a&&!Xr,mv=!ld&&Et("safari"),dd=Et("phantom"),hd="OTransition"in ga,gv=navigator.platform.indexOf("Win")===0,fd=Xr&&"transition"in ga,ya="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ud,pd="MozPerspective"in ga,vv=!window.L_DISABLE_3D&&(fd||ya||pd)&&!hd&&!dd,Hi=typeof orientation<"u"||Et("mobile"),_v=Hi&&va,yv=Hi&&ya,md=!window.PointerEvent&&window.MSPointerEvent,gd=!!(window.PointerEvent||md),vd="ontouchstart"in window||!!window.TouchEvent,wv=!window.L_NO_TOUCH&&(vd||gd),Dv=Hi&&_a,Cv=Hi&&cd,bv=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ev=function(){var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",p,a),window.removeEventListener("testPassiveEventSupport",p,a)}catch{}return n}(),Iv=function(){return!!document.createElement("canvas").getContext}(),wa=!!(document.createElementNS&&rd("svg").createSVGRect),Mv=!!wa&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xv=!wa&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var a=n.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Tv=navigator.platform.indexOf("Mac")===0,Sv=navigator.platform.indexOf("Linux")===0;function Et(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var x={ie:Xr,ielt9:hv,edge:sd,webkit:va,android:ad,android23:ud,androidStock:pv,opera:_a,chrome:ld,gecko:cd,safari:mv,phantom:dd,opera12:hd,win:gv,ie3d:fd,webkit3d:ya,gecko3d:pd,any3d:vv,mobile:Hi,mobileWebkit:_v,mobileWebkit3d:yv,msPointer:md,pointer:gd,touch:wv,touchNative:vd,mobileOpera:Dv,mobileGecko:Cv,retina:bv,passiveEvents:Ev,canvas:Iv,svg:wa,vml:xv,inlineSvg:Mv,mac:Tv,linux:Sv},_d=x.msPointer?"MSPointerDown":"pointerdown",yd=x.msPointer?"MSPointerMove":"pointermove",wd=x.msPointer?"MSPointerUp":"pointerup",Dd=x.msPointer?"MSPointerCancel":"pointercancel",Da={touchstart:_d,touchmove:yd,touchend:wd,touchcancel:Dd},Cd={touchstart:Ov,touchmove:Jr,touchend:Jr,touchcancel:Jr},Wn={},bd=!1;function Lv(n,a,l){return a==="touchstart"&&kv(),Cd[a]?(l=Cd[a].bind(this,l),n.addEventListener(Da[a],l,!1),l):(console.warn("wrong event specified:",a),p)}function Pv(n,a,l){if(!Da[a]){console.warn("wrong event specified:",a);return}n.removeEventListener(Da[a],l,!1)}function Av(n){Wn[n.pointerId]=n}function Nv(n){Wn[n.pointerId]&&(Wn[n.pointerId]=n)}function Ed(n){delete Wn[n.pointerId]}function kv(){bd||(document.addEventListener(_d,Av,!0),document.addEventListener(yd,Nv,!0),document.addEventListener(wd,Ed,!0),document.addEventListener(Dd,Ed,!0),bd=!0)}function Jr(n,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var l in Wn)a.touches.push(Wn[l]);a.changedTouches=[a],n(a)}}function Ov(n,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ie(a),Jr(n,a)}function Rv(n){var a={},l,d;for(d in n)l=n[d],a[d]=l&&l.bind?l.bind(n):l;return n=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Fv=200;function jv(n,a){n.addEventListener("dblclick",a);var l=0,d;function h(m){if(m.detail!==1){d=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var v=Sd(m);if(!(v.some(function(w){return w instanceof HTMLLabelElement&&w.attributes.for})&&!v.some(function(w){return w instanceof HTMLInputElement||w instanceof HTMLSelectElement}))){var y=Date.now();y-l<=Fv?(d++,d===2&&a(Rv(m))):d=1,l=y}}}return n.addEventListener("click",h),{dblclick:a,simDblclick:h}}function Bv(n,a){n.removeEventListener("dblclick",a.dblclick),n.removeEventListener("click",a.simDblclick)}var Ca=no(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zi=no(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Id=zi==="webkitTransition"||zi==="OTransition"?zi+"End":"transitionend";function Md(n){return typeof n=="string"?document.getElementById(n):n}function $i(n,a){var l=n.style[a]||n.currentStyle&&n.currentStyle[a];if((!l||l==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(n,null);l=d?d[a]:null}return l==="auto"?null:l}function ee(n,a,l){var d=document.createElement(n);return d.className=a||"",l&&l.appendChild(d),d}function le(n){var a=n.parentNode;a&&a.removeChild(n)}function eo(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function qn(n){var a=n.parentNode;a&&a.lastChild!==n&&a.appendChild(n)}function Yn(n){var a=n.parentNode;a&&a.firstChild!==n&&a.insertBefore(n,a.firstChild)}function ba(n,a){if(n.classList!==void 0)return n.classList.contains(a);var l=to(n);return l.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(l)}function H(n,a){if(n.classList!==void 0)for(var l=D(a),d=0,h=l.length;d<h;d++)n.classList.add(l[d]);else if(!ba(n,a)){var m=to(n);Ea(n,(m?m+" ":"")+a)}}function ce(n,a){n.classList!==void 0?n.classList.remove(a):Ea(n,_((" "+to(n)+" ").replace(" "+a+" "," ")))}function Ea(n,a){n.className.baseVal===void 0?n.className=a:n.className.baseVal=a}function to(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function rt(n,a){"opacity"in n.style?n.style.opacity=a:"filter"in n.style&&Vv(n,a)}function Vv(n,a){var l=!1,d="DXImageTransform.Microsoft.Alpha";try{l=n.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),l?(l.Enabled=a!==100,l.Opacity=a):n.style.filter+=" progid:"+d+"(opacity="+a+")"}function no(n){for(var a=document.documentElement.style,l=0;l<n.length;l++)if(n[l]in a)return n[l];return!1}function En(n,a,l){var d=a||new B(0,0);n.style[Ca]=(x.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(l?" scale("+l+")":"")}function me(n,a){n._leaflet_pos=a,x.any3d?En(n,a):(n.style.left=a.x+"px",n.style.top=a.y+"px")}function In(n){return n._leaflet_pos||new B(0,0)}var Gi,Zi,Ia;if("onselectstart"in document)Gi=function(){V(window,"selectstart",Ie)},Zi=function(){se(window,"selectstart",Ie)};else{var Wi=no(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gi=function(){if(Wi){var n=document.documentElement.style;Ia=n[Wi],n[Wi]="none"}},Zi=function(){Wi&&(document.documentElement.style[Wi]=Ia,Ia=void 0)}}function Ma(){V(window,"dragstart",Ie)}function xa(){se(window,"dragstart",Ie)}var io,Ta;function Sa(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(ro(),io=n,Ta=n.style.outlineStyle,n.style.outlineStyle="none",V(window,"keydown",ro))}function ro(){io&&(io.style.outlineStyle=Ta,io=void 0,Ta=void 0,se(window,"keydown",ro))}function xd(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function La(n){var a=n.getBoundingClientRect();return{x:a.width/n.offsetWidth||1,y:a.height/n.offsetHeight||1,boundingClientRect:a}}var Uv={__proto__:null,TRANSFORM:Ca,TRANSITION:zi,TRANSITION_END:Id,get:Md,getStyle:$i,create:ee,remove:le,empty:eo,toFront:qn,toBack:Yn,hasClass:ba,addClass:H,removeClass:ce,setClass:Ea,getClass:to,setOpacity:rt,testProp:no,setTransform:En,setPosition:me,getPosition:In,get disableTextSelection(){return Gi},get enableTextSelection(){return Zi},disableImageDrag:Ma,enableImageDrag:xa,preventOutline:Sa,restoreOutline:ro,getSizedParentNode:xd,getScale:La};function V(n,a,l,d){if(a&&typeof a=="object")for(var h in a)Aa(n,h,a[h],l);else{a=D(a);for(var m=0,v=a.length;m<v;m++)Aa(n,a[m],l,d)}return this}var It="_leaflet_events";function se(n,a,l,d){if(arguments.length===1)Td(n),delete n[It];else if(a&&typeof a=="object")for(var h in a)Na(n,h,a[h],l);else if(a=D(a),arguments.length===2)Td(n,function(y){return Ze(a,y)!==-1});else for(var m=0,v=a.length;m<v;m++)Na(n,a[m],l,d);return this}function Td(n,a){for(var l in n[It]){var d=l.split(/\d/)[0];(!a||a(d))&&Na(n,d,null,null,l)}}var Pa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Aa(n,a,l,d){var h=a+u(l)+(d?"_"+u(d):"");if(n[It]&&n[It][h])return this;var m=function(y){return l.call(d||n,y||window.event)},v=m;!x.touchNative&&x.pointer&&a.indexOf("touch")===0?m=Lv(n,a,m):x.touch&&a==="dblclick"?m=jv(n,m):"addEventListener"in n?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?n.addEventListener(Pa[a]||a,m,x.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(m=function(y){y=y||window.event,Oa(n,y)&&v(y)},n.addEventListener(Pa[a],m,!1)):n.addEventListener(a,v,!1):n.attachEvent("on"+a,m),n[It]=n[It]||{},n[It][h]=m}function Na(n,a,l,d,h){h=h||a+u(l)+(d?"_"+u(d):"");var m=n[It]&&n[It][h];if(!m)return this;!x.touchNative&&x.pointer&&a.indexOf("touch")===0?Pv(n,a,m):x.touch&&a==="dblclick"?Bv(n,m):"removeEventListener"in n?n.removeEventListener(Pa[a]||a,m,!1):n.detachEvent("on"+a,m),n[It][h]=null}function Mn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function ka(n){return Aa(n,"wheel",Mn),this}function qi(n){return V(n,"mousedown touchstart dblclick contextmenu",Mn),n._leaflet_disable_click=!0,this}function Ie(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function xn(n){return Ie(n),Mn(n),this}function Sd(n){if(n.composedPath)return n.composedPath();for(var a=[],l=n.target;l;)a.push(l),l=l.parentNode;return a}function Ld(n,a){if(!a)return new B(n.clientX,n.clientY);var l=La(a),d=l.boundingClientRect;return new B((n.clientX-d.left)/l.x-a.clientLeft,(n.clientY-d.top)/l.y-a.clientTop)}var Hv=x.linux&&x.chrome?window.devicePixelRatio:x.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pd(n){return x.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/Hv:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Oa(n,a){var l=a.relatedTarget;if(!l)return!0;try{for(;l&&l!==n;)l=l.parentNode}catch{return!1}return l!==n}var zv={__proto__:null,on:V,off:se,stopPropagation:Mn,disableScrollPropagation:ka,disableClickPropagation:qi,preventDefault:Ie,stop:xn,getPropagationPath:Sd,getMousePosition:Ld,getWheelDelta:Pd,isExternalTarget:Oa,addListener:V,removeListener:se},Ad=Vi.extend({run:function(n,a,l,d){this.stop(),this._el=n,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=In(n),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Se(this._animate,this),this._step()},_step:function(n){var a=+new Date-this._startTime,l=this._duration*1e3;a<l?this._runFrame(this._easeOut(a/l),n):(this._runFrame(1),this._complete())},_runFrame:function(n,a){var l=this._startPos.add(this._offset.multiplyBy(n));a&&l._round(),me(this._el,l),this.fire("step")},_complete:function(){Be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Y=Vi.extend({options:{crs:ma,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,a){a=b(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(q(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zi&&x.any3d&&!x.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),V(this._proxy,Id,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,a,l){if(a=a===void 0?this._zoom:this._limitZoom(a),n=this._limitCenter(q(n),a,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,a,l.zoom):this._tryAnimatedPan(n,l.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(n,a,l.pan&&l.pan.noMoveStart),this},setZoom:function(n,a){return this._loaded?this.setView(this.getCenter(),n,{zoom:a}):(this._zoom=n,this)},zoomIn:function(n,a){return n=n||(x.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,a)},zoomOut:function(n,a){return n=n||(x.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,a)},setZoomAround:function(n,a,l){var d=this.getZoomScale(a),h=this.getSize().divideBy(2),m=n instanceof B?n:this.latLngToContainerPoint(n),v=m.subtract(h).multiplyBy(1-1/d),y=this.containerPointToLatLng(h.add(v));return this.setView(y,a,{zoom:l})},_getBoundsCenterZoom:function(n,a){a=a||{},n=n.getBounds?n.getBounds():pe(n);var l=O(a.paddingTopLeft||a.padding||[0,0]),d=O(a.paddingBottomRight||a.padding||[0,0]),h=this.getBoundsZoom(n,!1,l.add(d));if(h=typeof a.maxZoom=="number"?Math.min(a.maxZoom,h):h,h===1/0)return{center:n.getCenter(),zoom:h};var m=d.subtract(l).divideBy(2),v=this.project(n.getSouthWest(),h),y=this.project(n.getNorthEast(),h),w=this.unproject(v.add(y).divideBy(2).add(m),h);return{center:w,zoom:h}},fitBounds:function(n,a){if(n=pe(n),!n.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(n,a);return this.setView(l.center,l.zoom,a)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,a){return this.setView(n,this._zoom,{pan:a})},panBy:function(n,a){if(n=O(n).round(),a=a||{},!n.x&&!n.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ad,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){H(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,l,a.duration||.25,a.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,a,l){if(l=l||{},l.animate===!1||!x.any3d)return this.setView(n,a,l);this._stop();var d=this.project(this.getCenter()),h=this.project(n),m=this.getSize(),v=this._zoom;n=q(n),a=a===void 0?v:a;var y=Math.max(m.x,m.y),w=y*this.getZoomScale(v,a),C=h.distanceTo(d)||1,I=1.42,P=I*I;function z(ge){var vo=ge?-1:1,P_=ge?w:y,A_=w*w-y*y+vo*P*P*C*C,N_=2*P_*P*C,Za=A_/N_,hh=Math.sqrt(Za*Za+1)-Za,k_=hh<1e-9?-18:Math.log(hh);return k_}function Oe(ge){return(Math.exp(ge)-Math.exp(-ge))/2}function Ce(ge){return(Math.exp(ge)+Math.exp(-ge))/2}function st(ge){return Oe(ge)/Ce(ge)}var He=z(0);function ti(ge){return y*(Ce(He)/Ce(He+I*ge))}function x_(ge){return y*(Ce(He)*st(He+I*ge)-Oe(He))/P}function T_(ge){return 1-Math.pow(1-ge,1.5)}var S_=Date.now(),ch=(z(1)-He)/I,L_=l.duration?1e3*l.duration:1e3*ch*.8;function dh(){var ge=(Date.now()-S_)/L_,vo=T_(ge)*ch;ge<=1?(this._flyToFrame=Se(dh,this),this._move(this.unproject(d.add(h.subtract(d).multiplyBy(x_(vo)/C)),v),this.getScaleZoom(y/ti(vo),v),{flyTo:!0})):this._move(n,a)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),dh.call(this),this},flyToBounds:function(n,a){var l=this._getBoundsCenterZoom(n,a);return this.flyTo(l.center,l.zoom,a)},setMaxBounds:function(n){return n=pe(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var a=this.options.minZoom;return this.options.minZoom=n,this._loaded&&a!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var a=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&a!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,a){this._enforcingBounds=!0;var l=this.getCenter(),d=this._limitCenter(l,this._zoom,pe(n));return l.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(n,a){a=a||{};var l=O(a.paddingTopLeft||a.padding||[0,0]),d=O(a.paddingBottomRight||a.padding||[0,0]),h=this.project(this.getCenter()),m=this.project(n),v=this.getPixelBounds(),y=Ve([v.min.add(l),v.max.subtract(d)]),w=y.getSize();if(!y.contains(m)){this._enforcingBounds=!0;var C=m.subtract(y.getCenter()),I=y.extend(m).getSize().subtract(w);h.x+=C.x<0?-I.x:I.x,h.y+=C.y<0?-I.y:I.y,this.panTo(this.unproject(h),a),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=o({animate:!1,pan:!0},n===!0?{animate:!0}:n);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),d=a.divideBy(2).round(),h=l.divideBy(2).round(),m=d.subtract(h);return!m.x&&!m.y?this:(n.animate&&n.pan?this.panBy(m):(n.pan&&this._rawPanBy(m),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=o({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=i(this._handleGeolocationResponse,this),l=i(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,l,n):navigator.geolocation.getCurrentPosition(a,l,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var a=n.code,l=n.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var a=n.coords.latitude,l=n.coords.longitude,d=new ie(a,l),h=d.toBounds(n.coords.accuracy*2),m=this._locateOptions;if(m.setView){var v=this.getBoundsZoom(h);this.setView(d,m.maxZoom?Math.min(v,m.maxZoom):v)}var y={latlng:d,bounds:h,timestamp:n.timestamp};for(var w in n.coords)typeof n.coords[w]=="number"&&(y[w]=n.coords[w]);this.fire("locationfound",y)}},addHandler:function(n,a){if(!a)return this;var l=this[n]=new a(this);return this._handlers.push(l),this.options[n]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)le(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,a){var l="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),d=ee("div",l,a||this._mapPane);return n&&(this._panes[n]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),a=this.unproject(n.getBottomLeft()),l=this.unproject(n.getTopRight());return new Ue(a,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,a,l){n=pe(n),l=O(l||[0,0]);var d=this.getZoom()||0,h=this.getMinZoom(),m=this.getMaxZoom(),v=n.getNorthWest(),y=n.getSouthEast(),w=this.getSize().subtract(l),C=Ve(this.project(y,d),this.project(v,d)).getSize(),I=x.any3d?this.options.zoomSnap:1,P=w.x/C.x,z=w.y/C.y,Oe=a?Math.max(P,z):Math.min(P,z);return d=this.getScaleZoom(Oe,d),I&&(d=Math.round(d/(I/100))*(I/100),d=a?Math.ceil(d/I)*I:Math.floor(d/I)*I),Math.max(h,Math.min(m,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,a){var l=this._getTopLeftPoint(n,a);return new ue(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,a){var l=this.options.crs;return a=a===void 0?this._zoom:a,l.scale(n)/l.scale(a)},getScaleZoom:function(n,a){var l=this.options.crs;a=a===void 0?this._zoom:a;var d=l.zoom(n*l.scale(a));return isNaN(d)?1/0:d},project:function(n,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(q(n),a)},unproject:function(n,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(O(n),a)},layerPointToLatLng:function(n){var a=O(n).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(n){var a=this.project(q(n))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(q(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(pe(n))},distance:function(n,a){return this.options.crs.distance(q(n),q(a))},containerPointToLayerPoint:function(n){return O(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return O(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var a=this.containerPointToLayerPoint(O(n));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(n)))},mouseEventToContainerPoint:function(n){return Ld(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var a=this._container=Md(n);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");V(a,"scroll",this._onScroll,this),this._containerId=u(a)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&x.any3d,H(n,"leaflet-container"+(x.touch?" leaflet-touch":"")+(x.retina?" leaflet-retina":"")+(x.ielt9?" leaflet-oldie":"")+(x.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=$i(n,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(H(n.markerPane,"leaflet-zoom-hide"),H(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,a,l){me(this._mapPane,new B(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var h=this._zoom!==a;this._moveStart(h,l)._move(n,a)._moveEnd(h),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(n,a){return n&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(n,a,l,d){a===void 0&&(a=this._zoom);var h=this._zoom!==a;return this._zoom=a,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),d?l&&l.pinch&&this.fire("zoom",l):((h||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){me(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[u(this._container)]=this;var a=n?se:V;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),x.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Be(this._resizeRequest),this._resizeRequest=Se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,a){for(var l=[],d,h=a==="mouseout"||a==="mouseover",m=n.target||n.srcElement,v=!1;m;){if(d=this._targets[u(m)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){v=!0;break}if(d&&d.listens(a,!0)&&(h&&!Oa(m,n)||(l.push(d),h))||m===this._container)break;m=m.parentNode}return!l.length&&!v&&!h&&this.listens(a,!0)&&(l=[this]),l},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var a=n.target||n.srcElement;if(!(!this._loaded||a._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(a))){var l=n.type;l==="mousedown"&&Sa(a),this._fireDOMEvent(n,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,a,l){if(n.type==="click"){var d=o({},n);d.type="preclick",this._fireDOMEvent(d,d.type,l)}var h=this._findEventTargets(n,a);if(l){for(var m=[],v=0;v<l.length;v++)l[v].listens(a,!0)&&m.push(l[v]);h=m.concat(h)}if(h.length){a==="contextmenu"&&Ie(n);var y=h[0],w={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var C=y.getLatLng&&(!y._radius||y._radius<=10);w.containerPoint=C?this.latLngToContainerPoint(y.getLatLng()):this.mouseEventToContainerPoint(n),w.layerPoint=this.containerPointToLayerPoint(w.containerPoint),w.latlng=C?y.getLatLng():this.layerPointToLatLng(w.layerPoint)}for(v=0;v<h.length;v++)if(h[v].fire(a,w,!0),w.originalEvent._stopped||h[v].options.bubblingMouseEvents===!1&&Ze(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,a=this._handlers.length;n<a;n++)this._handlers[n].disable()},whenReady:function(n,a){return this._loaded?n.call(a||this,{target:this}):this.on("load",n,a),this},_getMapPanePos:function(){return In(this._mapPane)||new B(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,a){var l=n&&a!==void 0?this._getNewPixelOrigin(n,a):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,a){var l=this.getSize()._divideBy(2);return this.project(n,a)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,a,l){var d=this._getNewPixelOrigin(l,a);return this.project(n,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(n,a,l){var d=this._getNewPixelOrigin(l,a);return Ve([this.project(n.getSouthWest(),a)._subtract(d),this.project(n.getNorthWest(),a)._subtract(d),this.project(n.getSouthEast(),a)._subtract(d),this.project(n.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,a,l){if(!l)return n;var d=this.project(n,a),h=this.getSize().divideBy(2),m=new ue(d.subtract(h),d.add(h)),v=this._getBoundsOffset(m,l,a);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?n:this.unproject(d.add(v),a)},_limitOffset:function(n,a){if(!a)return n;var l=this.getPixelBounds(),d=new ue(l.min.add(n),l.max.add(n));return n.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(n,a,l){var d=Ve(this.project(a.getNorthEast(),l),this.project(a.getSouthWest(),l)),h=d.min.subtract(n.min),m=d.max.subtract(n.max),v=this._rebound(h.x,-m.x),y=this._rebound(h.y,-m.y);return new B(v,y)},_rebound:function(n,a){return n+a>0?Math.round(n-a)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(a))},_limitZoom:function(n){var a=this.getMinZoom(),l=this.getMaxZoom(),d=x.any3d?this.options.zoomSnap:1;return d&&(n=Math.round(n/d)*d),Math.max(a,Math.min(l,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,a){var l=this._getCenterOffset(n)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,a),!0)},_createAnimProxy:function(){var n=this._proxy=ee("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(a){var l=Ca,d=this._proxy.style[l];En(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),a=this.getZoom();En(this._proxy,this.project(n,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,a,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),h=this._getCenterOffset(n)._divideBy(1-1/d);return l.animate!==!0&&!this.getSize().contains(h)?!1:(Se(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(n,a,!0)},this),!0)},_animateZoom:function(n,a,l,d){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=a,H(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $v(n,a){return new Y(n,a)}var mt=Ht.extend({options:{position:"topright"},initialize:function(n){b(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var a=this._map;return a&&a.removeControl(this),this.options.position=n,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var a=this._container=this.onAdd(n),l=this.getPosition(),d=n._controlCorners[l];return H(a,"leaflet-control"),l.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Yi=function(n){return new mt(n)};Y.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},a="leaflet-",l=this._controlContainer=ee("div",a+"control-container",this._container);function d(h,m){var v=a+h+" "+a+m;n[h+m]=ee("div",v,l)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)le(this._controlCorners[n]);le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nd=mt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,a,l,d){return l<d?-1:d<l?1:0}},initialize:function(n,a,l){b(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in n)this._addLayer(n[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return mt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,a){return this._addLayer(n,a),this._map?this._update():this},addOverlay:function(n,a){return this._addLayer(n,a,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var a=this._getLayer(u(n));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){H(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(H(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",a=this._container=ee("div",n),l=this.options.collapsed;a.setAttribute("aria-haspopup",!0),qi(a),ka(a);var d=this._section=ee("section",n+"-list");l&&(this._map.on("click",this.collapse,this),V(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=ee("a",n+"-toggle",a);h.href="#",h.title="Layers",h.setAttribute("role","button"),V(h,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Ie(m),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=ee("div",n+"-base",d),this._separator=ee("div",n+"-separator",d),this._overlaysList=ee("div",n+"-overlays",d),a.appendChild(d)},_getLayer:function(n){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&u(this._layers[a].layer)===n)return this._layers[a]},_addLayer:function(n,a,l){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:a,overlay:l}),this.options.sortLayers&&this._layers.sort(i(function(d,h){return this.options.sortFunction(d.layer,h.layer,d.name,h.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;eo(this._baseLayersList),eo(this._overlaysList),this._layerControlInputs=[];var n,a,l,d,h=0;for(l=0;l<this._layers.length;l++)d=this._layers[l],this._addItem(d),a=a||d.overlay,n=n||!d.overlay,h+=d.overlay?0:1;return this.options.hideSingleBase&&(n=n&&h>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=a&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var a=this._getLayer(u(n.target)),l=a.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;l&&this._map.fire(l,a)},_createRadioElement:function(n,a){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=l,d.firstChild},_addItem:function(n){var a=document.createElement("label"),l=this._map.hasLayer(n.layer),d;n.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=l):d=this._createRadioElement("leaflet-base-layers_"+u(this),l),this._layerControlInputs.push(d),d.layerId=u(n.layer),V(d,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+n.name;var m=document.createElement("span");a.appendChild(m),m.appendChild(d),m.appendChild(h);var v=n.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,a,l,d=[],h=[];this._handlingClick=!0;for(var m=n.length-1;m>=0;m--)a=n[m],l=this._getLayer(a.layerId).layer,a.checked?d.push(l):a.checked||h.push(l);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])&&this._map.removeLayer(h[m]);for(m=0;m<d.length;m++)this._map.hasLayer(d[m])||this._map.addLayer(d[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,a,l,d=this._map.getZoom(),h=n.length-1;h>=0;h--)a=n[h],l=this._getLayer(a.layerId).layer,a.disabled=l.options.minZoom!==void 0&&d<l.options.minZoom||l.options.maxZoom!==void 0&&d>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,V(n,"click",Ie),this.expand();var a=this;setTimeout(function(){se(n,"click",Ie),a._preventClick=!1})}}),Gv=function(n,a,l){return new Nd(n,a,l)},Ra=mt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var a="leaflet-control-zoom",l=ee("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",l,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,a,l,d,h){var m=ee("a",l,d);return m.innerHTML=n,m.href="#",m.title=a,m.setAttribute("role","button"),m.setAttribute("aria-label",a),qi(m),V(m,"click",xn),V(m,"click",h,this),V(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var n=this._map,a="leaflet-disabled";ce(this._zoomInButton,a),ce(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(H(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(H(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Y.mergeOptions({zoomControl:!0}),Y.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ra,this.addControl(this.zoomControl))});var Zv=function(n){return new Ra(n)},kd=mt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var a="leaflet-control-scale",l=ee("div",a),d=this.options;return this._addScales(d,a+"-line",l),n.on(d.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),l},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,a,l){n.metric&&(this._mScale=ee("div",a,l)),n.imperial&&(this._iScale=ee("div",a,l))},_update:function(){var n=this._map,a=n.getSize().y/2,l=n.distance(n.containerPointToLatLng([0,a]),n.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(l)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var a=this._getRoundNum(n),l=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,l,a/n)},_updateImperial:function(n){var a=n*3.2808399,l,d,h;a>5280?(l=a/5280,d=this._getRoundNum(l),this._updateScale(this._iScale,d+" mi",d/l)):(h=this._getRoundNum(a),this._updateScale(this._iScale,h+" ft",h/a))},_updateScale:function(n,a,l){n.style.width=Math.round(this.options.maxWidth*l)+"px",n.innerHTML=a},_getRoundNum:function(n){var a=Math.pow(10,(Math.floor(n)+"").length-1),l=n/a;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,a*l}}),Wv=function(n){return new kd(n)},qv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Fa=mt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(x.inlineSvg?qv+" ":"")+"Leaflet</a>"},initialize:function(n){b(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=ee("div","leaflet-control-attribution"),qi(this._container);for(var a in n._layers)n._layers[a].getAttribution&&this.addAttribution(n._layers[a].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var a in this._attributions)this._attributions[a]&&n.push(a);var l=[];this.options.prefix&&l.push(this.options.prefix),n.length&&l.push(n.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});Y.mergeOptions({attributionControl:!0}),Y.addInitHook(function(){this.options.attributionControl&&new Fa().addTo(this)});var Yv=function(n){return new Fa(n)};mt.Layers=Nd,mt.Zoom=Ra,mt.Scale=kd,mt.Attribution=Fa,Yi.layers=Gv,Yi.zoom=Zv,Yi.scale=Wv,Yi.attribution=Yv;var Mt=Ht.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mt.addTo=function(n,a){return n.addHandler(a,this),this};var Qv={Events:qe},Od=x.touch?"touchstart mousedown":"mousedown",un=Vi.extend({options:{clickTolerance:3},initialize:function(n,a,l,d){b(this,d),this._element=n,this._dragStartTarget=a||n,this._preventOutline=l},enable:function(){this._enabled||(V(this._dragStartTarget,Od,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(!0),se(this._dragStartTarget,Od,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!ba(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){un._dragging===this&&this.finishDrag();return}if(!(un._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(un._dragging=this,this._preventOutline&&Sa(this._element),Ma(),Gi(),!this._moving)){this.fire("down");var a=n.touches?n.touches[0]:n,l=xd(this._element);this._startPoint=new B(a.clientX,a.clientY),this._startPos=In(this._element),this._parentScale=La(l);var d=n.type==="mousedown";V(document,d?"mousemove":"touchmove",this._onMove,this),V(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var a=n.touches&&n.touches.length===1?n.touches[0]:n,l=new B(a.clientX,a.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Ie(n),this._moved||(this.fire("dragstart"),this._moved=!0,H(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),H(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),me(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){ce(document.body,"leaflet-dragging"),this._lastTarget&&(ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),se(document,"mousemove touchmove",this._onMove,this),se(document,"mouseup touchend touchcancel",this._onUp,this),xa(),Zi();var a=this._moved&&this._moving;this._moving=!1,un._dragging=!1,a&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Rd(n,a,l){var d,h=[1,4,2,8],m,v,y,w,C,I,P,z;for(m=0,I=n.length;m<I;m++)n[m]._code=Tn(n[m],a);for(y=0;y<4;y++){for(P=h[y],d=[],m=0,I=n.length,v=I-1;m<I;v=m++)w=n[m],C=n[v],w._code&P?C._code&P||(z=oo(C,w,P,a,l),z._code=Tn(z,a),d.push(z)):(C._code&P&&(z=oo(C,w,P,a,l),z._code=Tn(z,a),d.push(z)),d.push(w));n=d}return n}function Fd(n,a){var l,d,h,m,v,y,w,C,I;if(!n||n.length===0)throw new Error("latlngs not passed");ot(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var P=q([0,0]),z=pe(n),Oe=z.getNorthWest().distanceTo(z.getSouthWest())*z.getNorthEast().distanceTo(z.getNorthWest());Oe<1700&&(P=ja(n));var Ce=n.length,st=[];for(l=0;l<Ce;l++){var He=q(n[l]);st.push(a.project(q([He.lat-P.lat,He.lng-P.lng])))}for(y=w=C=0,l=0,d=Ce-1;l<Ce;d=l++)h=st[l],m=st[d],v=h.y*m.x-m.y*h.x,w+=(h.x+m.x)*v,C+=(h.y+m.y)*v,y+=v*3;y===0?I=st[0]:I=[w/y,C/y];var ti=a.unproject(O(I));return q([ti.lat+P.lat,ti.lng+P.lng])}function ja(n){for(var a=0,l=0,d=0,h=0;h<n.length;h++){var m=q(n[h]);a+=m.lat,l+=m.lng,d++}return q([a/d,l/d])}var Kv={__proto__:null,clipPolygon:Rd,polygonCenter:Fd,centroid:ja};function jd(n,a){if(!a||!n.length)return n.slice();var l=a*a;return n=e_(n,l),n=Jv(n,l),n}function Bd(n,a,l){return Math.sqrt(Qi(n,a,l,!0))}function Xv(n,a,l){return Qi(n,a,l)}function Jv(n,a){var l=n.length,d=typeof Uint8Array<"u"?Uint8Array:Array,h=new d(l);h[0]=h[l-1]=1,Ba(n,h,a,0,l-1);var m,v=[];for(m=0;m<l;m++)h[m]&&v.push(n[m]);return v}function Ba(n,a,l,d,h){var m=0,v,y,w;for(y=d+1;y<=h-1;y++)w=Qi(n[y],n[d],n[h],!0),w>m&&(v=y,m=w);m>l&&(a[v]=1,Ba(n,a,l,d,v),Ba(n,a,l,v,h))}function e_(n,a){for(var l=[n[0]],d=1,h=0,m=n.length;d<m;d++)t_(n[d],n[h])>a&&(l.push(n[d]),h=d);return h<m-1&&l.push(n[m-1]),l}var Vd;function Ud(n,a,l,d,h){var m=d?Vd:Tn(n,l),v=Tn(a,l),y,w,C;for(Vd=v;;){if(!(m|v))return[n,a];if(m&v)return!1;y=m||v,w=oo(n,a,y,l,h),C=Tn(w,l),y===m?(n=w,m=C):(a=w,v=C)}}function oo(n,a,l,d,h){var m=a.x-n.x,v=a.y-n.y,y=d.min,w=d.max,C,I;return l&8?(C=n.x+m*(w.y-n.y)/v,I=w.y):l&4?(C=n.x+m*(y.y-n.y)/v,I=y.y):l&2?(C=w.x,I=n.y+v*(w.x-n.x)/m):l&1&&(C=y.x,I=n.y+v*(y.x-n.x)/m),new B(C,I,h)}function Tn(n,a){var l=0;return n.x<a.min.x?l|=1:n.x>a.max.x&&(l|=2),n.y<a.min.y?l|=4:n.y>a.max.y&&(l|=8),l}function t_(n,a){var l=a.x-n.x,d=a.y-n.y;return l*l+d*d}function Qi(n,a,l,d){var h=a.x,m=a.y,v=l.x-h,y=l.y-m,w=v*v+y*y,C;return w>0&&(C=((n.x-h)*v+(n.y-m)*y)/w,C>1?(h=l.x,m=l.y):C>0&&(h+=v*C,m+=y*C)),v=n.x-h,y=n.y-m,d?v*v+y*y:new B(h,m)}function ot(n){return!G(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function Hd(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ot(n)}function zd(n,a){var l,d,h,m,v,y,w,C;if(!n||n.length===0)throw new Error("latlngs not passed");ot(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var I=q([0,0]),P=pe(n),z=P.getNorthWest().distanceTo(P.getSouthWest())*P.getNorthEast().distanceTo(P.getNorthWest());z<1700&&(I=ja(n));var Oe=n.length,Ce=[];for(l=0;l<Oe;l++){var st=q(n[l]);Ce.push(a.project(q([st.lat-I.lat,st.lng-I.lng])))}for(l=0,d=0;l<Oe-1;l++)d+=Ce[l].distanceTo(Ce[l+1])/2;if(d===0)C=Ce[0];else for(l=0,m=0;l<Oe-1;l++)if(v=Ce[l],y=Ce[l+1],h=v.distanceTo(y),m+=h,m>d){w=(m-d)/h,C=[y.x-w*(y.x-v.x),y.y-w*(y.y-v.y)];break}var He=a.unproject(O(C));return q([He.lat+I.lat,He.lng+I.lng])}var n_={__proto__:null,simplify:jd,pointToSegmentDistance:Bd,closestPointOnSegment:Xv,clipSegment:Ud,_getEdgeIntersection:oo,_getBitCode:Tn,_sqClosestPointOnSegment:Qi,isFlat:ot,_flat:Hd,polylineCenter:zd},Va={project:function(n){return new B(n.lng,n.lat)},unproject:function(n){return new ie(n.y,n.x)},bounds:new ue([-180,-90],[180,90])},Ua={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var a=Math.PI/180,l=this.R,d=n.lat*a,h=this.R_MINOR/l,m=Math.sqrt(1-h*h),v=m*Math.sin(d),y=Math.tan(Math.PI/4-d/2)/Math.pow((1-v)/(1+v),m/2);return d=-l*Math.log(Math.max(y,1e-10)),new B(n.lng*a*l,d)},unproject:function(n){for(var a=180/Math.PI,l=this.R,d=this.R_MINOR/l,h=Math.sqrt(1-d*d),m=Math.exp(-n.y/l),v=Math.PI/2-2*Math.atan(m),y=0,w=.1,C;y<15&&Math.abs(w)>1e-7;y++)C=h*Math.sin(v),C=Math.pow((1-C)/(1+C),h/2),w=Math.PI/2-2*Math.atan(m*C)-v,v+=w;return new ie(v*a,n.x*a/l)}},i_={__proto__:null,LonLat:Va,Mercator:Ua,SphericalMercator:fa},r_=o({},an,{code:"EPSG:3395",projection:Ua,transformation:function(){var n=.5/(Math.PI*Ua.R);return Ui(n,.5,-n,.5)}()}),$d=o({},an,{code:"EPSG:4326",projection:Va,transformation:Ui(1/180,1,-1/180,.5)}),o_=o({},zt,{projection:Va,transformation:Ui(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,a){var l=a.lng-n.lng,d=a.lat-n.lat;return Math.sqrt(l*l+d*d)},infinite:!0});zt.Earth=an,zt.EPSG3395=r_,zt.EPSG3857=ma,zt.EPSG900913=dv,zt.EPSG4326=$d,zt.Simple=o_;var gt=Vi.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[u(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[u(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var a=n.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var l=this.getEvents();a.on(l,this),this.once("remove",function(){a.off(l,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Y.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var a=u(n);return this._layers[a]?this:(this._layers[a]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var a=u(n);return this._layers[a]?(this._loaded&&n.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return u(n)in this._layers},eachLayer:function(n,a){for(var l in this._layers)n.call(a,this._layers[l]);return this},_addLayers:function(n){n=n?G(n)?n:[n]:[];for(var a=0,l=n.length;a<l;a++)this.addLayer(n[a])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[u(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var a=u(n);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,a=-1/0,l=this._getZoomSpan();for(var d in this._zoomBoundLayers){var h=this._zoomBoundLayers[d].options;n=h.minZoom===void 0?n:Math.min(n,h.minZoom),a=h.maxZoom===void 0?a:Math.max(a,h.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=n===1/0?void 0:n,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qn=gt.extend({initialize:function(n,a){b(this,a),this._layers={};var l,d;if(n)for(l=0,d=n.length;l<d;l++)this.addLayer(n[l])},addLayer:function(n){var a=this.getLayerId(n);return this._layers[a]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var a=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(n){var a=typeof n=="number"?n:this.getLayerId(n);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var a=Array.prototype.slice.call(arguments,1),l,d;for(l in this._layers)d=this._layers[l],d[n]&&d[n].apply(d,a);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,a){for(var l in this._layers)n.call(a,this._layers[l]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return u(n)}}),s_=function(n,a){return new Qn(n,a)},$t=Qn.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Qn.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Qn.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Ue;for(var a in this._layers){var l=this._layers[a];n.extend(l.getBounds?l.getBounds():l.getLatLng())}return n}}),a_=function(n,a){return new $t(n,a)},Kn=Ht.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){b(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,a){var l=this._getIconUrl(n);if(!l){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(l,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(n,a){var l=this.options,d=l[a+"Size"];typeof d=="number"&&(d=[d,d]);var h=O(d),m=O(a==="shadow"&&l.shadowAnchor||l.iconAnchor||h&&h.divideBy(2,!0));n.className="leaflet-marker-"+a+" "+(l.className||""),m&&(n.style.marginLeft=-m.x+"px",n.style.marginTop=-m.y+"px"),h&&(n.style.width=h.x+"px",n.style.height=h.y+"px")},_createImg:function(n,a){return a=a||document.createElement("img"),a.src=n,a},_getIconUrl:function(n){return x.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function u_(n){return new Kn(n)}var Ki=Kn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Ki.imagePath!="string"&&(Ki.imagePath=this._detectIconPath()),(this.options.imagePath||Ki.imagePath)+Kn.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var a=function(l,d,h){var m=d.exec(l);return m&&m[h]};return n=a(n,/^url\((['"])?(.+)\1\)$/,2),n&&a(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=ee("div","leaflet-default-icon-path",document.body),a=$i(n,"background-image")||$i(n,"backgroundImage");if(document.body.removeChild(n),a=this._stripUrl(a),a)return a;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Gd=Mt.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new un(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),H(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var a=this._marker,l=a._map,d=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,m=In(a._icon),v=l.getPixelBounds(),y=l.getPixelOrigin(),w=Ve(v.min._subtract(y).add(h),v.max._subtract(y).subtract(h));if(!w.contains(m)){var C=O((Math.max(w.max.x,m.x)-w.max.x)/(v.max.x-w.max.x)-(Math.min(w.min.x,m.x)-w.min.x)/(v.min.x-w.min.x),(Math.max(w.max.y,m.y)-w.max.y)/(v.max.y-w.max.y)-(Math.min(w.min.y,m.y)-w.min.y)/(v.min.y-w.min.y)).multiplyBy(d);l.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),me(a._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=Se(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(Be(this._panRequest),this._panRequest=Se(this._adjustPan.bind(this,n)))},_onDrag:function(n){var a=this._marker,l=a._shadow,d=In(a._icon),h=a._map.layerPointToLatLng(d);l&&me(l,d),a._latlng=h,n.latlng=h,n.oldLatLng=this._oldLatLng,a.fire("move",n).fire("drag",n)},_onDragEnd:function(n){Be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),so=gt.extend({options:{icon:new Ki,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,a){b(this,a),this._latlng=q(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var a=this._latlng;return this._latlng=q(n),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=n.icon.createIcon(this._icon),d=!1;l!==this._icon&&(this._icon&&this._removeIcon(),d=!0,n.title&&(l.title=n.title),l.tagName==="IMG"&&(l.alt=n.alt||"")),H(l,a),n.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&V(l,"focus",this._panOnFocus,this);var h=n.icon.createShadow(this._shadow),m=!1;h!==this._shadow&&(this._removeShadow(),m=!0),h&&(H(h,a),h.alt=""),this._shadow=h,n.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&m&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&se(this._icon,"focus",this._panOnFocus,this),le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&le(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&me(this._icon,n),this._shadow&&me(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var a=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(H(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gd)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gd(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&rt(this._icon,n),this._shadow&&rt(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var a=this.options.icon.options,l=a.iconSize?O(a.iconSize):O(0,0),d=a.iconAnchor?O(a.iconAnchor):O(0,0);n.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:l.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function l_(n,a){return new so(n,a)}var ln=gt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return b(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ao=ln.extend({options:{fill:!0,radius:10},initialize:function(n,a){b(this,a),this._latlng=q(n),this._radius=this.options.radius},setLatLng:function(n){var a=this._latlng;return this._latlng=q(n),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var a=n&&n.radius||this._radius;return ln.prototype.setStyle.call(this,n),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,a=this._radiusY||n,l=this._clickTolerance(),d=[n+l,a+l];this._pxBounds=new ue(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function c_(n,a){return new ao(n,a)}var Ha=ao.extend({initialize:function(n,a,l){if(typeof a=="number"&&(a=o({},l,{radius:a})),b(this,a),this._latlng=q(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Ue(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:ln.prototype.setStyle,_project:function(){var n=this._latlng.lng,a=this._latlng.lat,l=this._map,d=l.options.crs;if(d.distance===an.distance){var h=Math.PI/180,m=this._mRadius/an.R/h,v=l.project([a+m,n]),y=l.project([a-m,n]),w=v.add(y).divideBy(2),C=l.unproject(w).lat,I=Math.acos((Math.cos(m*h)-Math.sin(a*h)*Math.sin(C*h))/(Math.cos(a*h)*Math.cos(C*h)))/h;(isNaN(I)||I===0)&&(I=m/Math.cos(Math.PI/180*a)),this._point=w.subtract(l.getPixelOrigin()),this._radius=isNaN(I)?0:w.x-l.project([C,n-I]).x,this._radiusY=w.y-v.y}else{var P=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(P).x}this._updateBounds()}});function d_(n,a,l){return new Ha(n,a,l)}var Gt=ln.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,a){b(this,a),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var a=1/0,l=null,d=Qi,h,m,v=0,y=this._parts.length;v<y;v++)for(var w=this._parts[v],C=1,I=w.length;C<I;C++){h=w[C-1],m=w[C];var P=d(n,h,m,!0);P<a&&(a=P,l=d(n,h,m))}return l&&(l.distance=Math.sqrt(a)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,a){return a=a||this._defaultShape(),n=q(n),a.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Ue,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return ot(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var a=[],l=ot(n),d=0,h=n.length;d<h;d++)l?(a[d]=q(n[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(n[d]);return a},_project:function(){var n=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),a=new B(n,n);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(n,a,l){var d=n[0]instanceof ie,h=n.length,m,v;if(d){for(v=[],m=0;m<h;m++)v[m]=this._map.latLngToLayerPoint(n[m]),l.extend(v[m]);a.push(v)}else for(m=0;m<h;m++)this._projectLatlngs(n[m],a,l)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,l,d,h,m,v,y,w;for(l=0,h=0,m=this._rings.length;l<m;l++)for(w=this._rings[l],d=0,v=w.length;d<v-1;d++)y=Ud(w[d],w[d+1],n,d,!0),y&&(a[h]=a[h]||[],a[h].push(y[0]),(y[1]!==w[d+1]||d===v-2)&&(a[h].push(y[1]),h++))}},_simplifyPoints:function(){for(var n=this._parts,a=this.options.smoothFactor,l=0,d=n.length;l<d;l++)n[l]=jd(n[l],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,a){var l,d,h,m,v,y,w=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(l=0,m=this._parts.length;l<m;l++)for(y=this._parts[l],d=0,v=y.length,h=v-1;d<v;h=d++)if(!(!a&&d===0)&&Bd(n,y[h],y[d])<=w)return!0;return!1}});function h_(n,a){return new Gt(n,a)}Gt._flat=Hd;var Xn=Gt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var a=Gt.prototype._convertLatLngs.call(this,n),l=a.length;return l>=2&&a[0]instanceof ie&&a[0].equals(a[l-1])&&a.pop(),a},_setLatLngs:function(n){Gt.prototype._setLatLngs.call(this,n),ot(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ot(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,a=this.options.weight,l=new B(a,a);if(n=new ue(n.min.subtract(l),n.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,h=this._rings.length,m;d<h;d++)m=Rd(this._rings[d],n,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var a=!1,l,d,h,m,v,y,w,C;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(m=0,w=this._parts.length;m<w;m++)for(l=this._parts[m],v=0,C=l.length,y=C-1;v<C;y=v++)d=l[v],h=l[y],d.y>n.y!=h.y>n.y&&n.x<(h.x-d.x)*(n.y-d.y)/(h.y-d.y)+d.x&&(a=!a);return a||Gt.prototype._containsPoint.call(this,n,!0)}});function f_(n,a){return new Xn(n,a)}var Zt=$t.extend({initialize:function(n,a){b(this,a),this._layers={},n&&this.addData(n)},addData:function(n){var a=G(n)?n:n.features,l,d,h;if(a){for(l=0,d=a.length;l<d;l++)h=a[l],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var m=this.options;if(m.filter&&!m.filter(n))return this;var v=uo(n,m);return v?(v.feature=ho(n),v.defaultOptions=v.options,this.resetStyle(v),m.onEachFeature&&m.onEachFeature(n,v),this.addLayer(v)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=o({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(a){this._setLayerStyle(a,n)},this)},_setLayerStyle:function(n,a){n.setStyle&&(typeof a=="function"&&(a=a(n.feature)),n.setStyle(a))}});function uo(n,a){var l=n.type==="Feature"?n.geometry:n,d=l?l.coordinates:null,h=[],m=a&&a.pointToLayer,v=a&&a.coordsToLatLng||za,y,w,C,I;if(!d&&!l)return null;switch(l.type){case"Point":return y=v(d),Zd(m,n,y,a);case"MultiPoint":for(C=0,I=d.length;C<I;C++)y=v(d[C]),h.push(Zd(m,n,y,a));return new $t(h);case"LineString":case"MultiLineString":return w=lo(d,l.type==="LineString"?0:1,v),new Gt(w,a);case"Polygon":case"MultiPolygon":return w=lo(d,l.type==="Polygon"?1:2,v),new Xn(w,a);case"GeometryCollection":for(C=0,I=l.geometries.length;C<I;C++){var P=uo({geometry:l.geometries[C],type:"Feature",properties:n.properties},a);P&&h.push(P)}return new $t(h);case"FeatureCollection":for(C=0,I=l.features.length;C<I;C++){var z=uo(l.features[C],a);z&&h.push(z)}return new $t(h);default:throw new Error("Invalid GeoJSON object.")}}function Zd(n,a,l,d){return n?n(a,l):new so(l,d&&d.markersInheritOptions&&d)}function za(n){return new ie(n[1],n[0],n[2])}function lo(n,a,l){for(var d=[],h=0,m=n.length,v;h<m;h++)v=a?lo(n[h],a-1,l):(l||za)(n[h]),d.push(v);return d}function $a(n,a){return n=q(n),n.alt!==void 0?[g(n.lng,a),g(n.lat,a),g(n.alt,a)]:[g(n.lng,a),g(n.lat,a)]}function co(n,a,l,d){for(var h=[],m=0,v=n.length;m<v;m++)h.push(a?co(n[m],ot(n[m])?0:a-1,l,d):$a(n[m],d));return!a&&l&&h.length>0&&h.push(h[0].slice()),h}function Jn(n,a){return n.feature?o({},n.feature,{geometry:a}):ho(a)}function ho(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ga={toGeoJSON:function(n){return Jn(this,{type:"Point",coordinates:$a(this.getLatLng(),n)})}};so.include(Ga),Ha.include(Ga),ao.include(Ga),Gt.include({toGeoJSON:function(n){var a=!ot(this._latlngs),l=co(this._latlngs,a?1:0,!1,n);return Jn(this,{type:(a?"Multi":"")+"LineString",coordinates:l})}}),Xn.include({toGeoJSON:function(n){var a=!ot(this._latlngs),l=a&&!ot(this._latlngs[0]),d=co(this._latlngs,l?2:a?1:0,!0,n);return a||(d=[d]),Jn(this,{type:(l?"Multi":"")+"Polygon",coordinates:d})}}),Qn.include({toMultiPoint:function(n){var a=[];return this.eachLayer(function(l){a.push(l.toGeoJSON(n).geometry.coordinates)}),Jn(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(n){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(n);var l=a==="GeometryCollection",d=[];return this.eachLayer(function(h){if(h.toGeoJSON){var m=h.toGeoJSON(n);if(l)d.push(m.geometry);else{var v=ho(m);v.type==="FeatureCollection"?d.push.apply(d,v.features):d.push(v)}}}),l?Jn(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Wd(n,a){return new Zt(n,a)}var p_=Wd,fo=gt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,a,l){this._url=n,this._bounds=pe(a),b(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(H(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&qn(this._image),this},bringToBack:function(){return this._map&&Yn(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=pe(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",a=this._image=n?this._url:ee("img");if(H(a,"leaflet-image-layer"),this._zoomAnimated&&H(a,"leaflet-zoom-animated"),this.options.className&&H(a,this.options.className),a.onselectstart=p,a.onmousemove=p,a.onload=i(this.fire,this,"load"),a.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(n){var a=this._map.getZoomScale(n.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;En(this._image,l,a)},_reset:function(){var n=this._image,a=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=a.getSize();me(n,a.min),n.style.width=l.x+"px",n.style.height=l.y+"px"},_updateOpacity:function(){rt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),m_=function(n,a,l){return new fo(n,a,l)},qd=fo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",a=this._image=n?this._url:ee("video");if(H(a,"leaflet-image-layer"),this._zoomAnimated&&H(a,"leaflet-zoom-animated"),this.options.className&&H(a,this.options.className),a.onselectstart=p,a.onmousemove=p,a.onloadeddata=i(this.fire,this,"load"),n){for(var l=a.getElementsByTagName("source"),d=[],h=0;h<l.length;h++)d.push(l[h].src);this._url=l.length>0?d:[a.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var v=ee("source");v.src=this._url[m],a.appendChild(v)}}});function g_(n,a,l){return new qd(n,a,l)}var Yd=fo.extend({_initImage:function(){var n=this._image=this._url;H(n,"leaflet-image-layer"),this._zoomAnimated&&H(n,"leaflet-zoom-animated"),this.options.className&&H(n,this.options.className),n.onselectstart=p,n.onmousemove=p}});function v_(n,a,l){return new Yd(n,a,l)}var xt=gt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,a){n&&(n instanceof ie||G(n))?(this._latlng=q(n),b(this,a)):(b(this,n),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&rt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&rt(this._container,1),this.bringToFront(),this.options.interactive&&(H(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(rt(this._container,0),this._removeTimeout=setTimeout(i(le,void 0,this._container),200)):le(this._container),this.options.interactive&&(ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=q(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qn(this._container),this},bringToBack:function(){return this._map&&Yn(this._container),this},_prepareOpen:function(n){var a=this._source;if(!a._map)return!1;if(a instanceof $t){a=null;var l=this._source._layers;for(var d in l)if(l[d]._map){a=l[d];break}if(!a)return!1;this._source=a}if(!n)if(a.getCenter)n=a.getCenter();else if(a.getLatLng)n=a.getLatLng();else if(a.getBounds)n=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")n.innerHTML=a;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),a=O(this.options.offset),l=this._getAnchor();this._zoomAnimated?me(this._container,n.add(l)):a=a.add(n).add(l);var d=this._containerBottom=-a.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});Y.include({_initOverlay:function(n,a,l,d){var h=a;return h instanceof n||(h=new n(d).setContent(a)),l&&h.setLatLng(l),h}}),gt.include({_initOverlay:function(n,a,l,d){var h=l;return h instanceof n?(b(h,d),h._source=this):(h=a&&!d?a:new n(d,this),h.setContent(l)),h}});var po=xt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,xt.prototype.openOn.call(this,n)},onAdd:function(n){xt.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ln||this._source.on("preclick",Mn))},onRemove:function(n){xt.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ln||this._source.off("preclick",Mn))},getEvents:function(){var n=xt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",a=this._container=ee("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=ee("div",n+"-content-wrapper",a);if(this._contentNode=ee("div",n+"-content",l),qi(a),ka(this._contentNode),V(a,"contextmenu",Mn),this._tipContainer=ee("div",n+"-tip-container",a),this._tip=ee("div",n+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=ee("a",n+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',V(d,"click",function(h){Ie(h),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,a=n.style;a.width="",a.whiteSpace="nowrap";var l=n.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),a.width=l+1+"px",a.whiteSpace="",a.height="";var d=n.offsetHeight,h=this.options.maxHeight,m="leaflet-popup-scrolled";h&&d>h?(a.height=h+"px",H(n,m)):ce(n,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var a=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),l=this._getAnchor();me(this._container,a.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,a=parseInt($i(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+a,d=this._containerWidth,h=new B(this._containerLeft,-l-this._containerBottom);h._add(In(this._container));var m=n.layerPointToContainerPoint(h),v=O(this.options.autoPanPadding),y=O(this.options.autoPanPaddingTopLeft||v),w=O(this.options.autoPanPaddingBottomRight||v),C=n.getSize(),I=0,P=0;m.x+d+w.x>C.x&&(I=m.x+d-C.x+w.x),m.x-I-y.x<0&&(I=m.x-y.x),m.y+l+w.y>C.y&&(P=m.y+l-C.y+w.y),m.y-P-y.y<0&&(P=m.y-y.y),(I||P)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([I,P]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),__=function(n,a){return new po(n,a)};Y.mergeOptions({closePopupOnClick:!0}),Y.include({openPopup:function(n,a,l){return this._initOverlay(po,n,a,l).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),gt.include({bindPopup:function(n,a){return this._popup=this._initOverlay(po,this._popup,n,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof $t||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){xn(n);var a=n.layer||n.target;if(this._popup._source===a&&!(a instanceof ln)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=a,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var mo=xt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){xt.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){xt.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=xt.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",a=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ee("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var a,l,d=this._map,h=this._container,m=d.latLngToContainerPoint(d.getCenter()),v=d.layerPointToContainerPoint(n),y=this.options.direction,w=h.offsetWidth,C=h.offsetHeight,I=O(this.options.offset),P=this._getAnchor();y==="top"?(a=w/2,l=C):y==="bottom"?(a=w/2,l=0):y==="center"?(a=w/2,l=C/2):y==="right"?(a=0,l=C/2):y==="left"?(a=w,l=C/2):v.x<m.x?(y="right",a=0,l=C/2):(y="left",a=w+(I.x+P.x)*2,l=C/2),n=n.subtract(O(a,l,!0)).add(I).add(P),ce(h,"leaflet-tooltip-right"),ce(h,"leaflet-tooltip-left"),ce(h,"leaflet-tooltip-top"),ce(h,"leaflet-tooltip-bottom"),H(h,"leaflet-tooltip-"+y),me(h,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&rt(this._container,n)},_animateZoom:function(n){var a=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(a)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),y_=function(n,a){return new mo(n,a)};Y.include({openTooltip:function(n,a,l){return this._initOverlay(mo,n,a,l).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),gt.include({bindTooltip:function(n,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mo,this._tooltip,n,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var a=n?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[a](l),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof $t||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var a=typeof n.getElement=="function"&&n.getElement();a&&(V(a,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),V(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var a=typeof n.getElement=="function"&&n.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var a=n.latlng,l,d;this._tooltip.options.sticky&&n.originalEvent&&(l=this._map.mouseEventToContainerPoint(n.originalEvent),d=this._map.containerPointToLayerPoint(l),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var Qd=Kn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var a=n&&n.tagName==="DIV"?n:document.createElement("div"),l=this.options;if(l.html instanceof Element?(eo(a),a.appendChild(l.html)):a.innerHTML=l.html!==!1?l.html:"",l.bgPos){var d=O(l.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function w_(n){return new Qd(n)}Kn.Default=Ki;var Xi=gt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:x.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){b(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),le(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof B?n:new B(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var a=this.getPane().children,l=-n(-1/0,1/0),d=0,h=a.length,m;d<h;d++)m=a[d].style.zIndex,a[d]!==this._container&&m&&(l=n(l,+m));isFinite(l)&&(this.options.zIndex=l+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!x.ielt9){rt(this._container,this.options.opacity);var n=+new Date,a=!1,l=!1;for(var d in this._tiles){var h=this._tiles[d];if(!(!h.current||!h.loaded)){var m=Math.min(1,(n-h.loaded)/200);rt(h.el,m),m<1?a=!0:(h.active?l=!0:this._onOpaqueTile(h),h.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),a&&(Be(this._fadeFrame),this._fadeFrame=Se(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ee("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,a=this.options.maxZoom;if(n!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===n?(this._levels[l].el.style.zIndex=a-Math.abs(n-l),this._onUpdateLevel(l)):(le(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var d=this._levels[n],h=this._map;return d||(d=this._levels[n]={},d.el=ee("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=h.project(h.unproject(h.getPixelOrigin()),n).round(),d.zoom=n,this._setZoomTransform(d,h.getCenter(),h.getZoom()),p(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var n,a,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)a=this._tiles[n],a.retain=a.current;for(n in this._tiles)if(a=this._tiles[n],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var a in this._tiles)this._tiles[a].coords.z===n&&this._removeTile(a)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)le(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,a,l,d){var h=Math.floor(n/2),m=Math.floor(a/2),v=l-1,y=new B(+h,+m);y.z=+v;var w=this._tileCoordsToKey(y),C=this._tiles[w];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),v>d?this._retainParent(h,m,v,d):!1)},_retainChildren:function(n,a,l,d){for(var h=2*n;h<2*n+2;h++)for(var m=2*a;m<2*a+2;m++){var v=new B(h,m);v.z=l+1;var y=this._tileCoordsToKey(v),w=this._tiles[y];if(w&&w.active){w.retain=!0;continue}else w&&w.loaded&&(w.retain=!0);l+1<d&&this._retainChildren(h,m,l+1,d)}},_resetView:function(n){var a=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var a=this.options;return a.minNativeZoom!==void 0&&n<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<n?a.maxNativeZoom:n},_setView:function(n,a,l,d){var h=Math.round(a);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var m=this.options.updateWhenZooming&&h!==this._tileZoom;(!d||m)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(n),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(n,a)},_setZoomTransforms:function(n,a){for(var l in this._levels)this._setZoomTransform(this._levels[l],n,a)},_setZoomTransform:function(n,a,l){var d=this._map.getZoomScale(l,n.zoom),h=n.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,l)).round();x.any3d?En(n.el,h,d):me(n.el,h)},_resetGrid:function(){var n=this._map,a=n.options.crs,l=this._tileSize=this.getTileSize(),d=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,a.wrapLng[0]],d).x/l.x),Math.ceil(n.project([0,a.wrapLng[1]],d).x/l.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([a.wrapLat[0],0],d).y/l.x),Math.ceil(n.project([a.wrapLat[1],0],d).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var a=this._map,l=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(l,this._tileZoom),h=a.project(n,this._tileZoom).floor(),m=a.getSize().divideBy(d*2);return new ue(h.subtract(m),h.add(m))},_update:function(n){var a=this._map;if(a){var l=this._clampZoom(a.getZoom());if(n===void 0&&(n=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(n),h=this._pxBoundsToTileRange(d),m=h.getCenter(),v=[],y=this.options.keepBuffer,w=new ue(h.getBottomLeft().subtract([y,-y]),h.getTopRight().add([y,-y]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var I=this._tiles[C].coords;(I.z!==this._tileZoom||!w.contains(new B(I.x,I.y)))&&(this._tiles[C].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(n,l);return}for(var P=h.min.y;P<=h.max.y;P++)for(var z=h.min.x;z<=h.max.x;z++){var Oe=new B(z,P);if(Oe.z=this._tileZoom,!!this._isValidTile(Oe)){var Ce=this._tiles[this._tileCoordsToKey(Oe)];Ce?Ce.current=!0:v.push(Oe)}}if(v.sort(function(He,ti){return He.distanceTo(m)-ti.distanceTo(m)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var st=document.createDocumentFragment();for(z=0;z<v.length;z++)this._addTile(v[z],st);this._level.el.appendChild(st)}}}},_isValidTile:function(n){var a=this._map.options.crs;if(!a.infinite){var l=this._globalTileRange;if(!a.wrapLng&&(n.x<l.min.x||n.x>l.max.x)||!a.wrapLat&&(n.y<l.min.y||n.y>l.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(n);return pe(this.options.bounds).overlaps(d)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var a=this._map,l=this.getTileSize(),d=n.scaleBy(l),h=d.add(l),m=a.unproject(d,n.z),v=a.unproject(h,n.z);return[m,v]},_tileCoordsToBounds:function(n){var a=this._tileCoordsToNwSe(n),l=new Ue(a[0],a[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var a=n.split(":"),l=new B(+a[0],+a[1]);return l.z=+a[2],l},_removeTile:function(n){var a=this._tiles[n];a&&(le(a.el),delete this._tiles[n],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){H(n,"leaflet-tile");var a=this.getTileSize();n.style.width=a.x+"px",n.style.height=a.y+"px",n.onselectstart=p,n.onmousemove=p,x.ielt9&&this.options.opacity<1&&rt(n,this.options.opacity)},_addTile:function(n,a){var l=this._getTilePos(n),d=this._tileCoordsToKey(n),h=this.createTile(this._wrapCoords(n),i(this._tileReady,this,n));this._initTile(h),this.createTile.length<2&&Se(i(this._tileReady,this,n,null,h)),me(h,l),this._tiles[d]={el:h,coords:n,current:!0},a.appendChild(h),this.fire("tileloadstart",{tile:h,coords:n})},_tileReady:function(n,a,l){a&&this.fire("tileerror",{error:a,tile:l,coords:n});var d=this._tileCoordsToKey(n);l=this._tiles[d],l&&(l.loaded=+new Date,this._map._fadeAnimated?(rt(l.el,0),Be(this._fadeFrame),this._fadeFrame=Se(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),a||(H(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),x.ielt9||!this._map._fadeAnimated?Se(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var a=new B(this._wrapX?f(n.x,this._wrapX):n.x,this._wrapY?f(n.y,this._wrapY):n.y);return a.z=n.z,a},_pxBoundsToTileRange:function(n){var a=this.getTileSize();return new ue(n.min.unscaleBy(a).floor(),n.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function D_(n){return new Xi(n)}var ei=Xi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,a){this._url=n,a=b(this,a),a.detectRetina&&x.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,a){return this._url===n&&a===void 0&&(a=!0),this._url=n,a||this.redraw(),this},createTile:function(n,a){var l=document.createElement("img");return V(l,"load",i(this._tileOnLoad,this,a,l)),V(l,"error",i(this._tileOnError,this,a,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(n),l},getTileUrl:function(n){var a={r:x.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-n.y;this.options.tms&&(a.y=l),a["-y"]=l}return fe(this._url,o(a,this.options))},_tileOnLoad:function(n,a){x.ielt9?setTimeout(i(n,this,null,a),0):n(null,a)},_tileOnError:function(n,a,l){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),n(l,a)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,a=this.options.maxZoom,l=this.options.zoomReverse,d=this.options.zoomOffset;return l&&(n=a-n),n+d},_getSubdomain:function(n){var a=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var n,a;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(a=this._tiles[n].el,a.onload=p,a.onerror=p,!a.complete)){a.src=ye;var l=this._tiles[n].coords;le(a),delete this._tiles[n],this.fire("tileabort",{tile:a,coords:l})}},_removeTile:function(n){var a=this._tiles[n];if(a)return a.el.setAttribute("src",ye),Xi.prototype._removeTile.call(this,n)},_tileReady:function(n,a,l){if(!(!this._map||l&&l.getAttribute("src")===ye))return Xi.prototype._tileReady.call(this,n,a,l)}});function Kd(n,a){return new ei(n,a)}var Xd=ei.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,a){this._url=n;var l=o({},this.defaultWmsParams);for(var d in a)d in this.options||(l[d]=a[d]);a=b(this,a);var h=a.detectRetina&&x.retina?2:1,m=this.getTileSize();l.width=m.x*h,l.height=m.y*h,this.wmsParams=l},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,ei.prototype.onAdd.call(this,n)},getTileUrl:function(n){var a=this._tileCoordsToNwSe(n),l=this._crs,d=Ve(l.project(a[0]),l.project(a[1])),h=d.min,m=d.max,v=(this._wmsVersion>=1.3&&this._crs===$d?[h.y,h.x,m.y,m.x]:[h.x,h.y,m.x,m.y]).join(","),y=ei.prototype.getTileUrl.call(this,n);return y+R(this.wmsParams,y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(n,a){return o(this.wmsParams,n),a||this.redraw(),this}});function C_(n,a){return new Xd(n,a)}ei.WMS=Xd,Kd.wms=C_;var Wt=gt.extend({options:{padding:.1},initialize:function(n){b(this,n),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),H(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,a){var l=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,a),m=d.multiplyBy(-l).add(h).subtract(this._map._getNewPixelOrigin(n,a));x.any3d?En(this._container,m,l):me(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,a=this._map.getSize(),l=this._map.containerPointToLayerPoint(a.multiplyBy(-n)).round();this._bounds=new ue(l,l.add(a.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jd=Wt.extend({options:{tolerance:0},getEvents:function(){var n=Wt.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");V(n,"mousemove",this._onMouseMove,this),V(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),V(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){Be(this._redrawRequest),delete this._ctx,le(this._container),se(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var a in this._layers)n=this._layers[a],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wt.prototype._update.call(this);var n=this._bounds,a=this._container,l=n.getSize(),d=x.retina?2:1;me(a,n.min),a.width=d*l.x,a.height=d*l.y,a.style.width=l.x+"px",a.style.height=l.y+"px",x.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Wt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[u(n)]=n;var a=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var a=n._order,l=a.next,d=a.prev;l?l.prev=d:this._drawLast=d,d?d.next=l:this._drawFirst=l,delete n._order,delete this._layers[u(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var a=n.options.dashArray.split(/[, ]+/),l=[],d,h;for(h=0;h<a.length;h++){if(d=Number(a[h]),isNaN(d))return;l.push(d)}n.options._dashArray=l}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||Se(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var a=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(n._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(n._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var a=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,a=this._redrawBounds;if(this._ctx.save(),a){var l=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)n=d.layer,(!a||n._pxBounds&&n._pxBounds.intersects(a))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,a){if(this._drawing){var l,d,h,m,v=n._parts,y=v.length,w=this._ctx;if(y){for(w.beginPath(),l=0;l<y;l++){for(d=0,h=v[l].length;d<h;d++)m=v[l][d],w[d?"lineTo":"moveTo"](m.x,m.y);a&&w.closePath()}this._fillStroke(w,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var a=n._point,l=this._ctx,d=Math.max(Math.round(n._radius),1),h=(Math.max(Math.round(n._radiusY),1)||d)/d;h!==1&&(l.save(),l.scale(1,h)),l.beginPath(),l.arc(a.x,a.y/h,d,0,Math.PI*2,!1),h!==1&&l.restore(),this._fillStroke(l,n)}},_fillStroke:function(n,a){var l=a.options;l.fill&&(n.globalAlpha=l.fillOpacity,n.fillStyle=l.fillColor||l.color,n.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(n.setLineDash&&n.setLineDash(a.options&&a.options._dashArray||[]),n.globalAlpha=l.opacity,n.lineWidth=l.weight,n.strokeStyle=l.color,n.lineCap=l.lineCap,n.lineJoin=l.lineJoin,n.stroke())},_onClick:function(n){for(var a=this._map.mouseEventToLayerPoint(n),l,d,h=this._drawFirst;h;h=h.next)l=h.layer,l.options.interactive&&l._containsPoint(a)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(l))&&(d=l);this._fireEvent(d?[d]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,a)}},_handleMouseOut:function(n){var a=this._hoveredLayer;a&&(ce(this._container,"leaflet-interactive"),this._fireEvent([a],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,a){if(!this._mouseHoverThrottled){for(var l,d,h=this._drawFirst;h;h=h.next)l=h.layer,l.options.interactive&&l._containsPoint(a)&&(d=l);d!==this._hoveredLayer&&(this._handleMouseOut(n),d&&(H(this._container,"leaflet-interactive"),this._fireEvent([d],n,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,a,l){this._map._fireDOMEvent(a,l||a.type,n)},_bringToFront:function(n){var a=n._order;if(a){var l=a.next,d=a.prev;if(l)l.prev=d;else return;d?d.next=l:l&&(this._drawFirst=l),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(n)}},_bringToBack:function(n){var a=n._order;if(a){var l=a.next,d=a.prev;if(d)d.next=l;else return;l?l.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(n)}}});function eh(n){return x.canvas?new Jd(n):null}var Ji=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),b_={_initContainer:function(){this._container=ee("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wt.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var a=n._container=Ji("shape");H(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",n._path=Ji("path"),a.appendChild(n._path),this._updateStyle(n),this._layers[u(n)]=n},_addPath:function(n){var a=n._container;this._container.appendChild(a),n.options.interactive&&n.addInteractiveTarget(a)},_removePath:function(n){var a=n._container;le(a),n.removeInteractiveTarget(a),delete this._layers[u(n)]},_updateStyle:function(n){var a=n._stroke,l=n._fill,d=n.options,h=n._container;h.stroked=!!d.stroke,h.filled=!!d.fill,d.stroke?(a||(a=n._stroke=Ji("stroke")),h.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=G(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(h.removeChild(a),n._stroke=null),d.fill?(l||(l=n._fill=Ji("fill")),h.appendChild(l),l.color=d.fillColor||d.color,l.opacity=d.fillOpacity):l&&(h.removeChild(l),n._fill=null)},_updateCircle:function(n){var a=n._point.round(),l=Math.round(n._radius),d=Math.round(n._radiusY||l);this._setPath(n,n._empty()?"M0 0":"AL "+a.x+","+a.y+" "+l+","+d+" 0,"+65535*360)},_setPath:function(n,a){n._path.v=a},_bringToFront:function(n){qn(n._container)},_bringToBack:function(n){Yn(n._container)}},go=x.vml?Ji:rd,er=Wt.extend({_initContainer:function(){this._container=go("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=go("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){le(this._container),se(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wt.prototype._update.call(this);var n=this._bounds,a=n.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,l.setAttribute("width",a.x),l.setAttribute("height",a.y)),me(l,n.min),l.setAttribute("viewBox",[n.min.x,n.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(n){var a=n._path=go("path");n.options.className&&H(a,n.options.className),n.options.interactive&&H(a,"leaflet-interactive"),this._updateStyle(n),this._layers[u(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){le(n._path),n.removeInteractiveTarget(n._path),delete this._layers[u(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var a=n._path,l=n.options;a&&(l.stroke?(a.setAttribute("stroke",l.color),a.setAttribute("stroke-opacity",l.opacity),a.setAttribute("stroke-width",l.weight),a.setAttribute("stroke-linecap",l.lineCap),a.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?a.setAttribute("stroke-dasharray",l.dashArray):a.removeAttribute("stroke-dasharray"),l.dashOffset?a.setAttribute("stroke-dashoffset",l.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),l.fill?(a.setAttribute("fill",l.fillColor||l.color),a.setAttribute("fill-opacity",l.fillOpacity),a.setAttribute("fill-rule",l.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(n,a){this._setPath(n,od(n._parts,a))},_updateCircle:function(n){var a=n._point,l=Math.max(Math.round(n._radius),1),d=Math.max(Math.round(n._radiusY),1)||l,h="a"+l+","+d+" 0 1,0 ",m=n._empty()?"M0 0":"M"+(a.x-l)+","+a.y+h+l*2+",0 "+h+-l*2+",0 ";this._setPath(n,m)},_setPath:function(n,a){n._path.setAttribute("d",a)},_bringToFront:function(n){qn(n._path)},_bringToBack:function(n){Yn(n._path)}});x.vml&&er.include(b_);function th(n){return x.svg||x.vml?new er(n):null}Y.include({getRenderer:function(n){var a=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var a=this._paneRenderers[n];return a===void 0&&(a=this._createRenderer({pane:n}),this._paneRenderers[n]=a),a},_createRenderer:function(n){return this.options.preferCanvas&&eh(n)||th(n)}});var nh=Xn.extend({initialize:function(n,a){Xn.prototype.initialize.call(this,this._boundsToLatLngs(n),a)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=pe(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function E_(n,a){return new nh(n,a)}er.create=go,er.pointsToPath=od,Zt.geometryToLayer=uo,Zt.coordsToLatLng=za,Zt.coordsToLatLngs=lo,Zt.latLngToCoords=$a,Zt.latLngsToCoords=co,Zt.getFeature=Jn,Zt.asFeature=ho,Y.mergeOptions({boxZoom:!0});var ih=Mt.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){se(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gi(),Ma(),this._startPoint=this._map.mouseEventToContainerPoint(n),V(document,{contextmenu:xn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ee("div","leaflet-zoom-box",this._container),H(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var a=new ue(this._point,this._startPoint),l=a.getSize();me(this._box,a.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(le(this._box),ce(this._container,"leaflet-crosshair")),Zi(),xa(),se(document,{contextmenu:xn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var a=new Ue(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Y.addInitHook("addHandler","boxZoom",ih),Y.mergeOptions({doubleClickZoom:!0});var rh=Mt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var a=this._map,l=a.getZoom(),d=a.options.zoomDelta,h=n.originalEvent.shiftKey?l-d:l+d;a.options.doubleClickZoom==="center"?a.setZoom(h):a.setZoomAround(n.containerPoint,h)}});Y.addInitHook("addHandler","doubleClickZoom",rh),Y.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var oh=Mt.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new un(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}H(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ce(this._map._container,"leaflet-grab"),ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=pe(this._map.options.maxBounds);this._offsetLimit=Ve(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var a=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(a),this._prunePositions(a)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,a){return n-(n-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;n.x<a.min.x&&(n.x=this._viscousLimit(n.x,a.min.x)),n.y<a.min.y&&(n.y=this._viscousLimit(n.y,a.min.y)),n.x>a.max.x&&(n.x=this._viscousLimit(n.x,a.max.x)),n.y>a.max.y&&(n.y=this._viscousLimit(n.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,a=Math.round(n/2),l=this._initialWorldOffset,d=this._draggable._newPos.x,h=(d-a+l)%n+a-l,m=(d+a+l)%n-a-l,v=Math.abs(h+l)<Math.abs(m+l)?h:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(n){var a=this._map,l=a.options,d=!l.inertia||n.noInertia||this._times.length<2;if(a.fire("dragend",n),d)a.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,v=l.easeLinearity,y=h.multiplyBy(v/m),w=y.distanceTo([0,0]),C=Math.min(l.inertiaMaxSpeed,w),I=y.multiplyBy(C/w),P=C/(l.inertiaDeceleration*v),z=I.multiplyBy(-P/2).round();!z.x&&!z.y?a.fire("moveend"):(z=a._limitOffset(z,a.options.maxBounds),Se(function(){a.panBy(z,{duration:P,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});Y.addInitHook("addHandler","dragging",oh),Y.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sh=Mt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),V(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),se(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,a=document.documentElement,l=n.scrollTop||a.scrollTop,d=n.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var a=this._panKeys={},l=this.keyCodes,d,h;for(d=0,h=l.left.length;d<h;d++)a[l.left[d]]=[-1*n,0];for(d=0,h=l.right.length;d<h;d++)a[l.right[d]]=[n,0];for(d=0,h=l.down.length;d<h;d++)a[l.down[d]]=[0,n];for(d=0,h=l.up.length;d<h;d++)a[l.up[d]]=[0,-1*n]},_setZoomDelta:function(n){var a=this._zoomKeys={},l=this.keyCodes,d,h;for(d=0,h=l.zoomIn.length;d<h;d++)a[l.zoomIn[d]]=n;for(d=0,h=l.zoomOut.length;d<h;d++)a[l.zoomOut[d]]=-n},_addHooks:function(){V(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){se(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var a=n.keyCode,l=this._map,d;if(a in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(d=this._panKeys[a],n.shiftKey&&(d=O(d).multiplyBy(3)),l.options.maxBounds&&(d=l._limitOffset(O(d),l.options.maxBounds)),l.options.worldCopyJump){var h=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(d)));l.panTo(h)}else l.panBy(d)}else if(a in this._zoomKeys)l.setZoom(l.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;xn(n)}}});Y.addInitHook("addHandler","keyboard",sh),Y.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ah=Mt.extend({addHooks:function(){V(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){se(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var a=Pd(n),l=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var d=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),d),xn(n)},_performZoom:function(){var n=this._map,a=n.getZoom(),l=this._map.options.zoomSnap||0;n._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,m=l?Math.ceil(h/l)*l:h,v=n._limitZoom(a+(this._delta>0?m:-m))-a;this._delta=0,this._startTime=null,v&&(n.options.scrollWheelZoom==="center"?n.setZoom(a+v):n.setZoomAround(this._lastMousePos,a+v))}});Y.addInitHook("addHandler","scrollWheelZoom",ah);var I_=600;Y.mergeOptions({tapHold:x.touchNative&&x.safari&&x.mobile,tapTolerance:15});var uh=Mt.extend({addHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){se(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var a=n.touches[0];this._startPos=this._newPos=new B(a.clientX,a.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(V(document,"touchend",Ie),V(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),I_),V(document,"touchend touchcancel contextmenu",this._cancel,this),V(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){se(document,"touchend",Ie),se(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),se(document,"touchend touchcancel contextmenu",this._cancel,this),se(document,"touchmove",this._onMove,this)},_onMove:function(n){var a=n.touches[0];this._newPos=new B(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,a){var l=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});l._simulated=!0,a.target.dispatchEvent(l)}});Y.addInitHook("addHandler","tapHold",uh),Y.mergeOptions({touchZoom:x.touch,bounceAtZoomLimits:!0});var lh=Mt.extend({addHooks:function(){H(this._map._container,"leaflet-touch-zoom"),V(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ce(this._map._container,"leaflet-touch-zoom"),se(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var a=this._map;if(!(!n.touches||n.touches.length!==2||a._animatingZoom||this._zooming)){var l=a.mouseEventToContainerPoint(n.touches[0]),d=a.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(l.add(d)._divideBy(2))),this._startDist=l.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),V(document,"touchmove",this._onTouchMove,this),V(document,"touchend touchcancel",this._onTouchEnd,this),Ie(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var a=this._map,l=a.mouseEventToContainerPoint(n.touches[0]),d=a.mouseEventToContainerPoint(n.touches[1]),h=l.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(h,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&h<1||this._zoom>a.getMaxZoom()&&h>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var m=l._add(d)._divideBy(2)._subtract(this._centerPoint);if(h===1&&m.x===0&&m.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Be(this._animRequest);var v=i(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Se(v,this,!0),Ie(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Be(this._animRequest),se(document,"touchmove",this._onTouchMove,this),se(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Y.addInitHook("addHandler","touchZoom",lh),Y.BoxZoom=ih,Y.DoubleClickZoom=rh,Y.Drag=oh,Y.Keyboard=sh,Y.ScrollWheelZoom=ah,Y.TapHold=uh,Y.TouchZoom=lh,t.Bounds=ue,t.Browser=x,t.CRS=zt,t.Canvas=Jd,t.Circle=Ha,t.CircleMarker=ao,t.Class=Ht,t.Control=mt,t.DivIcon=Qd,t.DivOverlay=xt,t.DomEvent=zv,t.DomUtil=Uv,t.Draggable=un,t.Evented=Vi,t.FeatureGroup=$t,t.GeoJSON=Zt,t.GridLayer=Xi,t.Handler=Mt,t.Icon=Kn,t.ImageOverlay=fo,t.LatLng=ie,t.LatLngBounds=Ue,t.Layer=gt,t.LayerGroup=Qn,t.LineUtil=n_,t.Map=Y,t.Marker=so,t.Mixin=Qv,t.Path=ln,t.Point=B,t.PolyUtil=Kv,t.Polygon=Xn,t.Polyline=Gt,t.Popup=po,t.PosAnimation=Ad,t.Projection=i_,t.Rectangle=nh,t.Renderer=Wt,t.SVG=er,t.SVGOverlay=Yd,t.TileLayer=ei,t.Tooltip=mo,t.Transformation=pa,t.Util=lv,t.VideoOverlay=qd,t.bind=i,t.bounds=Ve,t.canvas=eh,t.circle=d_,t.circleMarker=c_,t.control=Yi,t.divIcon=w_,t.extend=o,t.featureGroup=a_,t.geoJSON=Wd,t.geoJson=p_,t.gridLayer=D_,t.icon=u_,t.imageOverlay=m_,t.latLng=q,t.latLngBounds=pe,t.layerGroup=s_,t.map=$v,t.marker=l_,t.point=O,t.polygon=f_,t.polyline=h_,t.popup=__,t.rectangle=E_,t.setOptions=b,t.stamp=u,t.svg=th,t.svgOverlay=v_,t.tileLayer=Kd,t.tooltip=y_,t.transformation=Ui,t.version=e,t.videoOverlay=g_;var M_=window.L;t.noConflict=function(){return window.L=M_,this},window.L=t})});var gh=null;var qa=1,vh=Symbol("SIGNAL");function te(t){let e=gh;return gh=t,e}var _h={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function G_(t){if(!(Ka(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===qa)){if(!t.producerMustRecompute(t)&&!Ya(t)){t.dirty=!1,t.lastCleanEpoch=qa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=qa}}function yh(t){return t&&(t.nextProducerIndex=0),te(t)}function wh(t,e){if(te(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ka(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Qa(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ya(t){_o(t);for(let e=0;e<t.producerNode.length;e++){let o=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==o.version||(G_(o),r!==o.version))return!0}return!1}function Dh(t){if(_o(t),Ka(t))for(let e=0;e<t.producerNode.length;e++)Qa(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Qa(t,e){if(Z_(t),_o(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Qa(t.producerNode[r],t.producerIndexOfThis[r]);let o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_o(i),i.producerIndexOfThis[r]=e}}function Ka(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _o(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Z_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function W_(){throw new Error}var q_=W_;function Ch(t){q_=t}function F(t){return typeof t=="function"}function ni(t){let o=t(r=>{Error.call(r),r.stack=new Error().stack});return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}var yo=ni(t=>function(o){t(this),this.message=o?`${o.length} errors occurred during unsubscription:
${o.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=o});function tr(t,e){if(t){let o=t.indexOf(e);0<=o&&t.splice(o,1)}}var we=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:o}=this;if(o)if(this._parentage=null,Array.isArray(o))for(let s of o)s.remove(this);else o.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(s){e=s instanceof yo?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{bh(s)}catch(u){e=e??[],u instanceof yo?e=[...e,...u.errors]:e.push(u)}}if(e)throw new yo(e)}}add(e){var o;if(e&&e!==this)if(this.closed)bh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(o=this._finalizers)!==null&&o!==void 0?o:[]).push(e)}}_hasParent(e){let{_parentage:o}=this;return o===e||Array.isArray(o)&&o.includes(e)}_addParent(e){let{_parentage:o}=this;this._parentage=Array.isArray(o)?(o.push(e),o):o?[o,e]:e}_removeParent(e){let{_parentage:o}=this;o===e?this._parentage=null:Array.isArray(o)&&tr(o,e)}remove(e){let{_finalizers:o}=this;o&&tr(o,e),e instanceof t&&e._removeParent(this)}};we.EMPTY=(()=>{let t=new we;return t.closed=!0,t})();var Xa=we.EMPTY;function wo(t){return t instanceof we||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function bh(t){F(t)?t():t.unsubscribe()}var vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ii={setTimeout(t,e,...o){let{delegate:r}=ii;return r?.setTimeout?r.setTimeout(t,e,...o):setTimeout(t,e,...o)},clearTimeout(t){let{delegate:e}=ii;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Do(t){ii.setTimeout(()=>{let{onUnhandledError:e}=vt;if(e)e(t);else throw t})}function nr(){}var Eh=Ja("C",void 0,void 0);function Ih(t){return Ja("E",void 0,t)}function Mh(t){return Ja("N",t,void 0)}function Ja(t,e,o){return{kind:t,value:e,error:o}}var Sn=null;function ri(t){if(vt.useDeprecatedSynchronousErrorHandling){let e=!Sn;if(e&&(Sn={errorThrown:!1,error:null}),t(),e){let{errorThrown:o,error:r}=Sn;if(Sn=null,o)throw r}}else t()}function xh(t){vt.useDeprecatedSynchronousErrorHandling&&Sn&&(Sn.errorThrown=!0,Sn.error=t)}var Ln=class extends we{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wo(e)&&e.add(this)):this.destination=K_}static create(e,o,r){return new oi(e,o,r)}next(e){this.isStopped?tu(Mh(e),this):this._next(e)}error(e){this.isStopped?tu(Ih(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tu(Eh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Y_=Function.prototype.bind;function eu(t,e){return Y_.call(t,e)}var nu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:o}=this;if(o.next)try{o.next(e)}catch(r){Co(r)}}error(e){let{partialObserver:o}=this;if(o.error)try{o.error(e)}catch(r){Co(r)}else Co(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(o){Co(o)}}},oi=class extends Ln{constructor(e,o,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:o??void 0,complete:r??void 0};else{let s;this&&vt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&eu(e.next,s),error:e.error&&eu(e.error,s),complete:e.complete&&eu(e.complete,s)}):i=e}this.destination=new nu(i)}};function Co(t){vt.useDeprecatedSynchronousErrorHandling?xh(t):Do(t)}function Q_(t){throw t}function tu(t,e){let{onStoppedNotification:o}=vt;o&&ii.setTimeout(()=>o(t,e))}var K_={closed:!0,next:nr,error:Q_,complete:nr};var si=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ye(t){return t}function iu(...t){return ru(t)}function ru(t){return t.length===0?Ye:t.length===1?t[0]:function(o){return t.reduce((r,i)=>i(r),o)}}var re=(()=>{class t{constructor(o){o&&(this._subscribe=o)}lift(o){let r=new t;return r.source=this,r.operator=o,r}subscribe(o,r,i){let s=J_(o)?o:new oi(o,r,i);return ri(()=>{let{operator:u,source:c}=this;s.add(u?u.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(o){try{return this._subscribe(o)}catch(r){o.error(r)}}forEach(o,r){return r=Th(r),new r((i,s)=>{let u=new oi({next:c=>{try{o(c)}catch(f){s(f),u.unsubscribe()}},error:s,complete:i});this.subscribe(u)})}_subscribe(o){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(o)}[si](){return this}pipe(...o){return ru(o)(this)}toPromise(o){return o=Th(o),new o((r,i)=>{let s;this.subscribe(u=>s=u,u=>i(u),()=>r(s))})}}return t.create=e=>new t(e),t})();function Th(t){var e;return(e=t??vt.Promise)!==null&&e!==void 0?e:Promise}function X_(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function J_(t){return t&&t instanceof Ln||X_(t)&&wo(t)}function ou(t){return F(t?.lift)}function Q(t){return e=>{if(ou(e))return e.lift(function(o){try{return t(o,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(t,e,o,r,i){return new su(t,e,o,r,i)}var su=class extends Ln{constructor(e,o,r,i,s,u){super(e),this.onFinalize=s,this.shouldUnsubscribe=u,this._next=o?function(c){try{o(c)}catch(f){e.error(f)}}:super._next,this._error=i?function(c){try{i(c)}catch(f){e.error(f)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:o}=this;super.unsubscribe(),!o&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ai(){return Q((t,e)=>{let o=null;t._refCount++;let r=K(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){o=null;return}let i=t._connection,s=o;o=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(o=t.connect())})}var ui=class extends re{constructor(e,o){super(),this.source=e,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,ou(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new we;let o=this.getSubject();e.add(this.source.subscribe(K(o,void 0,()=>{this._teardown(),o.complete()},r=>{this._teardown(),o.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=we.EMPTY)}return e}refCount(){return ai()(this)}};var Sh=ni(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(o){let r=new bo(this,this);return r.operator=o,r}_throwIfClosed(){if(this.closed)throw new Sh}next(o){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(o)}})}error(o){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=o;let{observers:r}=this;for(;r.length;)r.shift().error(o)}})}complete(){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:o}=this;for(;o.length;)o.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var o;return((o=this.observers)===null||o===void 0?void 0:o.length)>0}_trySubscribe(o){return this._throwIfClosed(),super._trySubscribe(o)}_subscribe(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)}_innerSubscribe(o){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Xa:(this.currentObservers=null,s.push(o),new we(()=>{this.currentObservers=null,tr(s,o)}))}_checkFinalizedStatuses(o){let{hasError:r,thrownError:i,isStopped:s}=this;r?o.error(i):s&&o.complete()}asObservable(){let o=new re;return o.source=this,o}}return t.create=(e,o)=>new bo(e,o),t})(),bo=class extends Re{constructor(e,o){super(),this.destination=e,this.source=o}next(e){var o,r;(r=(o=this.destination)===null||o===void 0?void 0:o.next)===null||r===void 0||r.call(o,e)}error(e){var o,r;(r=(o=this.destination)===null||o===void 0?void 0:o.error)===null||r===void 0||r.call(o,e)}complete(){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||o===void 0||o.call(e)}_subscribe(e){var o,r;return(r=(o=this.source)===null||o===void 0?void 0:o.subscribe(e))!==null&&r!==void 0?r:Xa}};var Me=class extends Re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let o=super._subscribe(e);return!o.closed&&e.next(this._value),o}getValue(){let{hasError:e,thrownError:o,_value:r}=this;if(e)throw o;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Qe=new re(t=>t.complete());function Lh(t){return t&&F(t.schedule)}function Ph(t){return t[t.length-1]}function Ah(t){return F(Ph(t))?t.pop():void 0}function cn(t){return Lh(Ph(t))?t.pop():void 0}function kh(t,e,o,r){function i(s){return s instanceof o?s:new o(function(u){u(s)})}return new(o||(o=Promise))(function(s,u){function c(g){try{p(r.next(g))}catch(_){u(_)}}function f(g){try{p(r.throw(g))}catch(_){u(_)}}function p(g){g.done?s(g.value):i(g.value).then(c,f)}p((r=r.apply(t,e||[])).next())})}function Nh(t){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&t[e],r=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pn(t){return this instanceof Pn?(this.v=t,this):new Pn(t)}function Oh(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=o.apply(t,e||[]),i,s=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(D){r[D]&&(i[D]=function(b){return new Promise(function(R,W){s.push([D,b,R,W])>1||c(D,b)})})}function c(D,b){try{f(r[D](b))}catch(R){_(s[0][3],R)}}function f(D){D.value instanceof Pn?Promise.resolve(D.value.v).then(p,g):_(s[0][2],D)}function p(D){c("next",D)}function g(D){c("throw",D)}function _(D,b){D(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Rh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],o;return e?e.call(t):(t=typeof Nh=="function"?Nh(t):t[Symbol.iterator](),o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o);function r(s){o[s]=t[s]&&function(u){return new Promise(function(c,f){u=t[s](u),i(c,f,u.done,u.value)})}}function i(s,u,c,f){Promise.resolve(f).then(function(p){s({value:p,done:c})},u)}}var Eo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Io(t){return F(t?.then)}function Mo(t){return F(t[si])}function xo(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function To(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ey(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var So=ey();function Lo(t){return F(t?.[So])}function Po(t){return Oh(this,arguments,function*(){let o=t.getReader();try{for(;;){let{value:r,done:i}=yield Pn(o.read());if(i)return yield Pn(void 0);yield yield Pn(r)}}finally{o.releaseLock()}})}function Ao(t){return F(t?.getReader)}function be(t){if(t instanceof re)return t;if(t!=null){if(Mo(t))return ty(t);if(Eo(t))return ny(t);if(Io(t))return iy(t);if(xo(t))return Fh(t);if(Lo(t))return ry(t);if(Ao(t))return oy(t)}throw To(t)}function ty(t){return new re(e=>{let o=t[si]();if(F(o.subscribe))return o.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ny(t){return new re(e=>{for(let o=0;o<t.length&&!e.closed;o++)e.next(t[o]);e.complete()})}function iy(t){return new re(e=>{t.then(o=>{e.closed||(e.next(o),e.complete())},o=>e.error(o)).then(null,Do)})}function ry(t){return new re(e=>{for(let o of t)if(e.next(o),e.closed)return;e.complete()})}function Fh(t){return new re(e=>{sy(t,e).catch(o=>e.error(o))})}function oy(t){return Fh(Po(t))}function sy(t,e){var o,r,i,s;return kh(this,void 0,void 0,function*(){try{for(o=Rh(t);r=yield o.next(),!r.done;){let u=r.value;if(e.next(u),e.closed)return}}catch(u){i={error:u}}finally{try{r&&!r.done&&(s=o.return)&&(yield s.call(o))}finally{if(i)throw i.error}}e.complete()})}function ze(t,e,o,r=0,i=!1){let s=e.schedule(function(){o(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function No(t,e=0){return Q((o,r)=>{o.subscribe(K(r,i=>ze(r,t,()=>r.next(i),e),()=>ze(r,t,()=>r.complete(),e),i=>ze(r,t,()=>r.error(i),e)))})}function ko(t,e=0){return Q((o,r)=>{r.add(t.schedule(()=>o.subscribe(r),e))})}function jh(t,e){return be(t).pipe(ko(e),No(e))}function Bh(t,e){return be(t).pipe(ko(e),No(e))}function Vh(t,e){return new re(o=>{let r=0;return e.schedule(function(){r===t.length?o.complete():(o.next(t[r++]),o.closed||this.schedule())})})}function Uh(t,e){return new re(o=>{let r;return ze(o,e,()=>{r=t[So](),ze(o,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(u){o.error(u);return}s?o.complete():o.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function Oo(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(o=>{ze(o,e,()=>{let r=t[Symbol.asyncIterator]();ze(o,e,()=>{r.next().then(i=>{i.done?o.complete():o.next(i.value)})},0,!0)})})}function Hh(t,e){return Oo(Po(t),e)}function zh(t,e){if(t!=null){if(Mo(t))return jh(t,e);if(Eo(t))return Vh(t,e);if(Io(t))return Bh(t,e);if(xo(t))return Oo(t,e);if(Lo(t))return Uh(t,e);if(Ao(t))return Hh(t,e)}throw To(t)}function de(t,e){return e?zh(t,e):be(t)}function N(...t){let e=cn(t);return de(t,e)}function li(t,e){let o=F(t)?t:()=>t,r=i=>i.error(o());return new re(e?i=>e.schedule(r,0,i):r)}function au(t){return!!t&&(t instanceof re||F(t.lift)&&F(t.subscribe))}var qt=ni(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function X(t,e){return Q((o,r)=>{let i=0;o.subscribe(K(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:ay}=Array;function uy(t,e){return ay(e)?t(...e):t(e)}function $h(t){return X(e=>uy(t,e))}var{isArray:ly}=Array,{getPrototypeOf:cy,prototype:dy,keys:hy}=Object;function Gh(t){if(t.length===1){let e=t[0];if(ly(e))return{args:e,keys:null};if(fy(e)){let o=hy(e);return{args:o.map(r=>e[r]),keys:o}}}return{args:t,keys:null}}function fy(t){return t&&typeof t=="object"&&cy(t)===dy}function Zh(t,e){return t.reduce((o,r,i)=>(o[r]=e[i],o),{})}function ir(...t){let e=cn(t),o=Ah(t),{args:r,keys:i}=Gh(t);if(r.length===0)return de([],e);let s=new re(py(r,e,i?u=>Zh(i,u):Ye));return o?s.pipe($h(o)):s}function py(t,e,o=Ye){return r=>{Wh(e,()=>{let{length:i}=t,s=new Array(i),u=i,c=i;for(let f=0;f<i;f++)Wh(e,()=>{let p=de(t[f],e),g=!1;p.subscribe(K(r,_=>{s[f]=_,g||(g=!0,c--),c||r.next(o(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}function Wh(t,e,o){t?ze(o,t,e):e()}function qh(t,e,o,r,i,s,u,c){let f=[],p=0,g=0,_=!1,D=()=>{_&&!f.length&&!p&&e.complete()},b=W=>p<r?R(W):f.push(W),R=W=>{s&&e.next(W),p++;let fe=!1;be(o(W,g++)).subscribe(K(e,G=>{i?.(G),s?b(G):e.next(G)},()=>{fe=!0},void 0,()=>{if(fe)try{for(p--;f.length&&p<r;){let G=f.shift();u?ze(e,u,()=>R(G)):R(G)}D()}catch(G){e.error(G)}}))};return t.subscribe(K(e,b,()=>{_=!0,D()})),()=>{c?.()}}function _e(t,e,o=1/0){return F(e)?_e((r,i)=>X((s,u)=>e(r,s,i,u))(be(t(r,i))),o):(typeof e=="number"&&(o=e),Q((r,i)=>qh(r,i,t,o)))}function ci(t=1/0){return _e(Ye,t)}function Yh(){return ci(1)}function di(...t){return Yh()(de(t,cn(t)))}function Ro(t){return new re(e=>{be(t()).subscribe(e)})}function at(t,e){return Q((o,r)=>{let i=0;o.subscribe(K(r,s=>t.call(e,s,i++)&&r.next(s)))})}function dn(t){return Q((e,o)=>{let r=null,i=!1,s;r=e.subscribe(K(o,void 0,void 0,u=>{s=be(t(u,dn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(o)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(o))})}function Qh(t,e,o,r,i){return(s,u)=>{let c=o,f=e,p=0;s.subscribe(K(u,g=>{let _=p++;f=c?t(f,g,_):(c=!0,g),r&&u.next(f)},i&&(()=>{c&&u.next(f),u.complete()})))}}function An(t,e){return F(e)?_e(t,e,1):_e(t,1)}function hn(t){return Q((e,o)=>{let r=!1;e.subscribe(K(o,i=>{r=!0,o.next(i)},()=>{r||o.next(t),o.complete()}))})}function Yt(t){return t<=0?()=>Qe:Q((e,o)=>{let r=0;e.subscribe(K(o,i=>{++r<=t&&(o.next(i),t<=r&&o.complete())}))})}function uu(t){return X(()=>t)}function Fo(t=my){return Q((e,o)=>{let r=!1;e.subscribe(K(o,i=>{r=!0,o.next(i)},()=>r?o.complete():o.error(t())))})}function my(){return new qt}function rr(t){return Q((e,o)=>{try{e.subscribe(o)}finally{o.add(t)}})}function Tt(t,e){let o=arguments.length>=2;return r=>r.pipe(t?at((i,s)=>t(i,s,r)):Ye,Yt(1),o?hn(e):Fo(()=>new qt))}function hi(t){return t<=0?()=>Qe:Q((e,o)=>{let r=[];e.subscribe(K(o,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)o.next(i);o.complete()},void 0,()=>{r=null}))})}function lu(t,e){let o=arguments.length>=2;return r=>r.pipe(t?at((i,s)=>t(i,s,r)):Ye,hi(1),o?hn(e):Fo(()=>new qt))}function cu(t,e){return Q(Qh(t,e,arguments.length>=2,!0))}function du(...t){let e=cn(t);return Q((o,r)=>{(e?di(t,o,e):di(t,o)).subscribe(r)})}function ut(t,e){return Q((o,r)=>{let i=null,s=0,u=!1,c=()=>u&&!i&&r.complete();o.subscribe(K(r,f=>{i?.unsubscribe();let p=0,g=s++;be(t(f,g)).subscribe(i=K(r,_=>r.next(e?e(f,_,g,p++):_),()=>{i=null,c()}))},()=>{u=!0,c()}))})}function hu(t){return Q((e,o)=>{be(t).subscribe(K(o,()=>o.complete(),nr)),!o.closed&&e.subscribe(o)})}function xe(t,e,o){let r=F(t)||e||o?{next:t,error:e,complete:o}:t;return r?Q((i,s)=>{var u;(u=r.subscribe)===null||u===void 0||u.call(r);let c=!0;i.subscribe(K(s,f=>{var p;(p=r.next)===null||p===void 0||p.call(r,f),s.next(f)},()=>{var f;c=!1,(f=r.complete)===null||f===void 0||f.call(r),s.complete()},f=>{var p;c=!1,(p=r.error)===null||p===void 0||p.call(r,f),s.error(f)},()=>{var f,p;c&&((f=r.unsubscribe)===null||f===void 0||f.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):Ye}var T=class extends Error{constructor(e,o){super(rl(e,o)),this.code=e}};function rl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function _r(t){return{toString:t}.toString()}var jo="__parameters__";function gy(t){return function(...o){if(t){let r=t(...o);for(let i in r)this[i]=r[i]}}}function kf(t,e,o){return _r(()=>{let r=gy(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let u=new i(...s);return c.annotation=u,c;function c(f,p,g){let _=f.hasOwnProperty(jo)?f[jo]:Object.defineProperty(f,jo,{value:[]})[jo];for(;_.length<=g;)_.push(null);return(_[g]=_[g]||[]).push(u),f}}return o&&(i.prototype=Object.create(o.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ke=globalThis;function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function $e(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map($e).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let o=e.indexOf(`
`);return o===-1?e:e.substring(0,o)}function Kh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var vy=oe({__forward_ref__:oe});function Of(t){return t.__forward_ref__=Of,t.toString=function(){return $e(this())},t}function ct(t){return Rf(t)?t():t}function Rf(t){return typeof t=="function"&&t.hasOwnProperty(vy)&&t.__forward_ref__===Of}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Je(t){return{providers:t.providers||[],imports:t.imports||[]}}function ds(t){return Xh(t,jf)||Xh(t,Bf)}function Ff(t){return ds(t)!==null}function Xh(t,e){return t.hasOwnProperty(e)?t[e]:null}function _y(t){let e=t&&(t[jf]||t[Bf]);return e||null}function Jh(t){return t&&(t.hasOwnProperty(ef)||t.hasOwnProperty(yy))?t[ef]:null}var jf=oe({\u0275prov:oe}),ef=oe({\u0275inj:oe}),Bf=oe({ngInjectableDef:oe}),yy=oe({ngInjectorDef:oe}),j=class{constructor(e,o){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof o=="number"?this.__NG_ELEMENT_ID__=o:o!==void 0&&(this.\u0275prov=S({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vf(t){return t&&!!t.\u0275providers}var wy=oe({\u0275cmp:oe}),Dy=oe({\u0275dir:oe}),Cy=oe({\u0275pipe:oe}),by=oe({\u0275mod:oe}),Go=oe({\u0275fac:oe}),or=oe({__NG_ELEMENT_ID__:oe}),tf=oe({__NG_ENV_ID__:oe});function Uf(t){return typeof t=="string"?t:t==null?"":String(t)}function Ey(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Uf(t)}function Iy(t,e){let o=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,t)}function ol(t,e){throw new T(-201,!1)}var $=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{}),Cu;function Hf(){return Cu}function lt(t){let e=Cu;return Cu=t,e}function zf(t,e,o){let r=ds(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(o&$.Optional)return null;if(e!==void 0)return e;ol(t,"Injector")}var My={},ar=My,bu="__NG_DI_FLAG__",Zo="ngTempTokenPath",xy="ngTokenPath",Ty=/\n/gm,Sy="\u0275",nf="__source",vi;function Ly(){return vi}function fn(t){let e=vi;return vi=t,e}function Py(t,e=$.Default){if(vi===void 0)throw new T(-203,!1);return vi===null?zf(t,void 0,e):vi.get(t,e&$.Optional?null:void 0,e)}function A(t,e=$.Default){return(Hf()||Py)(ct(t),e)}function E(t,e=$.Default){return A(t,hs(e))}function hs(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Eu(t){let e=[];for(let o=0;o<t.length;o++){let r=ct(t[o]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let i,s=$.Default;for(let u=0;u<r.length;u++){let c=r[u],f=Ay(c);typeof f=="number"?f===-1?i=c.token:s|=f:i=c}e.push(A(i,s))}else e.push(A(r))}return e}function $f(t,e){return t[bu]=e,t.prototype[bu]=e,t}function Ay(t){return t[bu]}function Ny(t,e,o,r){let i=t[Zo];throw e[nf]&&i.unshift(e[nf]),t.message=ky(`
`+t.message,i,o,r),t[xy]=i,t[Zo]=null,t}function ky(t,e,o,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Sy?t.slice(2):t;let i=$e(e);if(Array.isArray(e))i=e.map($e).join(" -> ");else if(typeof e=="object"){let s=[];for(let u in e)if(e.hasOwnProperty(u)){let c=e[u];s.push(u+":"+(typeof c=="string"?JSON.stringify(c):$e(c)))}i=`{${s.join(", ")}}`}return`${o}${r?"("+r+")":""}[${i}]: ${t.replace(Ty,`
  `)}`}var fs=$f(kf("Optional"),8);var sl=$f(kf("SkipSelf"),4);function yi(t,e){let o=t.hasOwnProperty(Go);return o?t[Go]:null}function al(t,e){t.forEach(o=>Array.isArray(o)?al(o,e):e(o))}function Gf(t,e,o){e>=t.length?t.push(o):t.splice(e,0,o)}function Wo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var ur={},St=[],wi=new j(""),Zf=new j("",-1),Wf=new j(""),qo=class{get(e,o=ar){if(o===ar){let r=new Error(`NullInjectorError: No provider for ${$e(e)}!`);throw r.name="NullInjectorError",r}return o}},qf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qf||{}),At=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(At||{}),Qt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Qt||{});function Oy(t,e,o){let r=t.length;for(;;){let i=t.indexOf(e,o);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}o=i+1}}function Iu(t,e,o){let r=0;for(;r<o.length;){let i=o[r];if(typeof i=="number"){if(i!==0)break;r++;let s=o[r++],u=o[r++],c=o[r++];t.setAttribute(e,u,c,s)}else{let s=i,u=o[++r];Fy(s)?t.setProperty(e,s,u):t.setAttribute(e,s,u),r++}}return r}function Ry(t){return t===3||t===4||t===6}function Fy(t){return t.charCodeAt(0)===64}function ul(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let o=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?o=i:o===0||(o===-1||o===2?rf(t,o,i,null,e[++r]):rf(t,o,i,null,null))}}return t}function rf(t,e,o,r,i){let s=0,u=t.length;if(e===-1)u=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){u=-1;break}else if(c>e){u=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===o){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}u!==-1&&(t.splice(u,0,e),s=u+1),t.splice(s++,0,o),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Yf="ng-template";function jy(t,e,o,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Oy(e[i+1].toLowerCase(),o,0)!==-1)return!0}else if(ll(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===o)return!0}return!1}function ll(t){return t.type===4&&t.value!==Yf}function By(t,e,o){let r=t.type===4&&!o?Yf:t.value;return e===r}function Vy(t,e,o){let r=4,i=t.attrs,s=i!==null?zy(i):0,u=!1;for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="number"){if(!u&&!_t(r)&&!_t(f))return!1;if(u&&_t(f))continue;u=!1,r=f|r&1;continue}if(!u)if(r&4){if(r=2|r&1,f!==""&&!By(t,f,o)||f===""&&e.length===1){if(_t(r))return!1;u=!0}}else if(r&8){if(i===null||!jy(t,i,f,o)){if(_t(r))return!1;u=!0}}else{let p=e[++c],g=Uy(f,i,ll(t),o);if(g===-1){if(_t(r))return!1;u=!0;continue}if(p!==""){let _;if(g>s?_="":_=i[g+1].toLowerCase(),r&2&&p!==_){if(_t(r))return!1;u=!0}}}}return _t(r)||u}function _t(t){return(t&1)===0}function Uy(t,e,o,r){if(e===null)return-1;let i=0;if(r||!o){let s=!1;for(;i<e.length;){let u=e[i];if(u===t)return i;if(u===3||u===6)s=!0;else if(u===1||u===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(u===4)break;if(u===0){i+=4;continue}}i+=s?1:2}return-1}else return $y(e,t)}function Hy(t,e,o=!1){for(let r=0;r<e.length;r++)if(Vy(t,e[r],o))return!0;return!1}function zy(t){for(let e=0;e<t.length;e++){let o=t[e];if(Ry(o))return e}return t.length}function $y(t,e){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){let r=t[o];if(typeof r=="number")return-1;if(r===e)return o;o++}return-1}function of(t,e){return t?":not("+e.trim()+")":e}function Gy(t){let e=t[0],o=1,r=2,i="",s=!1;for(;o<t.length;){let u=t[o];if(typeof u=="string")if(r&2){let c=t[++o];i+="["+u+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+u:r&4&&(i+=" "+u);else i!==""&&!_t(u)&&(e+=of(s,i),i=""),r=u,s=s||!_t(r);o++}return i!==""&&(e+=of(s,i)),e}function Zy(t){return t.map(Gy).join(",")}function Wy(t){let e=[],o=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&o.push(s);else{if(!_t(i))break;i=s}r++}return{attrs:e,classes:o}}function Ae(t){return _r(()=>{let e=ep(t),o=ve(M({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,styles:t.styles||St,_:null,schemas:t.schemas||null,tView:null,id:""});tp(o);let r=t.dependencies;return o.directiveDefs=af(r,!1),o.pipeDefs=af(r,!0),o.id=Qy(o),o})}function qy(t){return mn(t)||Qf(t)}function Yy(t){return t!==null}function et(t){return _r(()=>({type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function sf(t,e){if(t==null)return ur;let o={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,u,c=Qt.None;Array.isArray(i)?(c=i[0],s=i[1],u=i[2]??s):(s=i,u=i),e?(o[s]=c!==Qt.None?[r,c]:r,e[s]=u):o[s]=r}return o}function Ii(t){return _r(()=>{let e=ep(t);return tp(e),e})}function mn(t){return t[wy]||null}function Qf(t){return t[Dy]||null}function Kf(t){return t[Cy]||null}function Xf(t){let e=mn(t)||Qf(t)||Kf(t);return e!==null?e.standalone:!1}function Jf(t,e){let o=t[by]||null;if(!o&&e===!0)throw new Error(`Type ${$e(t)} does not have '\u0275mod' property.`);return o}function ep(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ur,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sf(t.inputs,e),outputs:sf(t.outputs),debugInfo:null}}function tp(t){t.features?.forEach(e=>e(t))}function af(t,e){if(!t)return null;let o=e?Kf:qy;return()=>(typeof t=="function"?t():t).map(r=>o(r)).filter(Yy)}function Qy(t){let e=0,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of o)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ky(...t){return{\u0275providers:np(!0,t),\u0275fromNgModule:!0}}function np(t,...e){let o=[],r=new Set,i,s=u=>{o.push(u)};return al(e,u=>{let c=u;Mu(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&ip(i,s),o}function ip(t,e){for(let o=0;o<t.length;o++){let{ngModule:r,providers:i}=t[o];cl(i,s=>{e(s,r)})}}function Mu(t,e,o,r){if(t=ct(t),!t)return!1;let i=null,s=Jh(t),u=!s&&mn(t);if(!s&&!u){let f=t.ngModule;if(s=Jh(f),s)i=f;else return!1}else{if(u&&!u.standalone)return!1;i=t}let c=r.has(i);if(u){if(c)return!1;if(r.add(i),u.dependencies){let f=typeof u.dependencies=="function"?u.dependencies():u.dependencies;for(let p of f)Mu(p,e,o,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let p;try{al(s.imports,g=>{Mu(g,e,o,r)&&(p||=[],p.push(g))})}finally{}p!==void 0&&ip(p,e)}if(!c){let p=yi(i)||(()=>new i);e({provide:i,useFactory:p,deps:St},i),e({provide:Wf,useValue:i,multi:!0},i),e({provide:wi,useValue:()=>A(i),multi:!0},i)}let f=s.providers;if(f!=null&&!c){let p=t;cl(f,g=>{e(g,p)})}}else return!1;return i!==t&&t.providers!==void 0}function cl(t,e){for(let o of t)Vf(o)&&(o=o.\u0275providers),Array.isArray(o)?cl(o,e):e(o)}var Xy=oe({provide:String,useValue:oe});function rp(t){return t!==null&&typeof t=="object"&&Xy in t}function Jy(t){return!!(t&&t.useExisting)}function ew(t){return!!(t&&t.useFactory)}function xu(t){return typeof t=="function"}var ps=new j(""),Vo={},tw={},fu;function dl(){return fu===void 0&&(fu=new qo),fu}var Xe=class{},lr=class extends Xe{get destroyed(){return this._destroyed}constructor(e,o,r,i){super(),this.parent=o,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Su(e,u=>this.processProvider(u)),this.records.set(Zf,fi(void 0,this)),i.has("environment")&&this.records.set(Xe,fi(void 0,this));let s=this.records.get(ps);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Wf,St,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let o=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of o)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),te(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let o=fn(this),r=lt(void 0),i;try{return e()}finally{fn(o),lt(r)}}get(e,o=ar,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tf))return e[tf](this);r=hs(r);let i,s=fn(this),u=lt(void 0);try{if(!(r&$.SkipSelf)){let f=this.records.get(e);if(f===void 0){let p=aw(e)&&ds(e);p&&this.injectableDefInScope(p)?f=fi(Tu(e),Vo):f=null,this.records.set(e,f)}if(f!=null)return this.hydrate(e,f)}let c=r&$.Self?dl():this.parent;return o=r&$.Optional&&o===ar?null:o,c.get(e,o)}catch(c){if(c.name==="NullInjectorError"){if((c[Zo]=c[Zo]||[]).unshift($e(e)),s)throw c;return Ny(c,e,"R3InjectorError",this.source)}else throw c}finally{lt(u),fn(s)}}resolveInjectorInitializers(){let e=te(null),o=fn(this),r=lt(void 0),i;try{let s=this.get(wi,St,$.Self);for(let u of s)u()}finally{fn(o),lt(r),te(e)}}toString(){let e=[],o=this.records;for(let r of o.keys())e.push($e(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){e=ct(e);let o=xu(e)?e:ct(e&&e.provide),r=iw(e);if(!xu(e)&&e.multi===!0){let i=this.records.get(o);i||(i=fi(void 0,Vo,!0),i.factory=()=>Eu(i.multi),this.records.set(o,i)),o=e,i.multi.push(e)}this.records.set(o,r)}hydrate(e,o){let r=te(null);try{return o.value===Vo&&(o.value=tw,o.value=o.factory()),typeof o.value=="object"&&o.value&&sw(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{te(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let o=ct(e.providedIn);return typeof o=="string"?o==="any"||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(e){let o=this._onDestroyHooks.indexOf(e);o!==-1&&this._onDestroyHooks.splice(o,1)}};function Tu(t){let e=ds(t),o=e!==null?e.factory:yi(t);if(o!==null)return o;if(t instanceof j)throw new T(204,!1);if(t instanceof Function)return nw(t);throw new T(204,!1)}function nw(t){if(t.length>0)throw new T(204,!1);let o=_y(t);return o!==null?()=>o.factory(t):()=>new t}function iw(t){if(rp(t))return fi(void 0,t.useValue);{let e=rw(t);return fi(e,Vo)}}function rw(t,e,o){let r;if(xu(t)){let i=ct(t);return yi(i)||Tu(i)}else if(rp(t))r=()=>ct(t.useValue);else if(ew(t))r=()=>t.useFactory(...Eu(t.deps||[]));else if(Jy(t))r=()=>A(ct(t.useExisting));else{let i=ct(t&&(t.useClass||t.provide));if(ow(t))r=()=>new i(...Eu(t.deps));else return yi(i)||Tu(i)}return r}function fi(t,e,o=!1){return{factory:t,value:e,multi:o?[]:void 0}}function ow(t){return!!t.deps}function sw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function aw(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function Su(t,e){for(let o of t)Array.isArray(o)?Su(o,e):o&&Vf(o)?Su(o.\u0275providers,e):e(o)}function Xt(t,e){t instanceof lr&&t.assertNotDestroyed();let o,r=fn(t),i=lt(void 0);try{return e()}finally{fn(r),lt(i)}}function op(){return Hf()!==void 0||Ly()!=null}function uw(t){if(!op())throw new T(-203,!1)}function lw(t){let e=Ke.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function cw(t){return typeof t=="function"}var Jt=0,J=1,k=2,Le=3,yt=4,Dt=5,Yo=6,cr=7,wt=8,Di=9,Nt=10,Pe=11,dr=12,uf=13,Mi=14,kt=15,ms=16,pi=17,Ci=18,gs=19,sp=20,pn=21,pu=22,On=23,Kt=25,ap=1;var Rn=7,Qo=8,Ko=9,dt=10,hl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(hl||{});function Nn(t){return Array.isArray(t)&&typeof t[ap]=="object"}function en(t){return Array.isArray(t)&&t[ap]===!0}function fl(t){return(t.flags&4)!==0}function vs(t){return t.componentOffset>-1}function _s(t){return(t.flags&1)===1}function yr(t){return!!t.template}function dw(t){return(t[k]&512)!==0}var Lu=class{constructor(e,o,r){this.previousValue=e,this.currentValue=o,this.firstChange=r}isFirstChange(){return this.firstChange}};function up(t,e,o,r){e!==null?e.applyValueToInputSignal(e,r):t[o]=r}function ys(){return lp}function lp(t){return t.type.prototype.ngOnChanges&&(t.setInput=fw),hw}ys.ngInherit=!0;function hw(){let t=dp(this),e=t?.current;if(e){let o=t.previous;if(o===ur)t.previous=e;else for(let r in e)o[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fw(t,e,o,r,i){let s=this.declaredInputs[r],u=dp(t)||pw(t,{previous:ur,current:null}),c=u.current||(u.current={}),f=u.previous,p=f[s];c[s]=new Lu(p&&p.currentValue,o,f===ur),up(t,e,i,o)}var cp="__ngSimpleChanges__";function dp(t){return t[cp]||null}function pw(t,e){return t[cp]=e}var lf=null;var Lt=function(t,e,o){lf?.(t,e,o)},hp="svg",mw="math",gw=!1;function vw(){return gw}function Ot(t){for(;Array.isArray(t);)t=t[Jt];return t}function _w(t,e){return Ot(e[t])}function Ct(t,e){return Ot(e[t.index])}function fp(t,e){return t.data[e]}function _n(t,e){let o=e[t];return Nn(o)?o:o[Jt]}function pl(t){return(t[k]&128)===128}function yw(t){return en(t[Le])}function bi(t,e){return e==null?null:t[e]}function pp(t){t[pi]=0}function ww(t){t[k]&1024||(t[k]|=1024,pl(t)&&hr(t))}function Dw(t,e){for(;t>0;)e=e[Mi],t--;return e}function ml(t){return!!(t[k]&9216||t[On]?.dirty)}function Pu(t){t[Nt].changeDetectionScheduler?.notify(1),ml(t)?hr(t):t[k]&64&&(vw()?(t[k]|=1024,hr(t)):t[Nt].changeDetectionScheduler?.notify())}function hr(t){t[Nt].changeDetectionScheduler?.notify();let e=fr(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!pl(e)));)e=fr(e)}function mp(t,e){if((t[k]&256)===256)throw new T(911,!1);t[pn]===null&&(t[pn]=[]),t[pn].push(e)}function Cw(t,e){if(t[pn]===null)return;let o=t[pn].indexOf(e);o!==-1&&t[pn].splice(o,1)}function fr(t){let e=t[Le];return en(e)?e[Le]:e}var Z={lFrame:Ip(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bw(){return Z.lFrame.elementDepthCount}function Ew(){Z.lFrame.elementDepthCount++}function Iw(){Z.lFrame.elementDepthCount--}function gp(){return Z.bindingsEnabled}function Mw(){return Z.skipHydrationRootTNode!==null}function xw(t){return Z.skipHydrationRootTNode===t}function Tw(){Z.skipHydrationRootTNode=null}function he(){return Z.lFrame.lView}function tn(){return Z.lFrame.tView}function vp(t){return Z.lFrame.contextLView=t,t[wt]}function _p(t){return Z.lFrame.contextLView=null,t}function ht(){let t=yp();for(;t!==null&&t.type===64;)t=t.parent;return t}function yp(){return Z.lFrame.currentTNode}function Sw(){let t=Z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Bn(t,e){let o=Z.lFrame;o.currentTNode=t,o.isParent=e}function gl(){return Z.lFrame.isParent}function wp(){Z.lFrame.isParent=!1}function Lw(){let t=Z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Pw(t){return Z.lFrame.bindingIndex=t}function Dp(){return Z.lFrame.bindingIndex++}function Aw(){return Z.lFrame.inI18n}function Nw(t,e){let o=Z.lFrame;o.bindingIndex=o.bindingRootIndex=t,Au(e)}function kw(){return Z.lFrame.currentDirectiveIndex}function Au(t){Z.lFrame.currentDirectiveIndex=t}function Cp(t){Z.lFrame.currentQueryIndex=t}function Ow(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[Dt]:null}function bp(t,e,o){if(o&$.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(o&$.Host);)if(i=Ow(s),i===null||(s=s[Mi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Z.lFrame=Ep();return r.currentTNode=e,r.lView=t,!0}function vl(t){let e=Ep(),o=t[J];Z.lFrame=e,e.currentTNode=o.firstChild,e.lView=t,e.tView=o,e.contextLView=t,e.bindingIndex=o.bindingStartIndex,e.inI18n=!1}function Ep(){let t=Z.lFrame,e=t===null?null:t.child;return e===null?Ip(t):e}function Ip(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Mp(){let t=Z.lFrame;return Z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var xp=Mp;function _l(){let t=Mp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rw(t){return(Z.lFrame.contextLView=Dw(t,Z.lFrame.contextLView))[wt]}function yl(){return Z.lFrame.selectedIndex}function Fn(t){Z.lFrame.selectedIndex=t}function Fw(){let t=Z.lFrame;return fp(t.tView,t.selectedIndex)}function wl(){Z.lFrame.currentNamespace=hp}function jw(){return Z.lFrame.currentNamespace}var Tp=!0;function ws(){return Tp}function Ds(t){Tp=t}function Bw(t,e,o){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let u=lp(e);(o.preOrderHooks??=[]).push(t,u),(o.preOrderCheckHooks??=[]).push(t,u)}i&&(o.preOrderHooks??=[]).push(0-t,i),s&&((o.preOrderHooks??=[]).push(t,s),(o.preOrderCheckHooks??=[]).push(t,s))}function Cs(t,e){for(let o=e.directiveStart,r=e.directiveEnd;o<r;o++){let s=t.data[o].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:c,ngAfterViewInit:f,ngAfterViewChecked:p,ngOnDestroy:g}=s;u&&(t.contentHooks??=[]).push(-o,u),c&&((t.contentHooks??=[]).push(o,c),(t.contentCheckHooks??=[]).push(o,c)),f&&(t.viewHooks??=[]).push(-o,f),p&&((t.viewHooks??=[]).push(o,p),(t.viewCheckHooks??=[]).push(o,p)),g!=null&&(t.destroyHooks??=[]).push(o,g)}}function Uo(t,e,o){Sp(t,e,3,o)}function Ho(t,e,o,r){(t[k]&3)===o&&Sp(t,e,o,r)}function mu(t,e){let o=t[k];(o&3)===e&&(o&=16383,o+=1,t[k]=o)}function Sp(t,e,o,r){let i=r!==void 0?t[pi]&65535:0,s=r??-1,u=e.length-1,c=0;for(let f=i;f<u;f++)if(typeof e[f+1]=="number"){if(c=e[f],r!=null&&c>=r)break}else e[f]<0&&(t[pi]+=65536),(c<s||s==-1)&&(Vw(t,o,e,f),t[pi]=(t[pi]&4294901760)+f+2),f++}function cf(t,e){Lt(4,t,e);let o=te(null);try{e.call(t)}finally{te(o),Lt(5,t,e)}}function Vw(t,e,o,r){let i=o[r]<0,s=o[r+1],u=i?-o[r]:o[r],c=t[u];i?t[k]>>14<t[pi]>>16&&(t[k]&3)===e&&(t[k]+=16384,cf(c,s)):cf(c,s)}var _i=-1,pr=class{constructor(e,o,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=r}};function Uw(t){return t instanceof pr}function Hw(t){return(t.flags&8)!==0}function zw(t){return(t.flags&16)!==0}function Lp(t){return t!==_i}function Xo(t){return t&32767}function $w(t){return t>>16}function Jo(t,e){let o=$w(t),r=e;for(;o>0;)r=r[Mi],o--;return r}var Nu=!0;function df(t){let e=Nu;return Nu=t,e}var Gw=256,Pp=Gw-1,Ap=5,Zw=0,Pt={};function Ww(t,e,o){let r;typeof o=="string"?r=o.charCodeAt(0)||0:o.hasOwnProperty(or)&&(r=o[or]),r==null&&(r=o[or]=Zw++);let i=r&Pp,s=1<<i;e.data[t+(i>>Ap)]|=s}function Np(t,e){let o=kp(t,e);if(o!==-1)return o;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,gu(r.data,t),gu(e,null),gu(r.blueprint,null));let i=Dl(t,e),s=t.injectorIndex;if(Lp(i)){let u=Xo(i),c=Jo(i,e),f=c[J].data;for(let p=0;p<8;p++)e[s+p]=c[u+p]|f[u+p]}return e[s+8]=i,s}function gu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kp(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Dl(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let o=0,r=null,i=e;for(;i!==null;){if(r=Bp(i),r===null)return _i;if(o++,i=i[Mi],r.injectorIndex!==-1)return r.injectorIndex|o<<16}return _i}function qw(t,e,o){Ww(t,e,o)}function Op(t,e,o){if(o&$.Optional||t!==void 0)return t;ol(e,"NodeInjector")}function Rp(t,e,o,r){if(o&$.Optional&&r===void 0&&(r=null),!(o&($.Self|$.Host))){let i=t[Di],s=lt(void 0);try{return i?i.get(e,r,o&$.Optional):zf(e,r,o&$.Optional)}finally{lt(s)}}return Op(r,e,o)}function Fp(t,e,o,r=$.Default,i){if(t!==null){if(e[k]&2048&&!(r&$.Self)){let u=Jw(t,e,o,r,Pt);if(u!==Pt)return u}let s=jp(t,e,o,r,Pt);if(s!==Pt)return s}return Rp(e,o,r,i)}function jp(t,e,o,r,i){let s=Kw(o);if(typeof s=="function"){if(!bp(e,t,r))return r&$.Host?Op(i,o,r):Rp(e,o,r,i);try{let u;if(u=s(r),u==null&&!(r&$.Optional))ol(o);else return u}finally{xp()}}else if(typeof s=="number"){let u=null,c=kp(t,e),f=_i,p=r&$.Host?e[kt][Dt]:null;for((c===-1||r&$.SkipSelf)&&(f=c===-1?Dl(t,e):e[c+8],f===_i||!ff(r,!1)?c=-1:(u=e[J],c=Xo(f),e=Jo(f,e)));c!==-1;){let g=e[J];if(hf(s,c,g.data)){let _=Yw(c,e,o,u,r,p);if(_!==Pt)return _}f=e[c+8],f!==_i&&ff(r,e[J].data[c+8]===p)&&hf(s,c,e)?(u=g,c=Xo(f),e=Jo(f,e)):c=-1}}return i}function Yw(t,e,o,r,i,s){let u=e[J],c=u.data[t+8],f=r==null?vs(c)&&Nu:r!=u&&(c.type&3)!==0,p=i&$.Host&&s===c,g=Qw(c,u,o,f,p);return g!==null?mr(e,u,g,c):Pt}function Qw(t,e,o,r,i){let s=t.providerIndexes,u=e.data,c=s&1048575,f=t.directiveStart,p=t.directiveEnd,g=s>>20,_=r?c:c+g,D=i?c+g:p;for(let b=_;b<D;b++){let R=u[b];if(b<f&&o===R||b>=f&&R.type===o)return b}if(i){let b=u[f];if(b&&yr(b)&&b.type===o)return f}return null}function mr(t,e,o,r){let i=t[o],s=e.data;if(Uw(i)){let u=i;u.resolving&&Iy(Ey(s[o]));let c=df(u.canSeeViewProviders);u.resolving=!0;let f,p=u.injectImpl?lt(u.injectImpl):null,g=bp(t,r,$.Default);try{i=t[o]=u.factory(void 0,s,t,r),e.firstCreatePass&&o>=r.directiveStart&&Bw(o,s[o],e)}finally{p!==null&&lt(p),df(c),u.resolving=!1,xp()}}return i}function Kw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(or)?t[or]:void 0;return typeof e=="number"?e>=0?e&Pp:Xw:e}function hf(t,e,o){let r=1<<t;return!!(o[e+(t>>Ap)]&r)}function ff(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var kn=class{constructor(e,o){this._tNode=e,this._lView=o}get(e,o,r){return Fp(this._tNode,this._lView,e,hs(r),o)}};function Xw(){return new kn(ht(),he())}function Cl(t){return _r(()=>{let e=t.prototype.constructor,o=e[Go]||ku(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Go]||ku(i);if(s&&s!==o)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ku(t){return Rf(t)?()=>{let e=ku(ct(t));return e&&e()}:yi(t)}function Jw(t,e,o,r,i){let s=t,u=e;for(;s!==null&&u!==null&&u[k]&2048&&!(u[k]&512);){let c=jp(s,u,o,r|$.Self,Pt);if(c!==Pt)return c;let f=s.parent;if(!f){let p=u[sp];if(p){let g=p.get(o,Pt,r);if(g!==Pt)return g}f=Bp(u),u=u[Mi]}s=f}return i}function Bp(t){let e=t[J],o=e.type;return o===2?e.declTNode:o===1?t[Dt]:null}function pf(t,e=null,o=null,r){let i=Vp(t,e,o,r);return i.resolveInjectorInitializers(),i}function Vp(t,e=null,o=null,r,i=new Set){let s=[o||St,Ky(t)];return r=r||(typeof t=="object"?void 0:$e(t)),new lr(s,e||dl(),r||null,i)}var Ft=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return pf({name:""},i,r,"");{let s=r.name??"";return pf({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=ar,e.NULL=new qo,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>A(Zf)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var eD="ngOriginalError";function vu(t){return t[eD]}var Rt=class{constructor(){this._console=console}handleError(e){let o=this._findOriginalError(e);this._console.error("ERROR",e),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(e){let o=e&&vu(e);for(;o&&vu(o);)o=vu(o);return o||null}},Up=new j("",{providedIn:"root",factory:()=>E(Rt).handleError.bind(void 0)}),bl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tD,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ou=class extends bl{constructor(e){super(),this._lView=e}onDestroy(e){return mp(this._lView,e),()=>Cw(this._lView,e)}};function tD(){return new Ou(he())}function nD(){return bs(ht(),he())}function bs(t,e){return new wr(Ct(t,e))}var wr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=nD;let t=e;return t})();var Ru=class extends Re{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,op()&&(this.destroyRef=E(bl,{optional:!0})??void 0)}emit(e){let o=te(null);try{super.next(e)}finally{te(o)}}subscribe(e,o,r){let i=e,s=o||(()=>null),u=r;if(e&&typeof e=="object"){let f=e;i=f.next?.bind(f),s=f.error?.bind(f),u=f.complete?.bind(f)}this.__isAsync&&(s=_u(s),i&&(i=_u(i)),u&&(u=_u(u)));let c=super.subscribe({next:i,error:s,complete:u});return e instanceof we&&e.add(c),c}};function _u(t){return e=>{setTimeout(t,void 0,e)}}var Fe=Ru;function Hp(t){return(t.flags&128)===128}var zp=new Map,iD=0;function rD(){return iD++}function oD(t){zp.set(t[gs],t)}function sD(t){zp.delete(t[gs])}var mf="__ngContext__";function gn(t,e){Nn(e)?(t[mf]=e[gs],oD(e)):t[mf]=e}function $p(t){return Zp(t[dr])}function Gp(t){return Zp(t[yt])}function Zp(t){for(;t!==null&&!en(t);)t=t[yt];return t}var Fu;function Wp(t){Fu=t}function aD(){if(Fu!==void 0)return Fu;if(typeof document<"u")return document;throw new T(210,!1)}var Es=new j("",{providedIn:"root",factory:()=>uD}),uD="ng",El=new j(""),yn=new j("",{providedIn:"platform",factory:()=>"unknown"});var Il=new j("",{providedIn:"root",factory:()=>aD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lD="h",cD="b";var dD=()=>null;function Ml(t,e,o=!1){return dD(t,e,o)}var qp=!1,hD=new j("",{providedIn:"root",factory:()=>qp});var fD=/^>|^->|<!--|-->|--!>|<!-$/g,pD=/(<|>)/g,mD="\u200B$1\u200B";function gD(t){return t.replace(fD,e=>e.replace(pD,mD))}function Yp(t){return t instanceof Function?t():t}function vD(t){return(t??E(Ft)).get(yn)==="browser"}var Vn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vn||{}),_D;function xl(t,e){return _D(t,e)}function mi(t,e,o,r,i){if(r!=null){let s,u=!1;en(r)?s=r:Nn(r)&&(u=!0,r=r[Jt]);let c=Ot(r);t===0&&o!==null?i==null?em(e,o,c):es(e,o,c,i||null,!0):t===1&&o!==null?es(e,o,c,i||null,!0):t===2?RD(e,c,u):t===3&&e.destroyNode(c),s!=null&&jD(e,t,s,o,i)}}function yD(t,e){return t.createText(e)}function wD(t,e,o){t.setValue(e,o)}function DD(t,e){return t.createComment(gD(e))}function Qp(t,e,o){return t.createElement(e,o)}function CD(t,e){Kp(t,e),e[Jt]=null,e[Dt]=null}function bD(t,e,o,r,i,s){r[Jt]=i,r[Dt]=e,Ms(t,r,o,1,i,s)}function Kp(t,e){e[Nt].changeDetectionScheduler?.notify(1),Ms(t,e,e[Pe],2,null,null)}function ED(t){let e=t[dr];if(!e)return yu(t[J],t);for(;e;){let o=null;if(Nn(e))o=e[dr];else{let r=e[dt];r&&(o=r)}if(!o){for(;e&&!e[yt]&&e!==t;)Nn(e)&&yu(e[J],e),e=e[Le];e===null&&(e=t),Nn(e)&&yu(e[J],e),o=e&&e[yt]}e=o}}function ID(t,e,o,r){let i=dt+r,s=o.length;r>0&&(o[i-1][yt]=e),r<s-dt?(e[yt]=o[i],Gf(o,dt+r,e)):(o.push(e),e[yt]=null),e[Le]=o;let u=e[ms];u!==null&&o!==u&&MD(u,e);let c=e[Ci];c!==null&&c.insertView(t),Pu(e),e[k]|=128}function MD(t,e){let o=t[Ko],i=e[Le][Le][kt];e[kt]!==i&&(t[k]|=hl.HasTransplantedViews),o===null?t[Ko]=[e]:o.push(e)}function Xp(t,e){let o=t[Ko],r=o.indexOf(e);o.splice(r,1)}function ju(t,e){if(t.length<=dt)return;let o=dt+e,r=t[o];if(r){let i=r[ms];i!==null&&i!==t&&Xp(i,r),e>0&&(t[o-1][yt]=r[yt]);let s=Wo(t,dt+e);CD(r[J],r);let u=s[Ci];u!==null&&u.detachView(s[J]),r[Le]=null,r[yt]=null,r[k]&=-129}return r}function Jp(t,e){if(!(e[k]&256)){let o=e[Pe];o.destroyNode&&Ms(t,e,o,3,null,null),ED(e)}}function yu(t,e){if(e[k]&256)return;let o=te(null);try{e[k]&=-129,e[k]|=256,e[On]&&Dh(e[On]),TD(t,e),xD(t,e),e[J].type===1&&e[Pe].destroy();let r=e[ms];if(r!==null&&en(e[Le])){r!==e[Le]&&Xp(r,e);let i=e[Ci];i!==null&&i.detachView(t)}sD(e)}finally{te(o)}}function xD(t,e){let o=t.cleanup,r=e[cr];if(o!==null)for(let s=0;s<o.length-1;s+=2)if(typeof o[s]=="string"){let u=o[s+3];u>=0?r[u]():r[-u].unsubscribe(),s+=2}else{let u=r[o[s+1]];o[s].call(u)}r!==null&&(e[cr]=null);let i=e[pn];if(i!==null){e[pn]=null;for(let s=0;s<i.length;s++){let u=i[s];u()}}}function TD(t,e){let o;if(t!=null&&(o=t.destroyHooks)!=null)for(let r=0;r<o.length;r+=2){let i=e[o[r]];if(!(i instanceof pr)){let s=o[r+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){let c=i[s[u]],f=s[u+1];Lt(4,c,f);try{f.call(c)}finally{Lt(5,c,f)}}else{Lt(4,i,s);try{s.call(i)}finally{Lt(5,i,s)}}}}}function SD(t,e,o){return LD(t,e.parent,o)}function LD(t,e,o){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return o[Jt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===At.None||s===At.Emulated)return null}return Ct(r,o)}}function es(t,e,o,r,i){t.insertBefore(e,o,r,i)}function em(t,e,o){t.appendChild(e,o)}function gf(t,e,o,r,i){r!==null?es(t,e,o,r,i):em(t,e,o)}function PD(t,e,o,r){t.removeChild(e,o,r)}function Tl(t,e){return t.parentNode(e)}function AD(t,e){return t.nextSibling(e)}function ND(t,e,o){return OD(t,e,o)}function kD(t,e,o){return t.type&40?Ct(t,o):null}var OD=kD,vf;function Is(t,e,o,r){let i=SD(t,r,e),s=e[Pe],u=r.parent||e[Dt],c=ND(u,r,e);if(i!=null)if(Array.isArray(o))for(let f=0;f<o.length;f++)gf(s,i,o[f],c,!1);else gf(s,i,o,c,!1);vf!==void 0&&vf(s,r,e,o,i)}function zo(t,e){if(e!==null){let o=e.type;if(o&3)return Ct(e,t);if(o&4)return Bu(-1,t[e.index]);if(o&8){let r=e.child;if(r!==null)return zo(t,r);{let i=t[e.index];return en(i)?Bu(-1,i):Ot(i)}}else{if(o&32)return xl(e,t)()||Ot(t[e.index]);{let r=tm(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fr(t[kt]);return zo(i,r)}else return zo(t,e.next)}}}return null}function tm(t,e){if(e!==null){let r=t[kt][Dt],i=e.projection;return r.projection[i]}return null}function Bu(t,e){let o=dt+t+1;if(o<e.length){let r=e[o],i=r[J].firstChild;if(i!==null)return zo(r,i)}return e[Rn]}function RD(t,e,o){let r=Tl(t,e);r&&PD(t,r,e,o)}function Sl(t,e,o,r,i,s,u){for(;o!=null;){let c=r[o.index],f=o.type;if(u&&e===0&&(c&&gn(Ot(c),r),o.flags|=2),(o.flags&32)!==32)if(f&8)Sl(t,e,o.child,r,i,s,!1),mi(e,t,i,c,s);else if(f&32){let p=xl(o,r),g;for(;g=p();)mi(e,t,i,g,s);mi(e,t,i,c,s)}else f&16?FD(t,e,r,o,i,s):mi(e,t,i,c,s);o=u?o.projectionNext:o.next}}function Ms(t,e,o,r,i,s){Sl(o,r,t.firstChild,e,i,s,!1)}function FD(t,e,o,r,i,s){let u=o[kt],f=u[Dt].projection[r.projection];if(Array.isArray(f))for(let p=0;p<f.length;p++){let g=f[p];mi(e,t,i,g,s)}else{let p=f,g=u[Le];Hp(r)&&(p.flags|=128),Sl(t,e,p,g,i,s,!0)}}function jD(t,e,o,r,i){let s=o[Rn],u=Ot(o);s!==u&&mi(e,t,r,s,i);for(let c=dt;c<o.length;c++){let f=o[c];Ms(f[J],f,t,e,r,s)}}function BD(t,e,o){t.setAttribute(e,"style",o)}function nm(t,e,o){o===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",o)}function im(t,e,o){let{mergedAttrs:r,classes:i,styles:s}=o;r!==null&&Iu(t,e,r),i!==null&&nm(t,e,i),s!==null&&BD(t,e,s)}var Dr={};function nn(t=1){rm(tn(),he(),yl()+t,!1)}function rm(t,e,o,r){if(!r)if((e[k]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Uo(e,s,o)}else{let s=t.preOrderHooks;s!==null&&Ho(e,s,0,o)}Fn(o)}function ft(t,e=$.Default){let o=he();if(o===null)return A(t,e);let r=ht();return Fp(r,o,ct(t),e)}function om(){let t="invalid";throw new Error(t)}function sm(t,e,o,r,i,s){let u=te(null);try{let c=null;i&Qt.SignalBased&&(c=e[r][vh]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Qt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,o,r):up(e,c,r,s)}finally{te(u)}}function VD(t,e){let o=t.hostBindingOpCodes;if(o!==null)try{for(let r=0;r<o.length;r++){let i=o[r];if(i<0)Fn(~i);else{let s=i,u=o[++r],c=o[++r];Nw(u,s);let f=e[s];c(2,f)}}}finally{Fn(-1)}}function xs(t,e,o,r,i,s,u,c,f,p,g){let _=e.blueprint.slice();return _[Jt]=i,_[k]=r|4|128|8|64,(p!==null||t&&t[k]&2048)&&(_[k]|=2048),pp(_),_[Le]=_[Mi]=t,_[wt]=o,_[Nt]=u||t&&t[Nt],_[Pe]=c||t&&t[Pe],_[Di]=f||t&&t[Di]||null,_[Dt]=s,_[gs]=rD(),_[Yo]=g,_[sp]=p,_[kt]=e.type==2?t[kt]:_,_}function Cr(t,e,o,r,i){let s=t.data[e];if(s===null)s=UD(t,e,o,r,i),Aw()&&(s.flags|=32);else if(s.type&64){s.type=o,s.value=r,s.attrs=i;let u=Sw();s.injectorIndex=u===null?-1:u.injectorIndex}return Bn(s,!0),s}function UD(t,e,o,r,i){let s=yp(),u=gl(),c=u?s:s&&s.parent,f=t.data[e]=ZD(t,c,o,e,r,i);return t.firstChild===null&&(t.firstChild=f),s!==null&&(u?s.child==null&&f.parent!==null&&(s.child=f):s.next===null&&(s.next=f,f.prev=s)),f}function am(t,e,o,r){if(o===0)return-1;let i=e.length;for(let s=0;s<o;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function um(t,e,o,r,i){let s=yl(),u=r&2;try{Fn(-1),u&&e.length>Kt&&rm(t,e,Kt,!1),Lt(u?2:0,i),o(r,i)}finally{Fn(s),Lt(u?3:1,i)}}function Ll(t,e,o){if(fl(e)){let r=te(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let u=i;u<s;u++){let c=t.data[u];if(c.contentQueries){let f=o[u];c.contentQueries(1,f,u)}}}finally{te(r)}}}function Pl(t,e,o){gp()&&(JD(t,e,o,Ct(o,e)),(o.flags&64)===64&&dm(t,e,o))}function Al(t,e,o=Ct){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let u=r[s+1],c=u===-1?o(e,t):t[u];t[i++]=c}}}function lm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Nl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Nl(t,e,o,r,i,s,u,c,f,p,g){let _=Kt+r,D=_+i,b=HD(_,D),R=typeof p=="function"?p():p;return b[J]={type:t,blueprint:b,template:o,queries:null,viewQuery:c,declTNode:e,data:b.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof u=="function"?u():u,firstChild:null,schemas:f,consts:R,incompleteFirstPass:!1,ssrId:g}}function HD(t,e){let o=[];for(let r=0;r<e;r++)o.push(r<t?null:Dr);return o}function zD(t,e,o,r){let s=r.get(hD,qp)||o===At.ShadowDom,u=t.selectRootElement(e,s);return $D(u),u}function $D(t){GD(t)}var GD=()=>null;function ZD(t,e,o,r,i,s){let u=e?e.injectorIndex:-1,c=0;return Mw()&&(c|=128),{type:o,index:r,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _f(t,e,o,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let u=e[s];if(u===void 0)continue;r??={};let c,f=Qt.None;Array.isArray(u)?(c=u[0],f=u[1]):c=u;let p=s;if(i!==null){if(!i.hasOwnProperty(s))continue;p=i[s]}t===0?yf(r,o,p,c,f):yf(r,o,p,c)}return r}function yf(t,e,o,r,i){let s;t.hasOwnProperty(o)?(s=t[o]).push(e,r):s=t[o]=[e,r],i!==void 0&&s.push(i)}function WD(t,e,o){let r=e.directiveStart,i=e.directiveEnd,s=t.data,u=e.attrs,c=[],f=null,p=null;for(let g=r;g<i;g++){let _=s[g],D=o?o.get(_):null,b=D?D.inputs:null,R=D?D.outputs:null;f=_f(0,_.inputs,g,f,b),p=_f(1,_.outputs,g,p,R);let W=f!==null&&u!==null&&!ll(e)?uC(f,g,u):null;c.push(W)}f!==null&&(f.hasOwnProperty("class")&&(e.flags|=8),f.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=f,e.outputs=p}function qD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function YD(t,e,o,r,i,s,u,c){let f=Ct(e,o),p=e.inputs,g;!c&&p!=null&&(g=p[r])?(Ol(t,o,g,r,i),vs(e)&&QD(o,e.index)):e.type&3?(r=qD(r),i=u!=null?u(i,e.value||"",r):i,s.setProperty(f,r,i)):e.type&12}function QD(t,e){let o=_n(e,t);o[k]&16||(o[k]|=64)}function kl(t,e,o,r){if(gp()){let i=r===null?null:{"":-1},s=tC(t,o),u,c;s===null?u=c=null:[u,c]=s,u!==null&&cm(t,e,o,u,i,c),i&&nC(o,r,i)}o.mergedAttrs=ul(o.mergedAttrs,o.attrs)}function cm(t,e,o,r,i,s){for(let p=0;p<r.length;p++)qw(Np(o,e),t,r[p].type);rC(o,t.data.length,r.length);for(let p=0;p<r.length;p++){let g=r[p];g.providersResolver&&g.providersResolver(g)}let u=!1,c=!1,f=am(t,e,r.length,null);for(let p=0;p<r.length;p++){let g=r[p];o.mergedAttrs=ul(o.mergedAttrs,g.hostAttrs),oC(t,o,e,f,g),iC(f,g,i),g.contentQueries!==null&&(o.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(o.flags|=64);let _=g.type.prototype;!u&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),u=!0),!c&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),c=!0),f++}WD(t,o,s)}function KD(t,e,o,r,i){let s=i.hostBindings;if(s){let u=t.hostBindingOpCodes;u===null&&(u=t.hostBindingOpCodes=[]);let c=~e.index;XD(u)!=c&&u.push(c),u.push(o,r,s)}}function XD(t){let e=t.length;for(;e>0;){let o=t[--e];if(typeof o=="number"&&o<0)return o}return 0}function JD(t,e,o,r){let i=o.directiveStart,s=o.directiveEnd;vs(o)&&sC(e,o,t.data[i+o.componentOffset]),t.firstCreatePass||Np(o,e),gn(r,e);let u=o.initialInputs;for(let c=i;c<s;c++){let f=t.data[c],p=mr(e,t,c,o);if(gn(p,e),u!==null&&aC(e,c-i,p,f,o,u),yr(f)){let g=_n(o.index,e);g[wt]=mr(e,t,c,o)}}}function dm(t,e,o){let r=o.directiveStart,i=o.directiveEnd,s=o.index,u=kw();try{Fn(s);for(let c=r;c<i;c++){let f=t.data[c],p=e[c];Au(c),(f.hostBindings!==null||f.hostVars!==0||f.hostAttrs!==null)&&eC(f,p)}}finally{Fn(-1),Au(u)}}function eC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function tC(t,e){let o=t.directiveRegistry,r=null,i=null;if(o)for(let s=0;s<o.length;s++){let u=o[s];if(Hy(e,u.selectors,!1))if(r||(r=[]),yr(u))if(u.findHostDirectiveDefs!==null){let c=[];i=i||new Map,u.findHostDirectiveDefs(u,c,i),r.unshift(...c,u);let f=c.length;Vu(t,e,f)}else r.unshift(u),Vu(t,e,0);else i=i||new Map,u.findHostDirectiveDefs?.(u,r,i),r.push(u)}return r===null?null:[r,i]}function Vu(t,e,o){e.componentOffset=o,(t.components??=[]).push(e.index)}function nC(t,e,o){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=o[e[i+1]];if(s==null)throw new T(-301,!1);r.push(e[i],s)}}}function iC(t,e,o){if(o){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)o[e.exportAs[r]]=t;yr(e)&&(o[""]=t)}}function rC(t,e,o){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+o,t.providerIndexes=e}function oC(t,e,o,r,i){t.data[r]=i;let s=i.factory||(i.factory=yi(i.type,!0)),u=new pr(s,yr(i),ft);t.blueprint[r]=u,o[r]=u,KD(t,e,r,am(t,o,i.hostVars,Dr),i)}function sC(t,e,o){let r=Ct(e,t),i=lm(o),s=t[Nt].rendererFactory,u=16;o.signals?u=4096:o.onPush&&(u=64);let c=Ts(t,xs(t,i,null,u,r,e,null,s.createRenderer(r,o),null,null,null));t[e.index]=c}function aC(t,e,o,r,i,s){let u=s[e];if(u!==null)for(let c=0;c<u.length;){let f=u[c++],p=u[c++],g=u[c++],_=u[c++];sm(r,o,f,p,g,_)}}function uC(t,e,o){let r=null,i=0;for(;i<o.length;){let s=o[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let u=t[s];for(let c=0;c<u.length;c+=3)if(u[c]===e){r.push(s,u[c+1],u[c+2],o[i+1]);break}}i+=2}return r}function hm(t,e,o,r){return[t,!0,0,e,null,r,null,o,null,null]}function fm(t,e){let o=t.contentQueries;if(o!==null){let r=te(null);try{for(let i=0;i<o.length;i+=2){let s=o[i],u=o[i+1];if(u!==-1){let c=t.data[u];Cp(s),c.contentQueries(2,e[u],u)}}}finally{te(r)}}}function Ts(t,e){return t[dr]?t[uf][yt]=e:t[dr]=e,t[uf]=e,e}function Uu(t,e,o){Cp(0);let r=te(null);try{e(t,o)}finally{te(r)}}function lC(t){return t[cr]||(t[cr]=[])}function cC(t){return t.cleanup||(t.cleanup=[])}function pm(t,e){let o=t[Di],r=o?o.get(Rt,null):null;r&&r.handleError(e)}function Ol(t,e,o,r,i){for(let s=0;s<o.length;){let u=o[s++],c=o[s++],f=o[s++],p=e[u],g=t.data[u];sm(g,p,r,c,f,i)}}function dC(t,e,o){let r=_w(e,t);wD(t[Pe],r,o)}function hC(t,e){let o=_n(e,t),r=o[J];fC(r,o);let i=o[Jt];i!==null&&o[Yo]===null&&(o[Yo]=Ml(i,o[Di])),Rl(r,o,o[wt])}function fC(t,e){for(let o=e.length;o<t.blueprint.length;o++)e.push(t.blueprint[o])}function Rl(t,e,o){vl(e);try{let r=t.viewQuery;r!==null&&Uu(1,r,o);let i=t.template;i!==null&&um(t,e,i,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ci]?.finishViewCreation(t),t.staticContentQueries&&fm(t,e),t.staticViewQueries&&Uu(2,t.viewQuery,o);let s=t.components;s!==null&&pC(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,_l()}}function pC(t,e){for(let o=0;o<e.length;o++)hC(t,e[o])}function mC(t,e,o,r){let i=te(null);try{let s=e.tView,c=t[k]&4096?4096:16,f=xs(t,s,o,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),p=t[e.index];f[ms]=p;let g=t[Ci];return g!==null&&(f[Ci]=g.createEmbeddedView(s)),Rl(s,f,o),f}finally{te(i)}}function wf(t,e){return!e||e.firstChild===null||Hp(t)}function gC(t,e,o,r=!0){let i=e[J];if(ID(i,e,t,o),r){let u=Bu(o,t),c=e[Pe],f=Tl(c,t[Rn]);f!==null&&bD(i,t[Dt],c,e,f,u)}let s=e[Yo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ts(t,e,o,r,i=!1){for(;o!==null;){let s=e[o.index];s!==null&&r.push(Ot(s)),en(s)&&vC(s,r);let u=o.type;if(u&8)ts(t,e,o.child,r);else if(u&32){let c=xl(o,e),f;for(;f=c();)r.push(f)}else if(u&16){let c=tm(e,o);if(Array.isArray(c))r.push(...c);else{let f=fr(e[kt]);ts(f[J],f,c,r,!0)}}o=i?o.projectionNext:o.next}return r}function vC(t,e){for(let o=dt;o<t.length;o++){let r=t[o],i=r[J].firstChild;i!==null&&ts(r[J],r,i,e)}t[Rn]!==t[Jt]&&e.push(t[Rn])}var mm=[];function _C(t){return t[On]??yC(t)}function yC(t){let e=mm.pop()??Object.create(DC);return e.lView=t,e}function wC(t){t.lView[On]!==t&&(t.lView=null,mm.push(t))}var DC=ve(M({},_h),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{hr(t.lView)},consumerOnSignalRead(){this.lView[On]=this}}),gm=100;function vm(t,e=!0,o=0){let r=t[Nt],i=r.rendererFactory,s=!1;s||i.begin?.();try{CC(t,o)}catch(u){throw e&&pm(t,u),u}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function CC(t,e){Hu(t,e);let o=0;for(;ml(t);){if(o===gm)throw new T(103,!1);o++,Hu(t,1)}}function bC(t,e,o,r){let i=e[k];if((i&256)===256)return;let s=!1;!s&&e[Nt].inlineEffectRunner?.flush(),vl(e);let u=null,c=null;!s&&EC(t)&&(c=_C(e),u=yh(c));try{pp(e),Pw(t.bindingStartIndex),o!==null&&um(t,e,o,2,r);let f=(i&3)===3;if(!s)if(f){let _=t.preOrderCheckHooks;_!==null&&Uo(e,_,null)}else{let _=t.preOrderHooks;_!==null&&Ho(e,_,0,null),mu(e,0)}if(IC(e),_m(e,0),t.contentQueries!==null&&fm(t,e),!s)if(f){let _=t.contentCheckHooks;_!==null&&Uo(e,_)}else{let _=t.contentHooks;_!==null&&Ho(e,_,1),mu(e,1)}VD(t,e);let p=t.components;p!==null&&wm(e,p,0);let g=t.viewQuery;if(g!==null&&Uu(2,g,r),!s)if(f){let _=t.viewCheckHooks;_!==null&&Uo(e,_)}else{let _=t.viewHooks;_!==null&&Ho(e,_,2),mu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[pu]){for(let _ of e[pu])_();e[pu]=null}s||(e[k]&=-73)}catch(f){throw hr(e),f}finally{c!==null&&(wh(c,u),wC(c)),_l()}}function EC(t){return t.type!==2}function _m(t,e){for(let o=$p(t);o!==null;o=Gp(o))for(let r=dt;r<o.length;r++){let i=o[r];ym(i,e)}}function IC(t){for(let e=$p(t);e!==null;e=Gp(e)){if(!(e[k]&hl.HasTransplantedViews))continue;let o=e[Ko];for(let r=0;r<o.length;r++){let i=o[r],s=i[Le];ww(i)}}}function MC(t,e,o){let r=_n(e,t);ym(r,o)}function ym(t,e){pl(t)&&Hu(t,e)}function Hu(t,e){let r=t[J],i=t[k],s=t[On],u=!!(e===0&&i&16);if(u||=!!(i&64&&e===0),u||=!!(i&1024),u||=!!(s?.dirty&&Ya(s)),s&&(s.dirty=!1),t[k]&=-9217,u)bC(r,t,r.template,t[wt]);else if(i&8192){_m(t,1);let c=r.components;c!==null&&wm(t,c,1)}}function wm(t,e,o){for(let r=0;r<e.length;r++)MC(t,e[r],o)}function Fl(t){for(t[Nt].changeDetectionScheduler?.notify();t;){t[k]|=64;let e=fr(t);if(dw(t)&&!e)return t;t=e}return null}var jn=class{get rootNodes(){let e=this._lView,o=e[J];return ts(o,e,o.firstChild,[])}constructor(e,o,r=!0){this._lView=e,this._cdRefInjectingView=o,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wt]}set context(e){this._lView[wt]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Le];if(en(e)){let o=e[Qo],r=o?o.indexOf(this):-1;r>-1&&(ju(e,r),Wo(o,r))}this._attachedToViewContainer=!1}Jp(this._lView[J],this._lView)}onDestroy(e){mp(this._lView,e)}markForCheck(){Fl(this._cdRefInjectingView||this._lView)}detach(){this._lView[k]&=-129}reattach(){Pu(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,vm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Kp(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e,Pu(this._lView)}},Ss=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SC;let t=e;return t})(),xC=Ss,TC=class extends xC{constructor(e,o,r){super(),this._declarationLView=e,this._declarationTContainer=o,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,o){return this.createEmbeddedViewImpl(e,o)}createEmbeddedViewImpl(e,o,r){let i=mC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:o,dehydratedView:r});return new jn(i)}};function SC(){return LC(ht(),he())}function LC(t,e){return t.type&4?new TC(e,t,bs(t,e)):null}var MP=new RegExp(`^(\\d+)*(${cD}|${lD})*(.*)`);var PC=()=>null;function Df(t,e){return PC(t,e)}var ns=class{},zu=class{},is=class{};function AC(t){let e=Error(`No component factory found for ${$e(t)}.`);return e[NC]=t,e}var NC="ngComponent";var $u=class{resolveComponentFactory(e){throw AC(e)}},Ls=(()=>{let e=class e{};e.NULL=new $u;let t=e;return t})(),gr=class{},Ps=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>kC();let t=e;return t})();function kC(){let t=he(),e=ht(),o=_n(e.index,t);return(Nn(o)?o:t)[Pe]}var OC=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),wu={};var Cf=new Set;function jl(t){Cf.has(t)||(Cf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function bf(...t){}function RC(){let t=typeof Ke.requestAnimationFrame=="function",e=Ke[t?"requestAnimationFrame":"setTimeout"],o=Ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&o){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=o[Zone.__symbol__("OriginalDelegate")];i&&(o=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:o}}var ae=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&o,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=RC().nativeRequestAnimationFrame,BC(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new T(909,!1)}run(e,o,r){return this._inner.run(e,o,r)}runTask(e,o,r,i){let s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+i,e,FC,bf,bf);try{return s.runTask(u,o,r)}finally{s.cancelTask(u)}}runGuarded(e,o,r){return this._inner.runGuarded(e,o,r)}runOutsideAngular(e){return this._outer.run(e)}},FC={};function Bl(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jC(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gu(t),t.isCheckStableRunning=!0,Bl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gu(t))}function BC(t){let e=()=>{jC(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,r,i,s,u,c)=>{if(VC(c))return o.invokeTask(i,s,u,c);try{return Ef(t),o.invokeTask(i,s,u,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),If(t)}},onInvoke:(o,r,i,s,u,c,f)=>{try{return Ef(t),o.invoke(i,s,u,c,f)}finally{t.shouldCoalesceRunChangeDetection&&e(),If(t)}},onHasTask:(o,r,i,s)=>{o.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Gu(t),Bl(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,r,i,s)=>(o.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Gu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ef(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function If(t){t._nesting--,Bl(t)}var Zu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,o,r){return e.apply(o,r)}runGuarded(e,o,r){return e.apply(o,r)}runOutsideAngular(e){return e()}runTask(e,o,r,i){return e.apply(o,r)}};function VC(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function UC(t="zone.js",e){return t==="noop"?new Zu:t==="zone.js"?new ae(e):t}var gi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(gi||{}),HC={destroy(){}};function Vl(t,e){!e&&uw(Vl);let o=e?.injector??E(Ft);if(!vD(o))return HC;jl("NgAfterNextRender");let r=o.get(Ul),i=r.handler??=new qu,s=e?.phase??gi.MixedReadWrite,u=()=>{i.unregister(f),c()},c=o.get(bl).onDestroy(u),f=Xt(o,()=>new Wu(s,()=>{u(),t()}));return i.register(f),{destroy:u}}var Wu=class{constructor(e,o){this.phase=e,this.callbackFn=o,this.zone=E(ae),this.errorHandler=E(Rt,{optional:!0}),E(ns,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},qu=class{constructor(){this.executingCallbacks=!1,this.buckets={[gi.EarlyRead]:new Set,[gi.Write]:new Set,[gi.MixedReadWrite]:new Set,[gi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let o of e)o.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Ul=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function rs(t,e,o){let r=o?t.styles:null,i=o?t.classes:null,s=0;if(e!==null)for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="number")s=c;else if(s==1)i=Kh(i,c);else if(s==2){let f=c,p=e[++u];r=Kh(r,f+": "+p+";")}}o?t.styles=r:t.stylesWithoutHost=r,o?t.classes=i:t.classesWithoutHost=i}var os=class extends Ls{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let o=mn(e);return new Ei(o,this.ngModule)}};function Mf(t){let e=[];for(let o in t){if(!t.hasOwnProperty(o))continue;let r=t[o];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:o})}return e}function zC(t){let e=t.toLowerCase();return e==="svg"?hp:e==="math"?mw:null}var Yu=class{constructor(e,o){this.injector=e,this.parentInjector=o}get(e,o,r){r=hs(r);let i=this.injector.get(e,wu,r);return i!==wu||o===wu?i:this.parentInjector.get(e,o,r)}},Ei=class extends is{get inputs(){let e=this.componentDef,o=e.inputTransforms,r=Mf(e.inputs);if(o!==null)for(let i of r)o.hasOwnProperty(i.propName)&&(i.transform=o[i.propName]);return r}get outputs(){return Mf(this.componentDef.outputs)}constructor(e,o){super(),this.componentDef=e,this.ngModule=o,this.componentType=e.type,this.selector=Zy(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!o}create(e,o,r,i){let s=te(null);try{i=i||this.ngModule;let u=i instanceof Xe?i:i?.injector;u&&this.componentDef.getStandaloneInjector!==null&&(u=this.componentDef.getStandaloneInjector(u)||u);let c=u?new Yu(e,u):e,f=c.get(gr,null);if(f===null)throw new T(407,!1);let p=c.get(OC,null),g=c.get(Ul,null),_=c.get(ns,null),D={rendererFactory:f,sanitizer:p,inlineEffectRunner:null,afterRenderEventManager:g,changeDetectionScheduler:_},b=f.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",W=r?zD(b,r,this.componentDef.encapsulation,c):Qp(b,R,zC(R)),fe=512;this.componentDef.signals?fe|=4096:this.componentDef.onPush||(fe|=16);let G=null;W!==null&&(G=Ml(W,c,!0));let Ze=Nl(0,null,null,1,0,null,null,null,null,null,null),ye=xs(null,Ze,null,fe,null,null,D,b,c,null,G);vl(ye);let We,Ut;try{let je=this.componentDef,bt,Zn=null;je.findHostDirectiveDefs?(bt=[],Zn=new Map,je.findHostDirectiveDefs(je,bt,Zn),bt.push(je)):bt=[je];let Se=$C(ye,W),Be=GC(Se,W,je,bt,ye,D,b);Ut=fp(Ze,Kt),W&&qC(b,je,W,r),o!==void 0&&YC(Ut,this.ngContentSelectors,o),We=WC(Be,je,bt,Zn,ye,[QC]),Rl(Ze,ye,null)}finally{_l()}return new Qu(this.componentType,We,bs(Ut,ye),ye,Ut)}finally{te(s)}}},Qu=class extends zu{constructor(e,o,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new jn(i,void 0,!1),this.componentType=e}setInput(e,o){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),o))return;let s=this._rootLView;Ol(s[J],s,i,e,o),this.previousInputValues.set(e,o);let u=_n(this._tNode.index,s);Fl(u)}}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function $C(t,e){let o=t[J],r=Kt;return t[r]=e,Cr(o,r,2,"#host",null)}function GC(t,e,o,r,i,s,u){let c=i[J];ZC(r,t,e,u);let f=null;e!==null&&(f=Ml(e,i[Di]));let p=s.rendererFactory.createRenderer(e,o),g=16;o.signals?g=4096:o.onPush&&(g=64);let _=xs(i,lm(o),null,g,i[t.index],t,s,p,null,null,f);return c.firstCreatePass&&Vu(c,t,r.length-1),Ts(i,_),i[t.index]=_}function ZC(t,e,o,r){for(let i of t)e.mergedAttrs=ul(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(rs(e,e.mergedAttrs,!0),o!==null&&im(r,o,e))}function WC(t,e,o,r,i,s){let u=ht(),c=i[J],f=Ct(u,i);cm(c,i,u,o,null,r);for(let g=0;g<o.length;g++){let _=u.directiveStart+g,D=mr(i,c,_,u);gn(D,i)}dm(c,i,u),f&&gn(f,i);let p=mr(i,c,u.directiveStart+u.componentOffset,u);if(t[wt]=i[wt]=p,s!==null)for(let g of s)g(p,e);return Ll(c,u,i),p}function qC(t,e,o,r){if(r)Iu(t,o,["ng-version","17.3.1"]);else{let{attrs:i,classes:s}=Wy(e.selectors[0]);i&&Iu(t,o,i),s&&s.length>0&&nm(t,o,s.join(" "))}}function YC(t,e,o){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=o[i];r.push(s!=null?Array.from(s):null)}}function QC(){let t=ht();Cs(he()[J],t)}var xi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=KC;let t=e;return t})();function KC(){let t=ht();return JC(t,he())}var XC=xi,Dm=class extends XC{constructor(e,o,r){super(),this._lContainer=e,this._hostTNode=o,this._hostLView=r}get element(){return bs(this._hostTNode,this._hostLView)}get injector(){return new kn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Dl(this._hostTNode,this._hostLView);if(Lp(e)){let o=Jo(e,this._hostLView),r=Xo(e),i=o[J].data[r+8];return new kn(i,o)}else return new kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let o=xf(this._lContainer);return o!==null&&o[e]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(e,o,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let u=Df(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(o||{},s,u);return this.insertImpl(c,i,wf(this._hostTNode,u)),c}createComponent(e,o,r,i,s){let u=e&&!cw(e),c;if(u)c=o;else{let R=o||{};c=R.index,r=R.injector,i=R.projectableNodes,s=R.environmentInjector||R.ngModuleRef}let f=u?e:new Ei(mn(e)),p=r||this.parentInjector;if(!s&&f.ngModule==null){let W=(u?p:this.parentInjector).get(Xe,null);W&&(s=W)}let g=mn(f.componentType??{}),_=Df(this._lContainer,g?.id??null),D=_?.firstChild??null,b=f.create(p,i,D,s);return this.insertImpl(b.hostView,c,wf(this._hostTNode,_)),b}insert(e,o){return this.insertImpl(e,o,!0)}insertImpl(e,o,r){let i=e._lView;if(yw(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let f=i[Le],p=new Dm(f,f[Dt],f[Le]);p.detach(p.indexOf(e))}}let s=this._adjustIndex(o),u=this._lContainer;return gC(u,i,s,r),e.attachToViewContainerRef(),Gf(Du(u),s,e),e}move(e,o){return this.insert(e,o)}indexOf(e){let o=xf(this._lContainer);return o!==null?o.indexOf(e):-1}remove(e){let o=this._adjustIndex(e,-1),r=ju(this._lContainer,o);r&&(Wo(Du(this._lContainer),o),Jp(r[J],r))}detach(e){let o=this._adjustIndex(e,-1),r=ju(this._lContainer,o);return r&&Wo(Du(this._lContainer),o)!=null?new jn(r):null}_adjustIndex(e,o=0){return e??this.length+o}};function xf(t){return t[Qo]}function Du(t){return t[Qo]||(t[Qo]=[])}function JC(t,e){let o,r=e[t.index];return en(r)?o=r:(o=hm(r,e,null,t),e[t.index]=o,Ts(e,o)),tb(o,e,t,r),new Dm(o,t,e)}function eb(t,e){let o=t[Pe],r=o.createComment(""),i=Ct(e,t),s=Tl(o,i);return es(o,s,r,AD(o,i),!1),r}var tb=rb,nb=()=>!1;function ib(t,e,o){return nb(t,e,o)}function rb(t,e,o,r){if(t[Rn])return;let i;o.type&8?i=Ot(r):i=eb(e,o),t[Rn]=i}function ob(t){let e=[],o=new Map;function r(i){let s=o.get(i);if(!s){let u=t(i);o.set(i,s=u.then(lb))}return s}return ss.forEach((i,s)=>{let u=[];i.templateUrl&&u.push(r(i.templateUrl).then(p=>{i.template=p}));let c=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=c,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let p=i.styles.length,g=i.styleUrls;i.styleUrls.forEach((_,D)=>{c.push(""),u.push(r(_).then(b=>{c[p+D]=b,g.splice(g.indexOf(_),1),g.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&u.push(r(i.styleUrl).then(p=>{c.push(p),i.styleUrl=void 0}));let f=Promise.all(u).then(()=>cb(s));e.push(f)}),ab(),Promise.all(e).then(()=>{})}var ss=new Map,sb=new Set;function ab(){let t=ss;return ss=new Map,t}function ub(){return ss.size===0}function lb(t){return typeof t=="string"?t:t.text()}function cb(t){sb.delete(t)}var vn=class{},vr=class{};var as=class extends vn{constructor(e,o,r){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new os(this);let i=Jf(e);this._bootstrapComponents=Yp(i.bootstrap),this._r3Injector=Vp(e,o,[{provide:vn,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver},...r],$e(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},us=class extends vr{constructor(e){super(),this.moduleType=e}create(e){return new as(this.moduleType,e,[])}};function db(t,e,o){return new as(t,e,o)}var Ku=class extends vn{constructor(e){super(),this.componentFactoryResolver=new os(this),this.instance=null;let o=new lr([...e.providers,{provide:vn,useValue:this},{provide:Ls,useValue:this.componentFactoryResolver}],e.parent||dl(),e.debugName,new Set(["environment"]));this.injector=o,e.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function As(t,e,o=null){return new Ku({providers:t,parent:e,debugName:o,runEnvironmentInitializers:!0}).injector}var Ns=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cm(t){return fb(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function hb(t,e){if(Array.isArray(t))for(let o=0;o<t.length;o++)e(t[o]);else{let o=t[Symbol.iterator](),r;for(;!(r=o.next()).done;)e(r.value)}}function fb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function pb(t,e,o){return t[e]=o}function Hl(t,e,o){let r=t[e];return Object.is(r,o)?!1:(t[e]=o,!0)}function mb(t){return(t.flags&32)===32}function gb(t,e,o,r,i,s,u,c,f){let p=e.consts,g=Cr(e,t,4,u||null,bi(p,c));kl(e,o,g,bi(p,f)),Cs(e,g);let _=g.tView=Nl(2,g,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,p,null);return e.queries!==null&&(e.queries.template(e,g),_.queries=e.queries.embeddedTView(g)),g}function ks(t,e,o,r,i,s,u,c){let f=he(),p=tn(),g=t+Kt,_=p.firstCreatePass?gb(g,p,f,e,o,r,i,s,u):p.data[g];Bn(_,!1);let D=vb(p,f,_,t);ws()&&Is(p,f,D,_),gn(D,f);let b=hm(D,f,D,_);return f[g]=b,Ts(f,b),ib(b,_,f),_s(_)&&Pl(p,f,_),u!=null&&Al(f,_,c),ks}var vb=_b;function _b(t,e,o,r){return Ds(!0),e[Pe].createComment("")}function yb(t,e,o,r){return Hl(t,Dp(),o)?e+Uf(o)+r:Dr}function jt(t,e,o){let r=he(),i=Dp();if(Hl(r,i,e)){let s=tn(),u=Fw();YD(s,u,r,t,e,r[Pe],o,!1)}return jt}function Tf(t,e,o,r,i){let s=e.inputs,u=i?"class":"style";Ol(t,o,s[u],u,r)}function wb(t,e,o,r,i,s){let u=e.consts,c=bi(u,i),f=Cr(e,t,2,r,c);return kl(e,o,f,bi(u,s)),f.attrs!==null&&rs(f,f.attrs,!1),f.mergedAttrs!==null&&rs(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function De(t,e,o,r){let i=he(),s=tn(),u=Kt+t,c=i[Pe],f=s.firstCreatePass?wb(u,s,i,e,o,r):s.data[u],p=Db(s,i,f,c,e,t);i[u]=p;let g=_s(f);return Bn(f,!0),im(c,p,f),!mb(f)&&ws()&&Is(s,i,p,f),bw()===0&&gn(p,i),Ew(),g&&(Pl(s,i,f),Ll(s,f,i)),r!==null&&Al(i,f),De}function Ne(){let t=ht();gl()?wp():(t=t.parent,Bn(t,!1));let e=t;xw(e)&&Tw(),Iw();let o=tn();return o.firstCreatePass&&(Cs(o,t),fl(t)&&o.queries.elementEnd(t)),e.classesWithoutHost!=null&&Hw(e)&&Tf(o,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zw(e)&&Tf(o,e,he(),e.stylesWithoutHost,!1),Ne}function ke(t,e,o,r){return De(t,e,o,r),Ne(),ke}var Db=(t,e,o,r,i,s)=>(Ds(!0),Qp(r,i,jw()));function Cb(t,e,o,r,i){let s=e.consts,u=bi(s,r),c=Cr(e,t,8,"ng-container",u);u!==null&&rs(c,u,!0);let f=bi(s,i);return kl(e,o,c,f),e.queries!==null&&e.queries.elementStart(e,c),c}function br(t,e,o){let r=he(),i=tn(),s=t+Kt,u=i.firstCreatePass?Cb(s,i,r,e,o):i.data[s];Bn(u,!0);let c=bb(i,r,u,t);return r[s]=c,ws()&&Is(i,r,c,u),gn(c,r),_s(u)&&(Pl(i,r,u),Ll(i,u,r)),o!=null&&Al(r,u),br}function Er(){let t=ht(),e=tn();return gl()?wp():(t=t.parent,Bn(t,!1)),e.firstCreatePass&&(Cs(e,t),fl(t)&&e.queries.elementEnd(t)),Er}var bb=(t,e,o,r)=>(Ds(!0),DD(e[Pe],""));function bm(){return he()}var ls="en-US";var Eb=ls;function Ib(t){typeof t=="string"&&(Eb=t.toLowerCase().replace(/_/g,"-"))}function Os(t,e,o,r){let i=he(),s=tn(),u=ht();return xb(s,i,i[Pe],u,t,e,r),Os}function Mb(t,e,o,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let u=i[s];if(u===o&&i[s+1]===r){let c=e[cr],f=i[s+2];return c.length>f?c[f]:null}typeof u=="string"&&(s+=2)}return null}function xb(t,e,o,r,i,s,u){let c=_s(r),p=t.firstCreatePass&&cC(t),g=e[wt],_=lC(e),D=!0;if(r.type&3||u){let W=Ct(r,e),fe=u?u(W):W,G=_.length,Ze=u?We=>u(Ot(We[r.index])):r.index,ye=null;if(!u&&c&&(ye=Mb(t,e,i,r.index)),ye!==null){let We=ye.__ngLastListenerFn__||ye;We.__ngNextListenerFn__=s,ye.__ngLastListenerFn__=s,D=!1}else{s=Lf(r,e,g,s,!1);let We=o.listen(fe,i,s);_.push(s,We),p&&p.push(i,Ze,G,G+1)}}else s=Lf(r,e,g,s,!1);let b=r.outputs,R;if(D&&b!==null&&(R=b[i])){let W=R.length;if(W)for(let fe=0;fe<W;fe+=2){let G=R[fe],Ze=R[fe+1],Ut=e[G][Ze].subscribe(s),je=_.length;_.push(s,Ut),p&&p.push(i,r.index,je,-(je+1))}}}function Sf(t,e,o,r){let i=te(null);try{return Lt(6,e,o),o(r)!==!1}catch(s){return pm(t,s),!1}finally{Lt(7,e,o),te(i)}}function Lf(t,e,o,r,i){return function s(u){if(u===Function)return r;let c=t.componentOffset>-1?_n(t.index,e):e;Fl(c);let f=Sf(e,o,r,u),p=s.__ngNextListenerFn__;for(;p;)f=Sf(e,o,p,u)&&f,p=p.__ngNextListenerFn__;return i&&f===!1&&u.preventDefault(),f}}function zl(t=1){return Rw(t)}function Un(t,e=""){let o=he(),r=tn(),i=t+Kt,s=r.firstCreatePass?Cr(r,i,1,e,null):r.data[i],u=Tb(r,o,s,e,t);o[i]=u,ws()&&Is(r,o,u,s),Bn(s,!1)}var Tb=(t,e,o,r,i)=>(Ds(!0),yD(e[Pe],r));function $l(t,e,o){let r=he(),i=yb(r,t,e,o);return i!==Dr&&dC(r,yl(),i),$l}var Sb=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=np(!1,r.type),s=i.length>0?As([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(A(Xe))});let t=e;return t})();function Em(t){jl("NgStandalone"),t.getStandaloneInjector=e=>e.get(Sb).getOrCreateStandaloneInjector(t)}function Im(t,e,o,r){return Pb(he(),Lw(),t,e,o,r)}function Lb(t,e){let o=t[e];return o===Dr?void 0:o}function Pb(t,e,o,r,i,s){let u=e+o;return Hl(t,u,i)?pb(t,u+1,s?r.call(s,i):r(i)):Lb(t,u+1)}var Bo=null;function Ab(t){Bo!==null&&(t.defaultEncapsulation!==Bo.defaultEncapsulation||t.preserveWhitespaces!==Bo.preserveWhitespaces)||(Bo=t)}var Rs=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Gl=new j(""),Ir=new j(""),Fs=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Zl||(Nb(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let u=-1;i&&i>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==u),r()},i)),this._callbacks.push({doneCb:r,timeoutId:u,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(A(ae),A(js),A(Ir))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),js=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Zl?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Nb(t){Zl=t}var Zl;function Mr(t){return!!t&&typeof t.then=="function"}function Mm(t){return!!t&&typeof t.subscribe=="function"}var Bs=new j(""),xm=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(Bs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let u=s();if(Mr(u))r.push(u);else if(Mm(u)){let c=new Promise((f,p)=>{u.subscribe({complete:f,error:p})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wl=new j("");function kb(){Ch(()=>{throw new T(600,!1)})}function Ob(t){return t.isBoundToModule}function Rb(t,e,o){try{let r=o();return Mr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Tm(t,e){return Array.isArray(e)?e.reduce(Tm,t):M(M({},t),e)}var Ti=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(Up),this.afterRenderEffectManager=E(Ul),this.externalTestViews=new Set,this.beforeRender=new Re,this.afterTick=new Re,this.componentTypes=[],this.components=[],this.isStable=E(Ns).hasPendingTasks.pipe(X(r=>!r)),this._injector=E(Xe)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof is;if(!this._injector.get(xm).done){let b=!s&&Xf(r),R=!1;throw new T(405,R)}let c;s?c=r:c=this._injector.get(Ls).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let f=Ob(c)?void 0:this._injector.get(vn),p=i||c.selector,g=c.create(Ft.NULL,[],p,f),_=g.location.nativeElement,D=g.injector.get(Gl,null);return D?.registerApplication(_),g.onDestroy(()=>{this.detachView(g.hostView),$o(this.components,g),D?.unregisterApplication(_)}),this._loadComponent(g),g}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new T(101,!1);let i=te(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,te(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===gm)throw new T(103,!1);if(r){let u=i===0;this.beforeRender.next(u);for(let{_lView:c,notifyErrorHandler:f}of this._views)Fb(c,u,f)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:u})=>Xu(u))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:u})=>Xu(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;$o(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Wl,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>$o(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new T(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $o(t,e){let o=t.indexOf(e);o>-1&&t.splice(o,1)}function Fb(t,e,o){!e&&!Xu(t)||jb(t,o,e)}function Xu(t){return ml(t)}function jb(t,e,o){let r;o?(r=0,t[k]|=1024):t[k]&64?r=0:r=1,vm(t,e,r)}var Ju=class{constructor(e,o){this.ngModuleFactory=e,this.componentFactories=o}},Vs=(()=>{let e=class e{compileModuleSync(r){return new us(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Jf(r),u=Yp(s.declarations).reduce((c,f)=>{let p=mn(f);return p&&c.push(new Ei(p)),c},[]);return new Ju(i,u)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bb=new j("");function Vb(t,e,o){let r=new us(o);return Promise.resolve(r)}function Pf(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Ub=(()=>{let e=class e{constructor(){this.zone=E(ae),this.applicationRef=E(Ti)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hb(t){return[{provide:ae,useFactory:t},{provide:wi,multi:!0,useFactory:()=>{let e=E(Ub,{optional:!0});return()=>e.initialize()}},{provide:wi,multi:!0,useFactory:()=>{let e=E(Gb);return()=>{e.initialize()}}},{provide:Up,useFactory:zb}]}function zb(){let t=E(ae),e=E(Rt);return o=>t.runOutsideAngular(()=>e.handleError(o))}function $b(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Gb=(()=>{let e=class e{constructor(){this.subscription=new we,this.initialized=!1,this.zone=E(ae),this.pendingTasks=E(Ns)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zb(){return typeof $localize<"u"&&$localize.locale||ls}var ql=new j("",{providedIn:"root",factory:()=>E(ql,$.Optional|$.SkipSelf)||Zb()});var Sm=new j(""),Lm=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=UC(i?.ngZone,$b({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let u=db(r.moduleType,this.injector,Hb(()=>s)),c=u.injector.get(Rt,null);return s.runOutsideAngular(()=>{let f=s.onError.subscribe({next:p=>{c.handleError(p)}});u.onDestroy(()=>{$o(this._modules,u),f.unsubscribe()})}),Rb(c,s,()=>{let f=u.injector.get(xm);return f.runInitializers(),f.donePromise.then(()=>{let p=u.injector.get(ql,ls);return Ib(p||ls),this._moduleDoBootstrap(u),u})})})}bootstrapModule(r,i=[]){let s=Tm({},i);return Vb(this.injector,s,r).then(u=>this.bootstrapModuleFactory(u,s))}_moduleDoBootstrap(r){let i=r.injector.get(Ti);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new T(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Sm,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(A(Ft))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),sr=null,Pm=new j("");function Wb(t){if(sr&&!sr.get(Pm,!1))throw new T(400,!1);kb(),sr=t;let e=t.get(Lm);return Qb(t),e}function Yl(t,e,o=[]){let r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let u=Am();if(!u||u.injector.get(Pm,!1)){let c=[...o,...s,{provide:i,useValue:!0}];t?t(c):Wb(qb(c,r))}return Yb(i)}}function qb(t=[],e){return Ft.create({name:e,providers:[{provide:ps,useValue:"platform"},{provide:Sm,useValue:new Set([()=>sr=null])},...t]})}function Yb(t){let e=Am();if(!e)throw new T(401,!1);return e}function Am(){return sr?.get(Lm)??null}function Qb(t){t.get(El,null)?.forEach(o=>o())}var xr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Kb;let t=e;return t})();function Kb(t){return Xb(ht(),he(),(t&16)===16)}function Xb(t,e,o){if(vs(t)&&!o){let r=_n(t.index,e);return new jn(r,r)}else if(t.type&47){let r=e[kt];return new jn(r,e)}return null}var el=class{constructor(){}supports(e){return Cm(e)}create(e){return new tl(e)}},Jb=(t,e)=>e,tl=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Jb}forEachItem(e){let o;for(o=this._itHead;o!==null;o=o._next)e(o)}forEachOperation(e){let o=this._itHead,r=this._removalsHead,i=0,s=null;for(;o||r;){let u=!r||o&&o.currentIndex<Af(r,i,s)?o:r,c=Af(u,i,s),f=u.currentIndex;if(u===r)i--,r=r._nextRemoved;else if(o=o._next,u.previousIndex==null)i++;else{s||(s=[]);let p=c-i,g=f-i;if(p!=g){for(let D=0;D<p;D++){let b=D<s.length?s[D]:s[D]=0,R=b+D;g<=R&&R<p&&(s[D]=b+1)}let _=u.previousIndex;s[_]=g-p}}c!==f&&e(u,c,f)}}forEachPreviousItem(e){let o;for(o=this._previousItHead;o!==null;o=o._nextPrevious)e(o)}forEachAddedItem(e){let o;for(o=this._additionsHead;o!==null;o=o._nextAdded)e(o)}forEachMovedItem(e){let o;for(o=this._movesHead;o!==null;o=o._nextMoved)e(o)}forEachRemovedItem(e){let o;for(o=this._removalsHead;o!==null;o=o._nextRemoved)e(o)}forEachIdentityChange(e){let o;for(o=this._identityChangesHead;o!==null;o=o._nextIdentityChange)e(o)}diff(e){if(e==null&&(e=[]),!Cm(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o=this._itHead,r=!1,i,s,u;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],u=this._trackByFn(c,s),o===null||!Object.is(o.trackById,u)?(o=this._mismatch(o,s,u,c),r=!0):(r&&(o=this._verifyReinsertion(o,s,u,c)),Object.is(o.item,s)||this._addIdentityChange(o,s)),o=o._next}else i=0,hb(e,c=>{u=this._trackByFn(i,c),o===null||!Object.is(o.trackById,u)?(o=this._mismatch(o,c,u,i),r=!0):(r&&(o=this._verifyReinsertion(o,c,u,i)),Object.is(o.item,c)||this._addIdentityChange(o,c)),o=o._next,i++}),this.length=i;return this._truncate(o),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,o,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,o)||this._addIdentityChange(e,o),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,o)||this._addIdentityChange(e,o),this._moveAfter(e,s,i)):e=this._addAfter(new nl(o,r),s,i)),e}_verifyReinsertion(e,o,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let o=e._next;this._addToRemovals(this._unlink(e)),e=o}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,o,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,o,r),this._addToMoves(e,r),e}_moveAfter(e,o,r){return this._unlink(e),this._insertAfter(e,o,r),this._addToMoves(e,r),e}_addAfter(e,o,r){return this._insertAfter(e,o,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,o,r){let i=o===null?this._itHead:o._next;return e._next=i,e._prev=o,i===null?this._itTail=e:i._prev=e,o===null?this._itHead=e:o._next=e,this._linkedRecords===null&&(this._linkedRecords=new cs),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let o=e._prev,r=e._next;return o===null?this._itHead=r:o._next=r,r===null?this._itTail=o:r._prev=o,e}_addToMoves(e,o){return e.previousIndex===o||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new cs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,o){return e.item=o,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},nl=class{constructor(e,o){this.item=e,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},il=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,o){let r;for(r=this._head;r!==null;r=r._nextDup)if((o===null||o<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let o=e._prevDup,r=e._nextDup;return o===null?this._head=r:o._nextDup=r,r===null?this._tail=o:r._prevDup=o,this._head===null}},cs=class{constructor(){this.map=new Map}put(e){let o=e.trackById,r=this.map.get(o);r||(r=new il,this.map.set(o,r)),r.add(e)}get(e,o){let r=e,i=this.map.get(r);return i?i.get(e,o):null}remove(e){let o=e.trackById;return this.map.get(o).remove(e)&&this.map.delete(o),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Af(t,e,o){let r=t.previousIndex;if(r===null)return r;let i=0;return o&&r<o.length&&(i=o[r]),r+e+i}function Nf(){return new Ql([new el])}var Ql=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Nf()),deps:[[e,new sl,new fs]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new T(901,!1)}};e.\u0275prov=S({token:e,providedIn:"root",factory:Nf});let t=e;return t})();var Nm=Yl(null,"core",[]),km=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(A(Ti))},e.\u0275mod=et({type:e}),e.\u0275inj=Je({});let t=e;return t})();function Om(t){let e=mn(t);if(!e)return null;let o=new Ei(e);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Hm=null;function Hn(){return Hm}function zm(t){Hm??=t}var Us=class{};var Ge=new j(""),nc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>E(rE),providedIn:"platform"});let t=e;return t})(),$m=new j(""),rE=(()=>{let e=class e extends nc{constructor(){super(),this._doc=E(Ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hn().getBaseHref(this._doc)}onPopState(r){let i=Hn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Hn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ic(t,e){if(t.length==0)return e;if(e.length==0)return t;let o=0;return t.endsWith("/")&&o++,e.startsWith("/")&&o++,o==2?t+e.substring(1):o==1?t+e:t+"/"+e}function Rm(t){let e=t.match(/#|\?|$/),o=e&&e.index||t.length,r=o-(t[o-1]==="/"?1:0);return t.slice(0,r)+t.slice(o)}function rn(t){return t&&t[0]!=="?"?"?"+t:t}var zn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>E(rc),providedIn:"root"});let t=e;return t})(),Gm=new j(""),rc=(()=>{let e=class e extends zn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(Ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ic(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+rn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,u){let c=this.prepareExternalUrl(s+rn(u));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,u){let c=this.prepareExternalUrl(s+rn(u));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(A(nc),A(Gm,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zm=(()=>{let e=class e extends zn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=ic(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,u){let c=this.prepareExternalUrl(s+rn(u));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,u){let c=this.prepareExternalUrl(s+rn(u));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(A(nc),A(Gm,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Si=(()=>{let e=class e{constructor(r){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=aE(Rm(Fm(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+rn(i))}normalize(r){return e.stripTrailingSlash(sE(this._basePath,Fm(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+rn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+rn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=rn,e.joinWithSlash=ic,e.stripTrailingSlash=Rm,e.\u0275fac=function(i){return new(i||e)(A(zn))},e.\u0275prov=S({token:e,factory:()=>oE(),providedIn:"root"});let t=e;return t})();function oE(){return new Si(A(zn))}function sE(t,e){if(!t||!e.startsWith(t))return e;let o=e.substring(t.length);return o===""||["/",";","?","#"].includes(o[0])?o:e}function Fm(t){return t.replace(/\/index.html$/,"")}function aE(t){if(new RegExp("^(https?:)?//").test(t)){let[,o]=t.split(/\/\/[^\/]+/);return o}return t}function Wm(t,e){e=encodeURIComponent(e);for(let o of t.split(";")){let r=o.indexOf("="),[i,s]=r==-1?[o,""]:[o.slice(0,r),o.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Kl=/\s+/,jm=[],qm=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=jm,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Kl):jm}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Kl):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Kl).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(ft(wr),ft(Ps))},e.\u0275dir=Ii({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Qt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Xl=class{constructor(e,o,r,i){this.$implicit=e,this.ngForOf=o,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ym=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,u,c)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Xl(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(u===null?void 0:u);else if(u!==null){let f=i.get(u);i.move(f,c),Bm(f,s)}});for(let s=0,u=i.length;s<u;s++){let f=i.get(s).context;f.index=s,f.count=u,f.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let u=i.get(s.currentIndex);Bm(u,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ft(xi),ft(Ss),ft(Ql))},e.\u0275dir=Ii({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Bm(t,e){t.context.$implicit=e.item}var Qm=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Jl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Vm("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Vm("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ft(xi),ft(Ss))},e.\u0275dir=Ii({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Jl=class{constructor(){this.$implicit=null,this.ngIf=null}};function Vm(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${$e(e)}'.`)}var zs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=et({type:e}),e.\u0275inj=Je({});let t=e;return t})(),oc="browser",uE="server";function lE(t){return t===oc}function sc(t){return t===uE}var Km=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>lE(E(yn))?new ec(E(Ge),window):new tc});let t=e;return t})(),ec=class{constructor(e,o){this.document=e,this.window=o,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let o=cE(this.document,e);o&&(this.scrollToElement(o),o.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let o=e.getBoundingClientRect(),r=o.left+this.window.pageXOffset,i=o.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function cE(t,e){let o=t.getElementById(e)||t.getElementsByName(e)[0];if(o)return o;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}var tc=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Hs=class{};var lc=class extends Us{constructor(){super(...arguments),this.supportsDOMEvents=!0}},cc=class t extends lc{static makeCurrent(){zm(new t)}onAndCancel(e,o,r){return e.addEventListener(o,r),()=>{e.removeEventListener(o,r)}}dispatchEvent(e,o){e.dispatchEvent(o)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,o){return o=o||this.getDefaultDocument(),o.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,o){return o==="window"?window:o==="document"?e:o==="body"?e.body:null}getBaseHref(e){let o=fE();return o==null?null:pE(o)}resetBaseElement(){Tr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wm(document.cookie,e)}},Tr=null;function fE(){return Tr=Tr||document.querySelector("base"),Tr?Tr.getAttribute("href"):null}function pE(t){return new URL(t,document.baseURI).pathname}var dc=class{addToWindow(e){Ke.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new T(5103,!1);return s},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements();let o=r=>{let i=Ke.getAllAngularTestabilities(),s=i.length,u=function(){s--,s==0&&r()};i.forEach(c=>{c.whenStable(u)})};Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(o)}findTestabilityInTree(e,o,r){if(o==null)return null;let i=e.getTestability(o);return i??(r?Hn().isShadowRoot(o)?this.findTestabilityInTree(e,o.host,!0):this.findTestabilityInTree(e,o.parentElement,!0):null)}},mE=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),hc=new j(""),tg=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(u=>u.supports(r)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(A(hc),A(ae))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),$s=class{constructor(e){this._doc=e}},ac="ng-app-id",ng=(()=>{let e=class e{constructor(r,i,s,u={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sc(u),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ac}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let u=s.get(r);return u.usage+=i,u.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,u=s?.get(i);if(u?.parentNode===r)return s.delete(i),u.removeAttribute(ac),u;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(ac,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),u=this.styleRef,c=u.get(i)?.elements;c?c.push(s):u.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(A(Ge),A(Es),A(Il,8),A(yn))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),uc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pc=/%COMP%/g,ig="%COMP%",gE=`_nghost-${ig}`,vE=`_ngcontent-${ig}`,_E=!0,yE=new j("",{providedIn:"root",factory:()=>_E});function wE(t){return vE.replace(pc,t)}function DE(t){return gE.replace(pc,t)}function rg(t,e){return e.map(o=>o.replace(pc,t))}var Xm=(()=>{let e=class e{constructor(r,i,s,u,c,f,p,g=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=u,this.doc=c,this.platformId=f,this.ngZone=p,this.nonce=g,this.rendererByCompId=new Map,this.platformIsServer=sc(f),this.defaultRenderer=new Sr(r,c,p,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===At.ShadowDom&&(i=ve(M({},i),{encapsulation:At.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Gs?s.applyToHost(r):s instanceof Lr&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,u=s.get(i.id);if(!u){let c=this.doc,f=this.ngZone,p=this.eventManager,g=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case At.Emulated:u=new Gs(p,g,i,this.appId,_,c,f,D);break;case At.ShadowDom:return new fc(p,g,r,i,c,f,this.nonce,D);default:u=new Lr(p,g,i,_,c,f,D);break}s.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(A(tg),A(ng),A(Es),A(yE),A(Ge),A(yn),A(ae),A(Il))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Sr=class{constructor(e,o,r,i){this.eventManager=e,this.doc=o,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,o){return o?this.doc.createElementNS(uc[o]||o,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,o){(Jm(e)?e.content:e).appendChild(o)}insertBefore(e,o,r){e&&(Jm(e)?e.content:e).insertBefore(o,r)}removeChild(e,o){e&&e.removeChild(o)}selectRootElement(e,o){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return o||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,o,r,i){if(i){o=i+":"+o;let s=uc[i];s?e.setAttributeNS(s,o,r):e.setAttribute(o,r)}else e.setAttribute(o,r)}removeAttribute(e,o,r){if(r){let i=uc[r];i?e.removeAttributeNS(i,o):e.removeAttribute(`${r}:${o}`)}else e.removeAttribute(o)}addClass(e,o){e.classList.add(o)}removeClass(e,o){e.classList.remove(o)}setStyle(e,o,r,i){i&(Vn.DashCase|Vn.Important)?e.style.setProperty(o,r,i&Vn.Important?"important":""):e.style[o]=r}removeStyle(e,o,r){r&Vn.DashCase?e.style.removeProperty(o):e.style[o]=""}setProperty(e,o,r){e!=null&&(e[o]=r)}setValue(e,o){e.nodeValue=o}listen(e,o,r){if(typeof e=="string"&&(e=Hn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${o}`);return this.eventManager.addEventListener(e,o,this.decoratePreventDefault(r))}decoratePreventDefault(e){return o=>{if(o==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(o)):e(o))===!1&&o.preventDefault()}}};function Jm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var fc=class extends Sr{constructor(e,o,r,i,s,u,c,f){super(e,s,u,f),this.sharedStylesHost=o,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=rg(i.id,i.styles);for(let g of p){let _=document.createElement("style");c&&_.setAttribute("nonce",c),_.textContent=g,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,o){return super.appendChild(this.nodeOrShadowRoot(e),o)}insertBefore(e,o,r){return super.insertBefore(this.nodeOrShadowRoot(e),o,r)}removeChild(e,o){return super.removeChild(this.nodeOrShadowRoot(e),o)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Lr=class extends Sr{constructor(e,o,r,i,s,u,c,f){super(e,s,u,c),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=i,this.styles=f?rg(f,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Gs=class extends Lr{constructor(e,o,r,i,s,u,c,f){let p=i+"-"+r.id;super(e,o,r,s,u,c,f,p),this.contentAttr=wE(p),this.hostAttr=DE(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,o){let r=super.createElement(e,o);return super.setAttribute(r,this.contentAttr,""),r}},CE=(()=>{let e=class e extends $s{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(A(Ge))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),eg=["alt","control","meta","shift"],bE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},IE=(()=>{let e=class e extends $s{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let u=e.parseEventName(i),c=e.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hn().onAndCancel(r,u.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let u=e._normalizeKey(i.pop()),c="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),c="code."),eg.forEach(g=>{let _=i.indexOf(g);_>-1&&(i.splice(_,1),c+=g+".")}),c+=u,i.length!=0||u.length===0)return null;let p={};return p.domEventName=s,p.fullKey=c,p}static matchEventFullKeyCode(r,i){let s=bE[r.key]||r.key,u="";return i.indexOf("code.")>-1&&(s=r.code,u="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),eg.forEach(c=>{if(c!==s){let f=EE[c];f(r)&&(u+=c+".")}}),u+=s,u===i)}static eventCallback(r,i,s){return u=>{e.matchEventFullKeyCode(u,r)&&s.runGuarded(()=>i(u))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(A(Ge))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function ME(){cc.makeCurrent()}function xE(){return new Rt}function TE(){return Wp(document),document}var SE=[{provide:yn,useValue:oc},{provide:El,useValue:ME,multi:!0},{provide:Ge,useFactory:TE,deps:[]}],og=Yl(Nm,"browser",SE),LE=new j(""),PE=[{provide:Ir,useClass:dc,deps:[]},{provide:Gl,useClass:Fs,deps:[ae,js,Ir]},{provide:Fs,useClass:Fs,deps:[ae,js,Ir]}],AE=[{provide:ps,useValue:"root"},{provide:Rt,useFactory:xE,deps:[]},{provide:hc,useClass:CE,multi:!0,deps:[Ge,ae,yn]},{provide:hc,useClass:IE,multi:!0,deps:[Ge]},Xm,ng,tg,{provide:gr,useExisting:Xm},{provide:Hs,useClass:mE,deps:[]},[]],sg=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Es,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(A(LE,12))},e.\u0275mod=et({type:e}),e.\u0275inj=Je({providers:[...AE,...PE],imports:[zs,km]});let t=e;return t})();var ag=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(A(Ge))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U="primary",Gr=Symbol("RouteTitle"),yc=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let o=this.params[e];return Array.isArray(o)?o[0]:o}return null}getAll(e){if(this.has(e)){let o=this.params[e];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}};function ki(t){return new yc(t)}function NE(t,e,o){let r=o.path.split("/");if(r.length>t.length||o.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let u=r[s],c=t[s];if(u.startsWith(":"))i[u.substring(1)]=c;else if(u!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kE(t,e){if(t.length!==e.length)return!1;for(let o=0;o<t.length;++o)if(!Bt(t[o],e[o]))return!1;return!0}function Bt(t,e){let o=t?wc(t):void 0,r=e?wc(e):void 0;if(!o||!r||o.length!=r.length)return!1;let i;for(let s=0;s<o.length;s++)if(i=o[s],!vg(t[i],e[i]))return!1;return!0}function wc(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function vg(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let o=[...t].sort(),r=[...e].sort();return o.every((i,s)=>r[s]===i)}else return t===e}function _g(t){return t.length>0?t[t.length-1]:null}function bn(t){return au(t)?t:Mr(t)?de(Promise.resolve(t)):N(t)}var OE={exact:wg,subset:Dg},yg={exact:RE,subset:FE,ignored:()=>!0};function lg(t,e,o){return OE[o.paths](t.root,e.root,o.matrixParams)&&yg[o.queryParams](t.queryParams,e.queryParams)&&!(o.fragment==="exact"&&t.fragment!==e.fragment)}function RE(t,e){return Bt(t,e)}function wg(t,e,o){if(!Gn(t.segments,e.segments)||!qs(t.segments,e.segments,o)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!wg(t.children[r],e.children[r],o))return!1;return!0}function FE(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(o=>vg(t[o],e[o]))}function Dg(t,e,o){return Cg(t,e,e.segments,o)}function Cg(t,e,o,r){if(t.segments.length>o.length){let i=t.segments.slice(0,o.length);return!(!Gn(i,o)||e.hasChildren()||!qs(i,o,r))}else if(t.segments.length===o.length){if(!Gn(t.segments,o)||!qs(t.segments,o,r))return!1;for(let i in e.children)if(!t.children[i]||!Dg(t.children[i],e.children[i],r))return!1;return!0}else{let i=o.slice(0,t.segments.length),s=o.slice(t.segments.length);return!Gn(t.segments,i)||!qs(t.segments,i,r)||!t.children[U]?!1:Cg(t.children[U],e,s,r)}}function qs(t,e,o){return e.every((r,i)=>yg[o](t[i].parameters,r.parameters))}var wn=class{constructor(e=new ne([],{}),o={},r=null){this.root=e,this.queryParams=o,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ki(this.queryParams),this._queryParamMap}toString(){return VE.serialize(this)}},ne=class{constructor(e,o){this.segments=e,this.children=o,this.parent=null,Object.values(o).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ys(this)}},$n=class{constructor(e,o){this.path=e,this.parameters=o}get parameterMap(){return this._parameterMap??=ki(this.parameters),this._parameterMap}toString(){return Eg(this)}};function jE(t,e){return Gn(t,e)&&t.every((o,r)=>Bt(o.parameters,e[r].parameters))}function Gn(t,e){return t.length!==e.length?!1:t.every((o,r)=>o.path===e[r].path)}function BE(t,e){let o=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(o=o.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(o=o.concat(e(i,r)))}),o}var Zr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>new Fr,providedIn:"root"});let t=e;return t})(),Fr=class{parse(e){let o=new Cc(e);return new wn(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(e){let o=`/${Pr(e.root,!0)}`,r=zE(e.queryParams),i=typeof e.fragment=="string"?`#${UE(e.fragment)}`:"";return`${o}${r}${i}`}},VE=new Fr;function Ys(t){return t.segments.map(e=>Eg(e)).join("/")}function Pr(t,e){if(!t.hasChildren())return Ys(t);if(e){let o=t.children[U]?Pr(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==U&&r.push(`${i}:${Pr(s,!1)}`)}),r.length>0?`${o}(${r.join("//")})`:o}else{let o=BE(t,(r,i)=>i===U?[Pr(t.children[U],!1)]:[`${i}:${Pr(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${Ys(t)}/${o[0]}`:`${Ys(t)}/(${o.join("//")})`}}function bg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zs(t){return bg(t).replace(/%3B/gi,";")}function UE(t){return encodeURI(t)}function Dc(t){return bg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qs(t){return decodeURIComponent(t)}function cg(t){return Qs(t.replace(/\+/g,"%20"))}function Eg(t){return`${Dc(t.path)}${HE(t.parameters)}`}function HE(t){return Object.entries(t).map(([e,o])=>`;${Dc(e)}=${Dc(o)}`).join("")}function zE(t){let e=Object.entries(t).map(([o,r])=>Array.isArray(r)?r.map(i=>`${Zs(o)}=${Zs(i)}`).join("&"):`${Zs(o)}=${Zs(r)}`).filter(o=>o);return e.length?`?${e.join("&")}`:""}var $E=/^[^\/()?;#]+/;function mc(t){let e=t.match($E);return e?e[0]:""}var GE=/^[^\/()?;=#]+/;function ZE(t){let e=t.match(GE);return e?e[0]:""}var WE=/^[^=?&#]+/;function qE(t){let e=t.match(WE);return e?e[0]:""}var YE=/^[^&#]+/;function QE(t){let e=t.match(YE);return e?e[0]:""}var Cc=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(o).length>0)&&(r[U]=new ne(e,o)),r}parseSegment(){let e=mc(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new $n(Qs(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let o=ZE(this.remaining);if(!o)return;this.capture(o);let r="";if(this.consumeOptional("=")){let i=mc(this.remaining);i&&(r=i,this.capture(r))}e[Qs(o)]=Qs(r)}parseQueryParam(e){let o=qE(this.remaining);if(!o)return;this.capture(o);let r="";if(this.consumeOptional("=")){let u=QE(this.remaining);u&&(r=u,this.capture(r))}let i=cg(o),s=cg(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(s)}else e[i]=s}parseParens(e){let o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=mc(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=U);let u=this.parseChildren();o[s]=Object.keys(u).length===1?u[U]:new ne([],u),this.consumeOptional("//")}return o}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}};function Ig(t){return t.segments.length>0?new ne([],{[U]:t}):t}function Mg(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Mg(i);if(r===U&&s.segments.length===0&&s.hasChildren())for(let[u,c]of Object.entries(s.children))e[u]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let o=new ne(t.segments,e);return KE(o)}function KE(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ne(t.segments.concat(e.segments),e.children)}return t}function Oi(t){return t instanceof wn}function XE(t,e,o=null,r=null){let i=xg(t);return Tg(i,e,o,r)}function xg(t){let e;function o(s){let u={};for(let f of s.children){let p=o(f);u[f.outlet]=p}let c=new ne(s.url,u);return s===t&&(e=c),c}let r=o(t.root),i=Ig(r);return e??i}function Tg(t,e,o,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return gc(i,i,i,o,r);let s=JE(e);if(s.toRoot())return gc(i,i,new ne([],{}),o,r);let u=e0(s,i,t),c=u.processChildren?kr(u.segmentGroup,u.index,s.commands):Lg(u.segmentGroup,u.index,s.commands);return gc(i,u.segmentGroup,c,o,r)}function Ks(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function jr(t){return typeof t=="object"&&t!=null&&t.outlets}function gc(t,e,o,r,i){let s={};r&&Object.entries(r).forEach(([f,p])=>{s[f]=Array.isArray(p)?p.map(g=>`${g}`):`${p}`});let u;t===e?u=o:u=Sg(t,e,o);let c=Ig(Mg(u));return new wn(c,s,i)}function Sg(t,e,o){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=o:r[i]=Sg(s,e,o)}),new ne(t.segments,r)}var Xs=class{constructor(e,o,r){if(this.isAbsolute=e,this.numberOfDoubleDots=o,this.commands=r,e&&r.length>0&&Ks(r[0]))throw new T(4003,!1);let i=r.find(jr);if(i&&i!==_g(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JE(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xs(!0,0,t);let e=0,o=!1,r=t.reduce((i,s,u)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([f,p])=>{c[f]=typeof p=="string"?p.split("/"):p}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:u===0?(s.split("/").forEach((c,f)=>{f==0&&c==="."||(f==0&&c===""?o=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Xs(o,e,r)}var Ai=class{constructor(e,o,r){this.segmentGroup=e,this.processChildren=o,this.index=r}};function e0(t,e,o){if(t.isAbsolute)return new Ai(e,!0,0);if(!o)return new Ai(e,!1,NaN);if(o.parent===null)return new Ai(o,!0,0);let r=Ks(t.commands[0])?0:1,i=o.segments.length-1+r;return t0(o,i,t.numberOfDoubleDots)}function t0(t,e,o){let r=t,i=e,s=o;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Ai(r,!1,i-s)}function n0(t){return jr(t[0])?t[0].outlets:{[U]:t}}function Lg(t,e,o){if(t??=new ne([],{}),t.segments.length===0&&t.hasChildren())return kr(t,e,o);let r=i0(t,e,o),i=o.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ne(t.segments.slice(0,r.pathIndex),{});return s.children[U]=new ne(t.segments.slice(r.pathIndex),t.children),kr(s,0,i)}else return r.match&&i.length===0?new ne(t.segments,{}):r.match&&!t.hasChildren()?bc(t,e,o):r.match?kr(t,0,i):bc(t,e,o)}function kr(t,e,o){if(o.length===0)return new ne(t.segments,{});{let r=n0(o),i={};if(Object.keys(r).some(s=>s!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let s=kr(t.children[U],e,o);return new ne(t.segments,s.children)}return Object.entries(r).forEach(([s,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(i[s]=Lg(t.children[s],e,u))}),Object.entries(t.children).forEach(([s,u])=>{r[s]===void 0&&(i[s]=u)}),new ne(t.segments,i)}}function i0(t,e,o){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=o.length)return s;let u=t.segments[i],c=o[r];if(jr(c))break;let f=`${c}`,p=r<o.length-1?o[r+1]:null;if(i>0&&f===void 0)break;if(f&&p&&typeof p=="object"&&p.outlets===void 0){if(!hg(f,p,u))return s;r+=2}else{if(!hg(f,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bc(t,e,o){let r=t.segments.slice(0,e),i=0;for(;i<o.length;){let s=o[i];if(jr(s)){let f=r0(s.outlets);return new ne(r,f)}if(i===0&&Ks(o[0])){let f=t.segments[e];r.push(new $n(f.path,dg(o[0]))),i++;continue}let u=jr(s)?s.outlets[U]:`${s}`,c=i<o.length-1?o[i+1]:null;u&&c&&Ks(c)?(r.push(new $n(u,dg(c))),i+=2):(r.push(new $n(u,{})),i++)}return new ne(r,{})}function r0(t){let e={};return Object.entries(t).forEach(([o,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[o]=bc(new ne([],{}),0,r))}),e}function dg(t){let e={};return Object.entries(t).forEach(([o,r])=>e[o]=`${r}`),e}function hg(t,e,o){return t==o.path&&Bt(e,o.parameters)}var Or="imperative",Ee=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ee||{}),pt=class{constructor(e,o){this.id=e,this.url=o}},Ri=class extends pt{constructor(e,o,r="imperative",i=null){super(e,o),this.type=Ee.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},on=class extends pt{constructor(e,o,r){super(e,o),this.urlAfterRedirects=r,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(it||{}),Js=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Js||{}),Dn=class extends pt{constructor(e,o,r,i){super(e,o),this.reason=r,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cn=class extends pt{constructor(e,o,r,i){super(e,o),this.reason=r,this.code=i,this.type=Ee.NavigationSkipped}},Br=class extends pt{constructor(e,o,r,i){super(e,o),this.error=r,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ea=class extends pt{constructor(e,o,r,i){super(e,o),this.urlAfterRedirects=r,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ec=class extends pt{constructor(e,o,r,i){super(e,o),this.urlAfterRedirects=r,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ic=class extends pt{constructor(e,o,r,i,s){super(e,o),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mc=class extends pt{constructor(e,o,r,i){super(e,o),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xc=class extends pt{constructor(e,o,r,i){super(e,o),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tc=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sc=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Lc=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pc=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ac=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nc=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ta=class{constructor(e,o,r){this.routerEvent=e,this.position=o,this.anchor=r,this.type=Ee.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Vr=class{},Ur=class{constructor(e){this.url=e}};var kc=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wr,this.attachRef=null}},Wr=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new kc,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),na=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let o=this.pathFromRoot(e);return o.length>1?o[o.length-2]:null}children(e){let o=Oc(e,this._root);return o?o.children.map(r=>r.value):[]}firstChild(e){let o=Oc(e,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(e){let o=Rc(e,this._root);return o.length<2?[]:o[o.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rc(e,this._root).map(o=>o.value)}};function Oc(t,e){if(t===e.value)return e;for(let o of e.children){let r=Oc(t,o);if(r)return r}return null}function Rc(t,e){if(t===e.value)return[e];for(let o of e.children){let r=Rc(t,o);if(r.length)return r.unshift(e),r}return[]}var nt=class{constructor(e,o){this.value=e,this.children=o}toString(){return`TreeNode(${this.value})`}};function Pi(t){let e={};return t&&t.children.forEach(o=>e[o.value.outlet]=o),e}var ia=class extends na{constructor(e,o){super(e),this.snapshot=o,Zc(this,e)}toString(){return this.snapshot.toString()}};function Pg(t){let e=o0(t),o=new Me([new $n("",{})]),r=new Me({}),i=new Me({}),s=new Me({}),u=new Me(""),c=new Fi(o,r,s,u,i,U,t,e.root);return c.snapshot=e.root,new ia(new nt(c,[]),e)}function o0(t){let e={},o={},r={},i="",s=new Hr([],e,r,i,o,U,t,null,{});return new ra("",new nt(s,[]))}var Fi=class{constructor(e,o,r,i,s,u,c,f){this.urlSubject=e,this.paramsSubject=o,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=u,this.component=c,this._futureSnapshot=f,this.title=this.dataSubject?.pipe(X(p=>p[Gr]))??N(void 0),this.url=e,this.params=o,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>ki(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>ki(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gc(t,e,o="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(o==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),t.params),data:M(M({},e.data),t.data),resolve:M(M(M(M({},t.data),e.data),i?.data),t._resolvedData)}:r={params:M({},t.params),data:M({},t.data),resolve:M(M({},t.data),t._resolvedData??{})},i&&Ng(i)&&(r.resolve[Gr]=i.title),r}var Hr=class{get title(){return this.data?.[Gr]}constructor(e,o,r,i,s,u,c,f,p){this.url=e,this.params=o,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=c,this.routeConfig=f,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ki(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),o=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${o}')`}},ra=class extends na{constructor(e,o){super(o),this.url=e,Zc(this,o)}toString(){return Ag(this._root)}};function Zc(t,e){e.value._routerState=t,e.children.forEach(o=>Zc(t,o))}function Ag(t){let e=t.children.length>0?` { ${t.children.map(Ag).join(", ")} } `:"";return`${t.value}${e}`}function vc(t){if(t.snapshot){let e=t.snapshot,o=t._futureSnapshot;t.snapshot=o,Bt(e.queryParams,o.queryParams)||t.queryParamsSubject.next(o.queryParams),e.fragment!==o.fragment&&t.fragmentSubject.next(o.fragment),Bt(e.params,o.params)||t.paramsSubject.next(o.params),kE(e.url,o.url)||t.urlSubject.next(o.url),Bt(e.data,o.data)||t.dataSubject.next(o.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fc(t,e){let o=Bt(t.params,e.params)&&jE(t.url,e.url),r=!t.parent!=!e.parent;return o&&!r&&(!t.parent||Fc(t.parent,e.parent))}function Ng(t){return typeof t.title=="string"||t.title===null}var Wc=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=E(Wr),this.location=E(xi),this.changeDetector=E(xr),this.environmentInjector=E(Xe),this.inputBinder=E(la,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,p=new jc(r,f,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:p,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ii({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ys]});let t=e;return t})(),jc=class{constructor(e,o,r){this.route=e,this.childContexts=o,this.parent=r}get(e,o){return e===Fi?this.route:e===Wr?this.childContexts:this.parent.get(e,o)}},la=new j(""),fg=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ir([i.queryParams,i.params,i.data]).pipe(ut(([u,c,f],p)=>(f=M(M(M({},u),c),f),p===0?N(f):Promise.resolve(f)))).subscribe(u=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let c=Om(i.component);if(!c){this.unsubscribeFromRouteData(r);return}for(let{templateName:f}of c.inputs)r.activatedComponentRef.setInput(f,u[f])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function s0(t,e,o){let r=zr(t,e._root,o?o._root:void 0);return new ia(r,e)}function zr(t,e,o){if(o&&t.shouldReuseRoute(e.value,o.value.snapshot)){let r=o.value;r._futureSnapshot=e.value;let i=a0(t,e,o);return new nt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(c=>zr(t,c)),u}}let r=u0(e.value),i=e.children.map(s=>zr(t,s));return new nt(r,i)}}function a0(t,e,o){return e.children.map(r=>{for(let i of o.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zr(t,r,i);return zr(t,r)})}function u0(t){return new Fi(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var kg="ngNavigationCancelingError";function Og(t,e){let{redirectTo:o,navigationBehaviorOptions:r}=Oi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Rg(!1,it.Redirect);return i.url=o,i.navigationBehaviorOptions=r,i}function Rg(t,e){let o=new Error(`NavigationCancelingError: ${t||""}`);return o[kg]=!0,o.cancellationCode=e,o}function l0(t){return Fg(t)&&Oi(t.url)}function Fg(t){return!!t&&t[kg]}var c0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[Em],decls:1,vars:0,template:function(i,s){i&1&&ke(0,"router-outlet")},dependencies:[Wc],encapsulation:2});let t=e;return t})();function d0(t,e){return t.providers&&!t._injector&&(t._injector=As(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qc(t){let e=t.children&&t.children.map(qc),o=e?ve(M({},t),{children:e}):M({},t);return!o.component&&!o.loadComponent&&(e||o.loadChildren)&&o.outlet&&o.outlet!==U&&(o.component=c0),o}function Vt(t){return t.outlet||U}function h0(t,e){let o=t.filter(r=>Vt(r)===e);return o.push(...t.filter(r=>Vt(r)!==e)),o}function qr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let o=e.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}var f0=(t,e,o,r)=>X(i=>(new Bc(e,i.targetRouterState,i.currentRouterState,o,r).activate(t),i)),Bc=class{constructor(e,o,r,i,s){this.routeReuseStrategy=e,this.futureState=o,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let o=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,r,e),vc(this.futureState.root),this.activateChildRoutes(o,r,e)}deactivateChildRoutes(e,o,r){let i=Pi(o);e.children.forEach(s=>{let u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,o,r){let i=e.value,s=o?o.value:null;if(i===s)if(i.component){let u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,o,u.children)}else this.deactivateChildRoutes(e,o,r);else s&&this.deactivateRouteAndItsChildren(o,r)}deactivateRouteAndItsChildren(e,o){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,o):this.deactivateRouteAndOutlet(e,o)}detachAndStoreRouteSubtree(e,o){let r=o.getContext(e.value.outlet),i=r&&e.value.component?r.children:o,s=Pi(e);for(let u of Object.values(s))this.deactivateRouteAndItsChildren(u,i);if(r&&r.outlet){let u=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:c})}}deactivateRouteAndOutlet(e,o){let r=o.getContext(e.value.outlet),i=r&&e.value.component?r.children:o,s=Pi(e);for(let u of Object.values(s))this.deactivateRouteAndItsChildren(u,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,o,r){let i=Pi(o);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Nc(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Pc(e.value.snapshot))}activateRoutes(e,o,r){let i=e.value,s=o?o.value:null;if(vc(i),i===s)if(i.component){let u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,o,u.children)}else this.activateChildRoutes(e,o,r);else if(i.component){let u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(c.contexts),u.attachRef=c.componentRef,u.route=c.route.value,u.outlet&&u.outlet.attach(c.componentRef,c.route.value),vc(c.route.value),this.activateChildRoutes(e,null,u.children)}else{let c=qr(i.snapshot);u.attachRef=null,u.route=i,u.injector=c,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}},oa=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ni=class{constructor(e,o){this.component=e,this.route=o}};function p0(t,e,o){let r=t._root,i=e?e._root:null;return Ar(r,i,o,[r.value])}function m0(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Bi(t,e){let o=Symbol(),r=e.get(t,o);return r===o?typeof t=="function"&&!Ff(t)?t:e.get(t):r}function Ar(t,e,o,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Pi(e);return t.children.forEach(u=>{g0(u,s[u.value.outlet],o,r.concat([u.value]),i),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,c])=>Rr(c,o.getContext(u),i)),i}function g0(t,e,o,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,u=e?e.value:null,c=o?o.getContext(t.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){let f=v0(u,s,s.routeConfig.runGuardsAndResolvers);f?i.canActivateChecks.push(new oa(r)):(s.data=u.data,s._resolvedData=u._resolvedData),s.component?Ar(t,e,c?c.children:null,r,i):Ar(t,e,o,r,i),f&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Ni(c.outlet.component,u))}else u&&Rr(e,c,i),i.canActivateChecks.push(new oa(r)),s.component?Ar(t,null,c?c.children:null,r,i):Ar(t,null,o,r,i);return i}function v0(t,e,o){if(typeof o=="function")return o(t,e);switch(o){case"pathParamsChange":return!Gn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gn(t.url,e.url)||!Bt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fc(t,e)||!Bt(t.queryParams,e.queryParams);case"paramsChange":default:return!Fc(t,e)}}function Rr(t,e,o){let r=Pi(t),i=t.value;Object.entries(r).forEach(([s,u])=>{i.component?e?Rr(u,e.children.getContext(s),o):Rr(u,null,o):Rr(u,e,o)}),i.component?e&&e.outlet&&e.outlet.isActivated?o.canDeactivateChecks.push(new Ni(e.outlet.component,i)):o.canDeactivateChecks.push(new Ni(null,i)):o.canDeactivateChecks.push(new Ni(null,i))}function Yr(t){return typeof t=="function"}function _0(t){return typeof t=="boolean"}function y0(t){return t&&Yr(t.canLoad)}function w0(t){return t&&Yr(t.canActivate)}function D0(t){return t&&Yr(t.canActivateChild)}function C0(t){return t&&Yr(t.canDeactivate)}function b0(t){return t&&Yr(t.canMatch)}function jg(t){return t instanceof qt||t?.name==="EmptyError"}var Ws=Symbol("INITIAL_VALUE");function ji(){return ut(t=>ir(t.map(e=>e.pipe(Yt(1),du(Ws)))).pipe(X(e=>{for(let o of e)if(o!==!0){if(o===Ws)return Ws;if(o===!1||o instanceof wn)return o}return!0}),at(e=>e!==Ws),Yt(1)))}function E0(t,e){return _e(o=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=o;return u.length===0&&s.length===0?N(ve(M({},o),{guardsResult:!0})):I0(u,r,i,t).pipe(_e(c=>c&&_0(c)?M0(r,s,t,e):N(c)),X(c=>ve(M({},o),{guardsResult:c})))})}function I0(t,e,o,r){return de(t).pipe(_e(i=>P0(i.component,i.route,o,e,r)),Tt(i=>i!==!0,!0))}function M0(t,e,o,r){return de(e).pipe(An(i=>di(T0(i.route.parent,r),x0(i.route,r),L0(t,i.path,o),S0(t,i.route,o))),Tt(i=>i!==!0,!0))}function x0(t,e){return t!==null&&e&&e(new Ac(t)),N(!0)}function T0(t,e){return t!==null&&e&&e(new Lc(t)),N(!0)}function S0(t,e,o){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>Ro(()=>{let u=qr(e)??o,c=Bi(s,u),f=w0(c)?c.canActivate(e,t):Xt(u,()=>c(e,t));return bn(f).pipe(Tt())}));return N(i).pipe(ji())}function L0(t,e,o){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>m0(u)).filter(u=>u!==null).map(u=>Ro(()=>{let c=u.guards.map(f=>{let p=qr(u.node)??o,g=Bi(f,p),_=D0(g)?g.canActivateChild(r,t):Xt(p,()=>g(r,t));return bn(_).pipe(Tt())});return N(c).pipe(ji())}));return N(s).pipe(ji())}function P0(t,e,o,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let u=s.map(c=>{let f=qr(e)??i,p=Bi(c,f),g=C0(p)?p.canDeactivate(t,e,o,r):Xt(f,()=>p(t,e,o,r));return bn(g).pipe(Tt())});return N(u).pipe(ji())}function A0(t,e,o,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(u=>{let c=Bi(u,t),f=y0(c)?c.canLoad(e,o):Xt(t,()=>c(e,o));return bn(f)});return N(s).pipe(ji(),Bg(r))}function Bg(t){return iu(xe(e=>{if(Oi(e))throw Og(t,e)}),X(e=>e===!0))}function N0(t,e,o,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(u=>{let c=Bi(u,t),f=b0(c)?c.canMatch(e,o):Xt(t,()=>c(e,o));return bn(f)});return N(s).pipe(ji(),Bg(r))}var $r=class{constructor(e){this.segmentGroup=e||null}},sa=class extends Error{constructor(e){super(),this.urlTree=e}};function Li(t){return li(new $r(t))}function k0(t){return li(new T(4e3,!1))}function O0(t){return li(Rg(!1,it.GuardRejected))}var Vc=class{constructor(e,o){this.urlSerializer=e,this.urlTree=o}lineralizeSegments(e,o){let r=[],i=o.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[U])return k0(e.redirectTo);i=i.children[U]}}applyRedirectCommands(e,o,r){let i=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o.startsWith("/"))throw new sa(i);return i}applyRedirectCreateUrlTree(e,o,r,i){let s=this.createSegmentGroup(e,o.root,r,i);return new wn(s,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(e,o){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);r[i]=o[c]}else r[i]=s}),r}createSegmentGroup(e,o,r,i){let s=this.createSegments(e,o.segments,r,i),u={};return Object.entries(o.children).forEach(([c,f])=>{u[c]=this.createSegmentGroup(e,f,r,i)}),new ne(s,u)}createSegments(e,o,r,i){return o.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,o,r){let i=r[o.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,o){let r=0;for(let i of o){if(i.path===e.path)return o.splice(r),i;r++}return e}},Uc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R0(t,e,o,r,i){let s=Yc(t,e,o);return s.matched?(r=d0(e,r),N0(r,e,o,i).pipe(X(u=>u===!0?s:M({},Uc)))):N(s)}function Yc(t,e,o){if(e.path==="**")return F0(o);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||o.length>0)?M({},Uc):{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};let i=(e.matcher||NE)(o,t,e);if(!i)return M({},Uc);let s={};Object.entries(i.posParams??{}).forEach(([c,f])=>{s[c]=f.path});let u=i.consumed.length>0?M(M({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:o.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function F0(t){return{matched:!0,parameters:t.length>0?_g(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function pg(t,e,o,r){return o.length>0&&V0(t,o,r)?{segmentGroup:new ne(e,B0(r,new ne(o,t.children))),slicedSegments:[]}:o.length===0&&U0(t,o,r)?{segmentGroup:new ne(t.segments,j0(t,o,r,t.children)),slicedSegments:o}:{segmentGroup:new ne(t.segments,t.children),slicedSegments:o}}function j0(t,e,o,r){let i={};for(let s of o)if(ca(t,e,s)&&!r[Vt(s)]){let u=new ne([],{});i[Vt(s)]=u}return M(M({},r),i)}function B0(t,e){let o={};o[U]=e;for(let r of t)if(r.path===""&&Vt(r)!==U){let i=new ne([],{});o[Vt(r)]=i}return o}function V0(t,e,o){return o.some(r=>ca(t,e,r)&&Vt(r)!==U)}function U0(t,e,o){return o.some(r=>ca(t,e,r))}function ca(t,e,o){return(t.hasChildren()||e.length>0)&&o.pathMatch==="full"?!1:o.path===""}function H0(t,e,o,r){return Vt(t)!==r&&(r===U||!ca(e,o,t))?!1:Yc(e,t,o).matched}function z0(t,e,o){return e.length===0&&!t.children[o]}var Hc=class{};function $0(t,e,o,r,i,s,u="emptyOnly"){return new zc(t,e,o,r,i,u,s).recognize()}var G0=31,zc=class{constructor(e,o,r,i,s,u,c){this.injector=e,this.configLoader=o,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=c,this.applyRedirects=new Vc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new T(4002,`'${e.segmentGroup}'`)}recognize(){let e=pg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(o=>{let r=new Hr([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},U,this.rootComponentType,null,{}),i=new nt(r,o),s=new ra("",i),u=XE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root,null),{state:s,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,U).pipe(dn(r=>{if(r instanceof sa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $r?this.noMatchError(r):r}))}inheritParamsAndData(e,o){let r=e.value,i=Gc(r,o,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,o,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,o,r):this.processSegment(e,o,r,r.segments,i,!0).pipe(X(s=>s instanceof nt?[s]:[]))}processChildren(e,o,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(An(s=>{let u=r.children[s],c=h0(o,s);return this.processSegmentGroup(e,c,u,s)}),cu((s,u)=>(s.push(...u),s)),hn(null),lu(),_e(s=>{if(s===null)return Li(r);let u=Vg(s);return Z0(u),N(u)}))}processSegment(e,o,r,i,s,u){return de(o).pipe(An(c=>this.processSegmentAgainstRoute(c._injector??e,o,c,r,i,s,u).pipe(dn(f=>{if(f instanceof $r)return N(null);throw f}))),Tt(c=>!!c),dn(c=>{if(jg(c))return z0(r,i,s)?N(new Hc):Li(r);throw c}))}processSegmentAgainstRoute(e,o,r,i,s,u,c){return H0(r,i,s,u)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,o,r,s,u):Li(i):Li(i)}expandSegmentAgainstRouteUsingRedirect(e,o,r,i,s,u){let{matched:c,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=Yc(o,i,s);if(!c)return Li(o);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>G0&&(this.allowRedirects=!1));let _=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p);return this.applyRedirects.lineralizeSegments(i,_).pipe(_e(D=>this.processSegment(e,r,o,D.concat(g),u,!1)))}matchSegmentAgainstRoute(e,o,r,i,s){let u=R0(o,r,i,e,this.urlSerializer);return r.path==="**"&&(o.children={}),u.pipe(ut(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ut(({routes:f})=>{let p=r._loadedInjector??e,{consumedSegments:g,remainingSegments:_,parameters:D}=c,b=new Hr(g,D,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,q0(r),Vt(r),r.component??r._loadedComponent??null,r,Y0(r)),{segmentGroup:R,slicedSegments:W}=pg(o,g,_,f);if(W.length===0&&R.hasChildren())return this.processChildren(p,f,R).pipe(X(G=>G===null?null:new nt(b,G)));if(f.length===0&&W.length===0)return N(new nt(b,[]));let fe=Vt(r)===s;return this.processSegment(p,f,R,W,fe?U:s,!0).pipe(X(G=>new nt(b,G instanceof nt?[G]:[])))}))):Li(o)))}getChildConfig(e,o,r){return o.children?N({routes:o.children,injector:e}):o.loadChildren?o._loadedRoutes!==void 0?N({routes:o._loadedRoutes,injector:o._loadedInjector}):A0(e,o,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,o).pipe(xe(s=>{o._loadedRoutes=s.routes,o._loadedInjector=s.injector})):O0(o))):N({routes:[],injector:e})}};function Z0(t){t.sort((e,o)=>e.value.outlet===U?-1:o.value.outlet===U?1:e.value.outlet.localeCompare(o.value.outlet))}function W0(t){let e=t.value.routeConfig;return e&&e.path===""}function Vg(t){let e=[],o=new Set;for(let r of t){if(!W0(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),o.add(i)):e.push(r)}for(let r of o){let i=Vg(r.children);e.push(new nt(r.value,i))}return e.filter(r=>!o.has(r))}function q0(t){return t.data||{}}function Y0(t){return t.resolve||{}}function Q0(t,e,o,r,i,s){return _e(u=>$0(t,e,o,r,u.extractedUrl,i,s).pipe(X(({state:c,tree:f})=>ve(M({},u),{targetSnapshot:c,urlAfterRedirects:f}))))}function K0(t,e){return _e(o=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=o;if(!i.length)return N(o);let s=new Set(i.map(f=>f.route)),u=new Set;for(let f of s)if(!u.has(f))for(let p of Ug(f))u.add(p);let c=0;return de(u).pipe(An(f=>s.has(f)?X0(f,r,t,e):(f.data=Gc(f,f.parent,t).resolve,N(void 0))),xe(()=>c++),hi(1),_e(f=>c===u.size?N(o):Qe))})}function Ug(t){let e=t.children.map(o=>Ug(o)).flat();return[t,...e]}function X0(t,e,o,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Ng(i)&&(s[Gr]=i.title),J0(s,t,e,r).pipe(X(u=>(t._resolvedData=u,t.data=Gc(t,t.parent,o).resolve,null)))}function J0(t,e,o,r){let i=wc(t);if(i.length===0)return N({});let s={};return de(i).pipe(_e(u=>eI(t[u],e,o,r).pipe(Tt(),xe(c=>{s[u]=c}))),hi(1),uu(s),dn(u=>jg(u)?Qe:li(u)))}function eI(t,e,o,r){let i=qr(e)??r,s=Bi(t,i),u=s.resolve?s.resolve(e,o):Xt(i,()=>s(e,o));return bn(u)}function _c(t){return ut(e=>{let o=t(e);return o?de(o).pipe(X(()=>e)):N(e)})}var Hg=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(u=>u.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[Gr]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>E(tI),providedIn:"root"});let t=e;return t})(),tI=(()=>{let e=class e extends Hg{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(A(ag))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qr=new j("",{providedIn:"root",factory:()=>({})}),aa=new j(""),Qc=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(Vs)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=bn(r.loadComponent()).pipe(X(zg),xe(u=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=u}),rr(()=>{this.componentLoaders.delete(r)})),s=new ui(i,()=>new Re).pipe(ai());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let u=nI(i,this.compiler,r,this.onLoadEndListener).pipe(rr(()=>{this.childrenLoaders.delete(i)})),c=new ui(u,()=>new Re).pipe(ai());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nI(t,e,o,r){return bn(t.loadChildren()).pipe(X(zg),_e(i=>i instanceof vr||Array.isArray(i)?N(i):de(e.compileModuleAsync(i))),X(i=>{r&&r(t);let s,u,c=!1;return Array.isArray(i)?(u=i,c=!0):(s=i.create(o).injector,u=s.get(aa,[],{optional:!0,self:!0}).flat()),{routes:u.map(qc),injector:s}}))}function iI(t){return t&&typeof t=="object"&&"default"in t}function zg(t){return iI(t)?t.default:t}var Kc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>E(rI),providedIn:"root"});let t=e;return t})(),rI=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$g=new j(""),Gg=new j("");function oI(t,e,o){let r=t.get(Gg),i=t.get(Ge);return t.get(ae).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,u=new Promise(p=>{s=p}),c=i.startViewTransition(()=>(s(),sI(t))),{onViewTransitionCreated:f}=r;return f&&Xt(t,()=>f({transition:c,from:e,to:o})),u})}function sI(t){return new Promise(e=>{Vl(e,{injector:t})})}var Xc=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re,this.transitionAbortSubject=new Re,this.configLoader=E(Qc),this.environmentInjector=E(Xe),this.urlSerializer=E(Zr),this.rootContexts=E(Wr),this.location=E(Si),this.inputBindingEnabled=E(la,{optional:!0})!==null,this.titleStrategy=E(Hg),this.options=E(Qr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(Kc),this.createViewTransition=E($g,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Tc(s)),i=s=>this.events.next(new Sc(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ve(M(M({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Me({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Or,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(at(u=>u.id!==0),X(u=>ve(M({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),ut(u=>{let c=!1,f=!1;return N(u).pipe(ut(p=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",it.SupersededByNewNavigation),Qe;this.currentTransition=u,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?ve(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let g=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),_=p.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!g&&_!=="reload"){let D="";return this.events.next(new Cn(p.id,this.urlSerializer.serialize(p.rawUrl),D,Js.IgnoredSameUrlNavigation)),p.resolve(null),Qe}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return N(p).pipe(ut(D=>{let b=this.transitions?.getValue();return this.events.next(new Ri(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),b!==this.transitions?.getValue()?Qe:Promise.resolve(D)}),Q0(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(D=>{u.targetSnapshot=D.targetSnapshot,u.urlAfterRedirects=D.urlAfterRedirects,this.currentNavigation=ve(M({},this.currentNavigation),{finalUrl:D.urlAfterRedirects});let b=new ea(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(b)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:D,extractedUrl:b,source:R,restoredState:W,extras:fe}=p,G=new Ri(D,this.urlSerializer.serialize(b),R,W);this.events.next(G);let Ze=Pg(this.rootComponentType).snapshot;return this.currentTransition=u=ve(M({},p),{targetSnapshot:Ze,urlAfterRedirects:b,extras:ve(M({},fe),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,N(u)}else{let D="";return this.events.next(new Cn(p.id,this.urlSerializer.serialize(p.extractedUrl),D,Js.IgnoredByUrlHandlingStrategy)),p.resolve(null),Qe}}),xe(p=>{let g=new Ec(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),X(p=>(this.currentTransition=u=ve(M({},p),{guards:p0(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),u)),E0(this.environmentInjector,p=>this.events.next(p)),xe(p=>{if(u.guardsResult=p.guardsResult,Oi(p.guardsResult))throw Og(this.urlSerializer,p.guardsResult);let g=new Ic(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(g)}),at(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",it.GuardRejected),!1)),_c(p=>{if(p.guards.canActivateChecks.length)return N(p).pipe(xe(g=>{let _=new Mc(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),ut(g=>{let _=!1;return N(g).pipe(K0(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(g,"",it.NoDataFromResolver)}}))}),xe(g=>{let _=new xc(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),_c(p=>{let g=_=>{let D=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(_.routeConfig).pipe(xe(b=>{_.component=b}),X(()=>{})));for(let b of _.children)D.push(...g(b));return D};return ir(g(p.targetSnapshot.root)).pipe(hn(null),Yt(1))}),_c(()=>this.afterPreactivation()),ut(()=>{let{currentSnapshot:p,targetSnapshot:g}=u,_=this.createViewTransition?.(this.environmentInjector,p.root,g.root);return _?de(_).pipe(X(()=>u)):N(u)}),X(p=>{let g=s0(r.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=u=ve(M({},p),{targetRouterState:g}),this.currentNavigation.targetRouterState=g,u}),xe(()=>{this.events.next(new Vr)}),f0(this.rootContexts,r.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Yt(1),xe({next:p=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new on(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{c=!0}}),hu(this.transitionAbortSubject.pipe(xe(p=>{throw p}))),rr(()=>{!c&&!f&&this.cancelNavigationTransition(u,"",it.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),dn(p=>{if(f=!0,Fg(p))this.events.next(new Dn(u.id,this.urlSerializer.serialize(u.extractedUrl),p.message,p.cancellationCode)),l0(p)?this.events.next(new Ur(p.url)):u.resolve(!1);else{this.events.next(new Br(u.id,this.urlSerializer.serialize(u.extractedUrl),p,u.targetSnapshot??void 0));try{u.resolve(r.errorHandler(p))}catch(g){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(g)}}return Qe}))}))}cancelNavigationTransition(r,i,s){let u=new Dn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(u),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aI(t){return t!==Or}var uI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>E(lI),providedIn:"root"});let t=e;return t})(),$c=class{shouldDetach(e){return!1}store(e,o){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,o){return e.routeConfig===o.routeConfig}},lI=(()=>{let e=class e extends $c{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Cl(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>E(cI),providedIn:"root"});let t=e;return t})(),cI=(()=>{let e=class e extends Zg{constructor(){super(...arguments),this.location=E(Si),this.urlSerializer=E(Zr),this.options=E(Qr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(Kc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pg(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ri)this.stateMemento=this.createStateMemento();else if(r instanceof Cn)this.rawUrlTree=i.initialUrl;else if(r instanceof ea){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Vr?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Dn&&(r.code===it.GuardRejected||r.code===it.NoDataFromResolver)?this.restoreHistory(i):r instanceof Br?this.restoreHistory(i,!0):r instanceof on&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let u=this.browserPageId,c=M(M({},i.extras.state),this.generateNgRouterState(i.id,u));this.location.replaceState(s,"",c)}else{let u=M(M({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",u)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,u=this.currentPageId-s;u!==0?this.location.historyGo(u):this.currentUrlTree===r.finalUrl&&u===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Cl(e)))(s||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Nr||{});function Wg(t,e){t.events.pipe(at(o=>o instanceof on||o instanceof Dn||o instanceof Br||o instanceof Cn),X(o=>o instanceof on||o instanceof Cn?Nr.COMPLETE:(o instanceof Dn?o.code===it.Redirect||o.code===it.SupersededByNewNavigation:!1)?Nr.REDIRECTING:Nr.FAILED),at(o=>o!==Nr.REDIRECTING),Yt(1)).subscribe(()=>{e()})}function dI(t){throw t}var hI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(Rs),this.stateManager=E(Zg),this.options=E(Qr,{optional:!0})||{},this.pendingTasks=E(Ns),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(Xc),this.urlSerializer=E(Zr),this.location=E(Si),this.urlHandlingStrategy=E(Kc),this._events=new Re,this.errorHandler=this.options.errorHandler||dI,this.navigated=!1,this.routeReuseStrategy=E(uI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(aa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(la,{optional:!0}),this.eventsSubscription=new we,this.isNgZoneEnabled=E(ae)instanceof ae&&ae.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(s!==null&&u!==null){if(this.stateManager.handleRouterEvent(i,u),i instanceof Dn&&i.code!==it.Redirect&&i.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof on)this.navigated=!0;else if(i instanceof Ur){let c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),f={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||aI(s.source)};this.scheduleNavigation(c,Or,null,f,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}mI(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Or,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let u={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let p=M({},s);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(u.state=p)}let f=this.parseUrl(r);this.scheduleNavigation(f,i,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(qc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:u,fragment:c,queryParamsHandling:f,preserveFragment:p}=i,g=p?this.currentUrlTree.fragment:c,_=null;switch(f){case"merge":_=M(M({},this.currentUrlTree.queryParams),u);break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=u||null}_!==null&&(_=this.removeEmptyProps(_));let D;try{let b=s?s.snapshot:this.routerState.snapshot.root;D=xg(b)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),D=this.currentUrlTree.root}return Tg(D,r,_,g??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Oi(r)?r:this.parseUrl(r),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,Or,null,i)}navigate(r,i={skipLocationChange:!1}){return pI(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=M({},hI):i===!1?s=M({},fI):s=i,Oi(r))return lg(this.currentUrlTree,r,s);let u=this.parseUrl(r);return lg(this.currentUrlTree,u,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,u])=>(u!=null&&(i[s]=u),i),{})}scheduleNavigation(r,i,s,u,c){if(this.disposed)return Promise.resolve(!1);let f,p,g;c?(f=c.resolve,p=c.reject,g=c.promise):g=new Promise((D,b)=>{f=D,p=b});let _=this.pendingTasks.add();return Wg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:u,resolve:f,reject:p,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(D=>Promise.reject(D))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pI(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new T(4008,!1)}function mI(t){return!(t instanceof Vr)&&!(t instanceof Ur)}var ua=class{};var gI=(()=>{let e=class e{constructor(r,i,s,u,c){this.router=r,this.injector=s,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(at(r=>r instanceof on),An(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let u of i){u.providers&&!u._injector&&(u._injector=As(u.providers,r,`Route: ${u.path}`));let c=u._injector??r,f=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&u.canLoad===void 0||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(f,u.children??u._loadedRoutes))}return de(s).pipe(ci())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=N(null);let u=s.pipe(_e(c=>c===null?N(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??r,c.routes))));if(i.loadComponent&&!i._loadedComponent){let c=this.loader.loadComponent(i);return de([u,c]).pipe(ci())}else return u})}};e.\u0275fac=function(i){return new(i||e)(A(sn),A(Vs),A(Xe),A(ua),A(Qc))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qg=new j(""),vI=(()=>{let e=class e{constructor(r,i,s,u,c={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ri?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof on?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Cn&&r.code===Js.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ta&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ta(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){om()},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function _I(t){return t.routerState.root}function Kr(t,e){return{\u0275kind:t,\u0275providers:e}}function yI(){let t=E(Ft);return e=>{let o=t.get(Ti);if(e!==o.components[0])return;let r=t.get(sn),i=t.get(Yg);t.get(Jc)===1&&r.initialNavigation(),t.get(Qg,null,$.Optional)?.setUpPreloading(),t.get(qg,null,$.Optional)?.init(),r.resetRootComponentType(o.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Yg=new j("",{factory:()=>new Re}),Jc=new j("",{providedIn:"root",factory:()=>1});function wI(){return Kr(2,[{provide:Jc,useValue:0},{provide:Bs,multi:!0,deps:[Ft],useFactory:e=>{let o=e.get($m,Promise.resolve());return()=>o.then(()=>new Promise(r=>{let i=e.get(sn),s=e.get(Yg);Wg(i,()=>{r(!0)}),e.get(Xc).afterPreactivation=()=>(r(!0),s.closed?N(void 0):s),i.initialNavigation()}))}}])}function DI(){return Kr(3,[{provide:Bs,multi:!0,useFactory:()=>{let e=E(sn);return()=>{e.setUpLocationChangeListener()}}},{provide:Jc,useValue:2}])}var Qg=new j("");function CI(t){return Kr(0,[{provide:Qg,useExisting:gI},{provide:ua,useExisting:t}])}function bI(){return Kr(8,[fg,{provide:la,useExisting:fg}])}function EI(t){let e=[{provide:$g,useValue:oI},{provide:Gg,useValue:M({skipNextTransition:!!t?.skipInitialTransition},t)}];return Kr(9,e)}var mg=new j("ROUTER_FORROOT_GUARD"),II=[Si,{provide:Zr,useClass:Fr},sn,Wr,{provide:Fi,useFactory:_I,deps:[sn]},Qc,[]],ed=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[II,[],{provide:aa,multi:!0,useValue:r},{provide:mg,useFactory:SI,deps:[[sn,new fs,new sl]]},{provide:Qr,useValue:i||{}},i?.useHash?xI():TI(),MI(),i?.preloadingStrategy?CI(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?LI(i):[],i?.bindToComponentInputs?bI().\u0275providers:[],i?.enableViewTransitions?EI().\u0275providers:[],PI()]}}static forChild(r){return{ngModule:e,providers:[{provide:aa,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(A(mg,8))},e.\u0275mod=et({type:e}),e.\u0275inj=Je({});let t=e;return t})();function MI(){return{provide:qg,useFactory:()=>{let t=E(Km),e=E(ae),o=E(Qr),r=E(Xc),i=E(Zr);return o.scrollOffset&&t.setOffset(o.scrollOffset),new vI(i,r,t,e,o)}}}function xI(){return{provide:zn,useClass:Zm}}function TI(){return{provide:zn,useClass:rc}}function SI(t){return"guarded"}function LI(t){return[t.initialNavigation==="disabled"?DI().\u0275providers:[],t.initialNavigation==="enabledBlocking"?wI().\u0275providers:[]]}var gg=new j("");function PI(){return[{provide:gg,useFactory:yI},{provide:Wl,multi:!0,useExisting:gg}]}var Te=$_(Jg());(function(t,e,o){function r(i,s){for(;(i=i.parentElement)&&!i.classList.contains(s););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,s){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,s&&s.shapeOptions&&(s.shapeOptions=L.Util.extend({},this.options.shapeOptions,s.shapeOptions)),L.setOptions(this,s);var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),s=this._poly,u=s.getLatLngs(),c=u.splice(-1,1)[0];this._poly.setLatLngs(u),this._markerGroup.removeLayer(i),s.getLatLngs().length<2&&this._map.removeLayer(s),this._vertexChanged(c,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),s=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&s||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent),u=this._map.layerPointToLatLng(s);this._currentLatLng=u,this._updateTooltip(u),this._updateGuide(s),this._mouseMarker.setLatLng(u),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,s){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,s),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var s=i.originalEvent,u=s.clientX,c=s.clientY;this._startPoint.call(this,u,c)}},_startPoint:function(i,s){this._mouseDownOrigin=L.point(i,s)},_onMouseUp:function(i){var s=i.originalEvent,u=s.clientX,c=s.clientY;this._endPoint.call(this,u,c,i),this._clickHandled=null},_endPoint:function(i,s,u){if(this._mouseDownOrigin){var c=L.point(i,s).distanceTo(this._mouseDownOrigin),f=this._calculateFinishDistance(u.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(u.latlng),this._finishShape()):f<10&&L.Browser.touch?this._finishShape():Math.abs(c)<9*(t.devicePixelRatio||1)&&this.addVertex(u.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var s,u,c=i.originalEvent;!c.touches||!c.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(s=c.touches[0].clientX,u=c.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,s,u),this._endPoint.call(this,s,u,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var s;if(this._markers.length>0){var u;if(this.type===L.Draw.Polyline.TYPE)u=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;u=this._markers[0]}var c=this._map.latLngToContainerPoint(u.getLatLng()),f=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),p=this._map.latLngToContainerPoint(f.getLatLng());s=c.distanceTo(p)}else s=1/0;return s},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var s=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(s),s},_updateGuide:function(i){var s=this._markers?this._markers.length:0;s>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[s-1].getLatLng()),i))},_updateTooltip:function(i){var s=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(s)},_drawGuide:function(i,s){var u,c,f,p=Math.floor(Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))),g=this.options.guidelineDistance,_=this.options.maxGuideLineLength,D=p>_?p-_:g;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));D<p;D+=this.options.guidelineDistance)u=D/p,c={x:Math.floor(i.x*(1-u)+u*s.x),y:Math.floor(i.y*(1-u)+u*s.y)},f=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),f.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(f,c)},_updateGuideColor:function(i){if(this._guidesContainer)for(var s=0,u=this._guidesContainer.childNodes.length;s<u;s++)this._guidesContainer.childNodes[s].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,s,u=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(s=u?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:s}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:s}),i},_updateRunningMeasure:function(i,s){var u,c,f=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(u=f-(s?2:1),c=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[u].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[u].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=c*(s?1:-1))},_getMeasurementString:function(){var i,s=this._currentLatLng,u=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?u&&s&&s.distanceTo?this._measurementRunningTotal+s.distanceTo(u)*(this.options.factor||1):this._measurementRunningTotal||0:u&&s?this._measurementRunningTotal+this._map.distance(s,u)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,s){L.Draw.Polyline.prototype.initialize.call(this,i,s),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,s;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,s=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,s=this._getMeasurementString()),{text:i,subtext:s}},_getMeasurementString:function(){var i=this._area,s="";return i||this.options.showLength?(this.options.showLength&&(s=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(s+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),s):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,s){var u;!this.options.allowIntersection&&this.options.showArea&&(u=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(u)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,s)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,s){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var s=i.latlng;this._tooltip.updatePosition(s),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(s))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,s){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,s)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!r(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,s,u,c=L.Draw.SimpleShape.prototype._getTooltipText.call(this),f=this._shape,p=this.options.showArea;return f&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),s=L.GeometryUtil.geodesicArea(i),u=p?L.GeometryUtil.readableArea(s,this.options.metric):""),{text:c.text,subtext:u}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,s){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var s=i.latlng;this._tooltip.updatePosition(s),this._mouseMarker.setLatLng(s),this._marker?(s=this._mouseMarker.getLatLng(),this._marker.setLatLng(s)):(this._marker=this._createMarker(s),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,s){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,s)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,s){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,s)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var s=this._startLatLng.distanceTo(i);else var s=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(s):(this._shape=new L.Circle(this._startLatLng,s,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var s,u=i.latlng,c=this.options.showRadius,f=this.options.metric;if(this._tooltip.updatePosition(u),this._isDrawing){this._drawShape(u),s=this._shape.getRadius().toFixed(1);var p="";c&&(p=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(s,f,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:p})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,s){this._marker=i,L.setOptions(this,s)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var s=i.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,s){var u=parseInt(i.style.marginTop,10)-s,c=parseInt(i.style.marginLeft,10)-s;i.style.marginTop=u+"px",i.style.marginLeft=c+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var s=0;s<this._verticesHandlers.length;s++)i(this._verticesHandlers[s])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,s,u){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,u&&u.drawError&&(u.drawError=L.Util.extend({},this.options.drawError,u.drawError)),this._latlngs=s,L.setOptions(this,u)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,s=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),s&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(u){L.DomUtil.removeClass(s,u)}),i.options.editing.className.split(" ").forEach(function(u){L.DomUtil.addClass(s,u)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,s=i._path;s&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(u){L.DomUtil.removeClass(s,u)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(u){L.DomUtil.addClass(s,u)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,s,u,c,f=this._defaultShape();for(i=0,u=f.length;i<u;i++)c=this._createMarker(f[i],i),c.on("click",this._onMarkerClick,this),c.on("contextmenu",this._onContextMenu,this),this._markers.push(c);var p,g;for(i=0,s=u-1;i<u;s=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(p=this._markers[s],g=this._markers[i],this._createMiddleMarker(p,g),this._updatePrevNext(p,g))},_createMarker:function(i,s){var u=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return u._origLatLng=i,u._index=s,u.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(u),u},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),s=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),s},_removeMarker:function(i){var s=i._index;this._markerGroup.removeLayer(i),this._markers.splice(s,1),this._spliceLatLngs(s,1),this._updateIndexes(s,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var s=i.target,u=this._poly,c=L.LatLngUtil.cloneLatLng(s._origLatLng);if(L.extend(s._origLatLng,s._latlng),u.options.poly){var f=u._map._editTooltip;if(!u.options.poly.allowIntersection&&u.intersects()){L.extend(s._origLatLng,c),s.setLatLng(c);var p=u.options.color;u.setStyle({color:this.options.drawError.color}),f&&f.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){u.setStyle({color:p}),f&&f.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}s._middleLeft&&s._middleLeft.setLatLng(this._getMiddleLatLng(s._prev,s)),s._middleRight&&s._middleRight.setLatLng(this._getMiddleLatLng(s,s._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var g=this._poly.getLatLngs();this._poly._convertLatLngs(g,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var s=L.Polygon&&this._poly instanceof L.Polygon?4:3,u=i.target;this._defaultShape().length<s||(this._removeMarker(u),this._updatePrevNext(u._prev,u._next),u._middleLeft&&this._markerGroup.removeLayer(u._middleLeft),u._middleRight&&this._markerGroup.removeLayer(u._middleRight),u._prev&&u._next?this._createMiddleMarker(u._prev,u._next):u._prev?u._next||(u._prev._middleRight=null):u._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var s=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:s,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),u=this._map.layerPointToLatLng(s),c=i.target;L.extend(c._origLatLng,u),c._middleLeft&&c._middleLeft.setLatLng(this._getMiddleLatLng(c._prev,c)),c._middleRight&&c._middleRight.setLatLng(this._getMiddleLatLng(c,c._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,s){this._markerGroup.eachLayer(function(u){u._index>i&&(u._index+=s)})},_createMiddleMarker:function(i,s){var u,c,f,p=this._getMiddleLatLng(i,s),g=this._createMarker(p);g.setOpacity(.6),i._middleRight=s._middleLeft=g,c=function(){g.off("touchmove",c,this);var _=s._index;g._index=_,g.off("click",u,this).on("click",this._onMarkerClick,this),p.lat=g.getLatLng().lat,p.lng=g.getLatLng().lng,this._spliceLatLngs(_,0,p),this._markers.splice(_,0,g),g.setOpacity(1),this._updateIndexes(_,1),s._index++,this._updatePrevNext(i,g),this._updatePrevNext(g,s),this._poly.fire("editstart")},f=function(){g.off("dragstart",c,this),g.off("dragend",f,this),g.off("touchmove",c,this),this._createMiddleMarker(i,g),this._createMiddleMarker(g,s)},u=function(){c.call(this),f.call(this),this._fireEdit()},g.on("click",u,this).on("dragstart",c,this).on("dragend",f,this).on("touchmove",c,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(i,s){i&&(i._next=s),s&&(s._prev=i)},_getMiddleLatLng:function(i,s){var u=this._poly._map,c=u.project(i.getLatLng()),f=u.project(s.getLatLng());return u.unproject(c._add(f)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,s){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,s)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var s=0,u=this._resizeMarkers.length;s<u;s++)this._unbindMarker(this._resizeMarkers[s]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,s){var u=new L.Marker.Touch(i,{draggable:!0,icon:s,zIndexOffset:10});return this._bindMarker(u),this._markerGroup.addLayer(u),u},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var s=i.target,u=s.getLatLng();s===this._moveMarker?this._move(u):this._resize(u),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var s=this._getCorners(),u=i.target,c=u._cornerIndex;u.setOpacity(0),this._oppositeCorner=s[(c+2)%4],this._toggleCornerMarkers(0,c)}this._shape.fire("editstart")},_onTouchMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),u=this._map.layerPointToLatLng(s);return i.target===this._moveMarker?this._move(u):this._resize(u),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),s=i.getCenter();this._moveMarker=this._createMarker(s,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var s=0,u=i.length;s<u;s++)this._resizeMarkers.push(this._createMarker(i[s],this.options.resizeIcon)),this._resizeMarkers[s]._cornerIndex=s},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var s=this._getCorners(),u=i.target,c=u._cornerIndex;this._oppositeCorner=s[(c+2)%4],this._toggleCornerMarkers(0,c)},_onMarkerDragEnd:function(i){var s,u,c=i.target;c===this._moveMarker&&(s=this._shape.getBounds(),u=s.getCenter(),c.setLatLng(u)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var s,u=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),c=this._shape.getBounds(),f=c.getCenter(),p=[],g=0,_=u.length;g<_;g++)s=[u[g].lat-f.lat,u[g].lng-f.lng],p.push([i.lat+s[0],i.lng+s[1]]);this._shape.setLatLngs(p),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var s;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),s=this._shape.getBounds(),this._moveMarker.setLatLng(s.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var s=0,u=this._resizeMarkers.length;s<u;s++)this._resizeMarkers[s].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),s=0,u=this._resizeMarkers.length;s<u;s++)this._resizeMarkers[s].setLatLng(i[s])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var s=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(s)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),s=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(s,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var s=this._shape._radius*Math.cos(Math.PI/4),u=this._map.project(i);return this._map.unproject([u.x+s,u.y-s])},_resize:function(i){var s=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=s.distanceTo(i):radius=this._map.distance(s,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,s){var u={};if(i.touches!==void 0){if(!i.touches.length)return;u=i.touches[0]}else if(i.pointerType!=="touch"||(u=i,!this._filterClick(i)))return;var c=this._map.mouseEventToContainerPoint(u),f=this._map.mouseEventToLayerPoint(u),p=this._map.layerPointToLatLng(f);this._map.fire(s,{latlng:p,layerPoint:f,containerPoint:c,pageX:u.pageX,pageY:u.pageY,originalEvent:i})},_filterClick:function(i){var s=i.timeStamp||i.originalEvent.timeStamp,u=L.DomEvent._lastClick&&s-L.DomEvent._lastClick;return u&&u>100&&u<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=s,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var s="touchcancel";this._detectIE()&&(s="pointercancel"),this._touchEvent(i,s)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=t.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var u=i.indexOf("rv:");return parseInt(i.substring(u+3,i.indexOf(".",u)),10)}var c=i.indexOf("Edge/");return c>0&&parseInt(i.substring(c+5,i.indexOf(".",c)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,s=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?s.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):s.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var u=0;u<s.length;u++)L.DomEvent.on(i,s[u],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=t.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var u=i.indexOf("rv:");return parseInt(i.substring(u+3,i.indexOf(".",u)),10)}var c=i.indexOf("Edge/");return c>0&&parseInt(i.substring(c+5,i.indexOf(".",c)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var s=[],u=0,c=i.length;u<c;u++)Array.isArray(i[u])?s.push(L.LatLngUtil.cloneLatLngs(i[u])):s.push(this.cloneLatLng(i[u]));return s},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(s){var u,c,f=s.length,p=0,g=Math.PI/180;if(f>2){for(var _=0;_<f;_++)u=s[_],c=s[(_+1)%f],p+=(c.lng-u.lng)*g*(2+Math.sin(u.lat*g)+Math.sin(c.lat*g));p=6378137*p*6378137/2}return Math.abs(p)},formattedNumber:function(s,u){var c=parseFloat(s).toFixed(u),f=L.drawLocal.format&&L.drawLocal.format.numeric,p=f&&f.delimiters,g=p&&p.thousands,_=p&&p.decimal;if(g||_){var D=c.split(".");c=g?D[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g):D[0],_=_||".",D.length>1&&(c=c+_+D[1])}return c},readableArea:function(s,u,g){var f,p,g=L.Util.extend({},i,g);return u?(p=["ha","m"],type=typeof u,type==="string"?p=[u]:type!=="boolean"&&(p=u),f=s>=1e6&&p.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*s,g.km)+" km\xB2":s>=1e4&&p.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*s,g.ha)+" ha":L.GeometryUtil.formattedNumber(s,g.m)+" m\xB2"):(s/=.836127,f=s>=3097600?L.GeometryUtil.formattedNumber(s/3097600,g.mi)+" mi\xB2":s>=4840?L.GeometryUtil.formattedNumber(s/4840,g.ac)+" acres":L.GeometryUtil.formattedNumber(s,g.yd)+" yd\xB2"),f},readableDistance:function(s,u,c,f,_){var g,_=L.Util.extend({},i,_);switch(u?typeof u=="string"?u:"metric":c?"feet":f?"nauticalMile":"yards"){case"metric":g=s>1e3?L.GeometryUtil.formattedNumber(s/1e3,_.km)+" km":L.GeometryUtil.formattedNumber(s,_.m)+" m";break;case"feet":s*=3.28083,g=L.GeometryUtil.formattedNumber(s,_.ft)+" ft";break;case"nauticalMile":s*=.53996,g=L.GeometryUtil.formattedNumber(s/1e3,_.nm)+" nm";break;case"yards":default:s*=1.09361,g=s>1760?L.GeometryUtil.formattedNumber(s/1760,_.mi)+" miles":L.GeometryUtil.formattedNumber(s,_.yd)+" yd"}return g},isVersion07x:function(){var s=L.version.split(".");return parseInt(s[0],10)===0&&parseInt(s[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,s,u,c){return this._checkCounterclockwise(i,u,c)!==this._checkCounterclockwise(s,u,c)&&this._checkCounterclockwise(i,s,u)!==this._checkCounterclockwise(i,s,c)},_checkCounterclockwise:function(i,s,u){return(u.y-i.y)*(s.x-i.x)>(s.y-i.y)*(u.x-i.x)}}),L.Polyline.include({intersects:function(){var i,s,u,c=this._getProjectedPoints(),f=c?c.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=f-1;i>=3;i--)if(s=c[i-1],u=c[i],this._lineSegmentsIntersectsRange(s,u,i-2))return!0;return!1},newLatLngIntersects:function(i,s){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),s)},newPointIntersects:function(i,s){var u=this._getProjectedPoints(),c=u?u.length:0,f=u?u[c-1]:null,p=c-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(f,i,p,s?1:0)},_tooFewPointsForIntersection:function(i){var s=this._getProjectedPoints(),u=s?s.length:0;return u+=i||0,!s||u<=3},_lineSegmentsIntersectsRange:function(i,s,u,c){var f,p,g=this._getProjectedPoints();c=c||0;for(var _=u;_>c;_--)if(f=g[_-1],p=g[_],L.LineUtil.segmentsIntersect(i,s,f,p))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],s=this._defaultShape(),u=0;u<s.length;u++)i.push(this._map.latLngToLayerPoint(s[u]));return i}}),L.Polygon.include({intersects:function(){var i,s,u,c,f=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=f.length,s=f[0],u=f[i-1],c=i-2,this._lineSegmentsIntersectsRange(u,s,c,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var s;this._toolbars={},L.DrawToolbar&&this.options.draw&&(s=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=s,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(s=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=s,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var s,u=L.DomUtil.create("div","leaflet-draw"),c=!1;for(var f in this._toolbars)this._toolbars.hasOwnProperty(f)&&(s=this._toolbars[f].addToolbar(i))&&(c||(L.DomUtil.hasClass(s,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(s.childNodes[0],"leaflet-draw-toolbar-top"),c=!0),u.appendChild(s));return u},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var s in this._toolbars)this._toolbars[s]instanceof L.DrawToolbar&&this._toolbars[s].setOptions(i)},_toolbarEnabled:function(i){var s=i.target;for(var u in this._toolbars)this._toolbars[u]!==s&&this._toolbars[u].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var s,u=L.DomUtil.create("div","leaflet-draw-section"),c=0,f=this._toolbarClass||"",p=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,s=0;s<p.length;s++)p[s].enabled&&this._initModeHandler(p[s].handler,this._toolbarContainer,c++,f,p[s].title);if(c)return this._lastButtonIndex=--c,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),u.appendChild(this._toolbarContainer),u.appendChild(this._actionsContainer),u},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var s=0,u=this._actionButtons.length;s<u;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,s,u,c,f){var p=i.type;this._modes[p]={},this._modes[p].handler=i,this._modes[p].button=this._createButton({type:p,title:f,className:c+"-"+p,container:s,callback:this._modes[p].handler.enable,context:this._modes[p].handler}),this._modes[p].buttonIndex=u,this._modes[p].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(i){var s=L.DomUtil.create("a",i.className||"",i.container),u=L.DomUtil.create("span","sr-only",i.container);s.href="#",s.appendChild(u),i.title&&(s.title=i.title,u.innerHTML=i.title),i.text&&(s.innerHTML=i.text,u.innerHTML=i.text);var c=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(s,"click",L.DomEvent.stopPropagation).on(s,"mousedown",L.DomEvent.stopPropagation).on(s,"dblclick",L.DomEvent.stopPropagation).on(s,"touchstart",L.DomEvent.stopPropagation).on(s,"click",L.DomEvent.preventDefault).on(s,c,i.callback,i.context),s},_disposeButton:function(i,s){var u=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,u,s)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var s,u,c,f,p=this._actionsContainer,g=this.getActions(i),_=g.length;for(u=0,c=this._actionButtons.length;u<c;u++)this._disposeButton(this._actionButtons[u].button,this._actionButtons[u].callback);for(this._actionButtons=[];p.firstChild;)p.removeChild(p.firstChild);for(var D=0;D<_;D++)"enabled"in g[D]&&!g[D].enabled||(s=L.DomUtil.create("li","",p),f=this._createButton({title:g[D].title,text:g[D].text,container:s,callback:g[D].callback,context:g[D].context}),this._actionButtons.push({button:f,callback:g[D].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,s=this._lastButtonIndex,u=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=u+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===s&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var s=this._map.latLngToLayerPoint(i),u=this._container;return this._container&&(this._visible&&(u.style.visibility="inherit"),L.DomUtil.setPosition(u,s)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var s in this.options)this.options.hasOwnProperty(s)&&i[s]&&(i[s]=L.extend({},this.options[s],i[s]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var s in this._modes)this._modes.hasOwnProperty(s)&&i.hasOwnProperty(s)&&this._modes[s].handler.setOptions(i[s])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var s=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:s,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:s}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var s=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&s.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),s},addToolbar:function(i){var s=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),s},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,s=this.options.featureGroup,u=s.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,u?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",u?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,u?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",u?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,s){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,s),this._featureGroup=s.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(s){s.edited&&(i.addLayer(s),s.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var s=L.Util.stamp(i);this._uneditedLayerProps[s]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[s]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var s=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(s)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[s].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[s].latlng),i.setRadius(this._uneditedLayerProps[s].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[s].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var s,u,c=i.layer||i.target||i;this._backupLayer(c),this.options.poly&&(u=L.Util.extend({},this.options.poly),c.options.poly=u),this.options.selectedPathOptions&&(s=L.Util.extend({},this.options.selectedPathOptions),s.maintainColor&&(s.color=c.options.color,s.fillColor=c.options.fillColor),c.options.original=L.extend({},c.options),c.options.editing=s),c instanceof L.Marker?(c.editing&&c.editing.enable(),c.dragging.enable(),c.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):c.editing.enable()},_disableLayerEdit:function(i){var s=i.layer||i.target||i;s.edited=!1,s.editing&&s.editing.disable(),delete s.options.editing,delete s.options.original,this._selectedPathOptions&&(s instanceof L.Marker?this._toggleMarkerHighlight(s):(s.setStyle(s.options.previousOptions),delete s.options.previousOptions)),s instanceof L.Marker?(s.dragging.disable(),s.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):s.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var s=i.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_onTouchMove:function(i){var s=i.originalEvent.changedTouches[0],u=this._map.mouseEventToLayerPoint(s),c=this._map.layerPointToLatLng(u);i.target.setLatLng(c)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,s){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,s),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var s=i.layer||i.target||i;s.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(s)},_removeLayer:function(i){var s=i.layer||i.target||i;this._deletableLayers.removeLayer(s),this._deletedLayers.addLayer(s),s.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);Te.Icon.Default.imagePath="assets/";var ha=(()=>{let e=class e{constructor(){this.config={addDrawingTool:!1,addOnClick:!1},this.popup=Te.popup()}ngAfterViewInit(){this.initMap()}initMap(){this.map=Te.map("map",{center:[60.45451,22.264824],zoom:6}),Te.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:3,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map),Te.marker([60.45451,22.264824]).addTo(this.map).bindPopup("I current live on this city.").openPopup(),this.config?.addOnClick&&this.addOnClick(),this.config?.addDrawingTool&&this.editMapTools()}addOnClick(){this.map.on("click",r=>{this.popup.setLatLng(r.latlng).setContent("You clicked the map at "+r.latlng.toString()).openOn(this.map)})}editMapTools(){let r=new Te.FeatureGroup;this.map.addLayer(r);let i=new Te.FeatureGroup;this.map.addLayer(i);let s=new Te.Control.Draw({edit:{featureGroup:i}});this.map.addControl(s),this.map.on(Te.Draw.Event.CREATED,function(u){var c=u.layerType,f=u.layer;c==="marker"&&f.bindPopup("A popup!"),i.addLayer(f)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-map"]],inputs:{config:"config"},decls:3,vars:0,consts:[[1,"map-container"],[1,"map-frame"],["id","map"]],template:function(i,s){i&1&&(De(0,"div",0)(1,"div",1),ke(2,"div",2),Ne()())},styles:[".map-container[_ngcontent-%COMP%]{position:relative;inset:0;margin:30px;height:90vh}.map-frame[_ngcontent-%COMP%]{border:2px solid black;height:100%}#map[_ngcontent-%COMP%]{height:100%}"]});let t=e;return t})();var td=(()=>{let e=class e{constructor(){this.mapConfig={addDrawingTool:!1,addOnClick:!0}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-simple-map"]],decls:2,vars:1,consts:[[3,"config"]],template:function(i,s){i&1&&(br(0),ke(1,"app-map",0),Er()),i&2&&(nn(),jt("config",s.mapConfig))},dependencies:[ha]});let t=e;return t})();var tv=(()=>{let e=class e{constructor(){this.mapConfig={addDrawingTool:!0,addOnClick:!1}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-map-tools"]],decls:2,vars:1,consts:[[3,"config"]],template:function(i,s){i&1&&(br(0),ke(1,"app-map",0),Er()),i&2&&(nn(),jt("config",s.mapConfig))},dependencies:[ha]});let t=e;return t})();var nv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-map-layers"]],decls:2,vars:0,template:function(i,s){i&1&&(De(0,"p"),Un(1,"map-layers works!"),Ne())}});let t=e;return t})();var iv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-map-clusters"]],decls:2,vars:0,template:function(i,s){i&1&&(De(0,"p"),Un(1,"map-clusters works!"),Ne())}});let t=e;return t})();var AI=[{path:"",component:td},{path:"map-tools",component:tv},{path:"map-layers",component:nv},{path:"map-clusters",component:iv},{path:"*",component:td}],rv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=et({type:e}),e.\u0275inj=Je({imports:[ed.forRoot(AI),ed]});let t=e;return t})();var NI=t=>({active:t});function kI(t,e){t&1&&(wl(),De(0,"svg",8),ke(1,"path",9),Ne())}function OI(t,e){t&1&&(wl(),De(0,"svg",10),ke(1,"g",11)(2,"g",12),De(3,"g",13)(4,"g"),ke(5,"path",14),Ne()()())}function RI(t,e){if(t&1){let o=bm();De(0,"li",4),Os("click",function(){let i=vp(o).$implicit,s=zl();return _p(s.navigate(i.url))}),ks(1,kI,2,0,"svg",5)(2,OI,6,0,"svg",6),De(3,"span",7),Un(4),Ne()()}if(t&2){let o=e.$implicit,r=zl();jt("ngClass",Im(4,NI,r.isActivateRoute(o.url))),nn(),jt("ngIf",o.icon==="home"),nn(),jt("ngIf",o.icon!="home"),nn(2),$l(" ",o.name," ")}}var ov=(()=>{let e=class e{constructor(r){this.router=r,this.menuItems=[{name:"Simple Map",id:"simple-map",icon:"home",url:"/"},{name:"Map with Tools",id:"map-with-tools",icon:"other",url:"/map-tools"},{name:"Map with Layers",id:"map-with-layers",icon:"other",url:"/map-layers"},{name:"Map with Clustering",id:"map-with-clustering",icon:"other",url:"/map-clusters"}]}navigate(r){this.router.navigate([r])}isActivateRoute(r){return this.router.isActive(r,{paths:"exact",fragment:"ignored",matrixParams:"subset",queryParams:"subset"})}};e.\u0275fac=function(i){return new(i||e)(ft(sn))},e.\u0275cmp=Ae({type:e,selectors:[["app-sidebar"]],decls:5,vars:1,consts:[[1,"bg-gray-900","sm:w-60","min-h-screen","w-14","pt-4","transition-all"],[1,"text-center","text-white","p-6","text-4xl","font-bold","hidden","sm:block"],[1,"mt-11"],["class","hover:bg-gray-800 cursor-pointer sm:justify-start px-4 h-12 flex items-center justify-center",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"hover:bg-gray-800","cursor-pointer","sm:justify-start","px-4","h-12","flex","items-center","justify-center",3,"click","ngClass"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["fill","white","width","24","height","24","version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 489.347 489.347",0,"xml","space","preserve",4,"ngIf"],[1,"ml-3","hidden","sm:block","text-gray-400","font-semibold","tracking-wide","hover:text-white","transition-colors"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.13478 20.7733V17.7156C9.13478 16.9351 9.77217 16.3023 10.5584 16.3023H13.4326C13.8102 16.3023 14.1723 16.4512 14.4393 16.7163C14.7063 16.9813 14.8563 17.3408 14.8563 17.7156V20.7733C14.8539 21.0978 14.9821 21.4099 15.2124 21.6402C15.4427 21.8705 15.7561 22 16.0829 22H18.0438C18.9596 22.0023 19.8388 21.6428 20.4872 21.0008C21.1356 20.3588 21.5 19.487 21.5 18.5778V9.86686C21.5 9.13246 21.1721 8.43584 20.6046 7.96467L13.934 2.67587C12.7737 1.74856 11.1111 1.7785 9.98539 2.74698L3.46701 7.96467C2.87274 8.42195 2.51755 9.12064 2.5 9.86686V18.5689C2.5 20.4639 4.04738 22 5.95617 22H7.87229C8.55123 22 9.103 21.4562 9.10792 20.7822L9.13478 20.7733Z","fill","#fff"],["fill","white","width","24","height","24","version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 489.347 489.347",0,"xml","space","preserve"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M412.642,345.939l-59.523-14.229l-66.352-66.352l51.12-51.055c11.874,4.167,24.216,6.203,36.499,6.202 c28.736-0.002,57.122-11.149,78.233-32.221c32.686-32.626,41.544-82.646,22.043-124.466l-9.042-19.391l-53.807,53.682 l-24.986-24.941l53.822-53.696L421.17,10.42C379.3-9.036,329.218-0.195,296.546,32.417 c-30.131,30.078-40.012,74.943-26.092,114.534l-20.111,20.086L102.13,18.837C91.061,7.731,76.32,1.605,60.621,1.587 c-0.023,0-0.044,0-0.067,0c-15.696,0-30.45,6.104-41.553,17.195C7.886,29.897,1.77,44.669,1.778,60.378 c0.008,15.697,6.129,30.456,17.233,41.553L167.18,250.094l-20.155,20.129c-39.652-13.917-84.597-4.061-114.733,26.02 C-0.393,328.869-9.252,378.888,10.25,420.708l9.042,19.391l53.806-53.681l24.986,24.94l-53.822,53.697l19.48,9.051 c14.814,6.883,30.652,10.224,46.388,10.224c28.738-0.001,57.124-11.148,78.235-32.221c30.132-30.078,40.013-74.943,26.093-114.534 l51.082-51.018l66.366,66.366l14.229,59.523l76.705,76.706l66.507-66.507L412.642,345.939z M301.691,144.194 c-14.181-30.419-7.73-66.807,16.05-90.545c18.28-18.246,44.036-26.278,68.827-22.6l-42.211,42.113l67.451,67.328l42.24-42.142 c3.697,24.738-4.343,50.456-22.622,68.702c-23.802,23.759-60.288,30.197-90.793,16.02l-9.505-4.417l-34.603,34.559l-24.968-24.965 l34.573-34.529L301.691,144.194z M31.778,60.362c-0.004-7.69,2.992-14.923,8.43-20.362c5.433-5.426,12.657-8.414,20.347-8.414 c7.711,0.009,14.918,3.002,20.345,8.446l194.398,194.38l-40.711,40.659L40.221,80.714C34.781,75.277,31.782,68.049,31.778,60.362z M167.171,430.877c-18.28,18.246-44.038,26.278-68.827,22.6l42.211-42.112l-67.451-67.329l-42.24,42.142 c-3.698-24.737,4.343-50.455,22.623-68.702c23.801-23.758,60.288-30.197,90.792-16.021l9.505,4.417l34.609-34.565l24.967,24.966 l-34.578,34.534l4.44,9.525C197.403,370.751,190.952,407.138,167.171,430.877z M373.342,397.227l-7.564-31.645l31.646,7.564 l49.498,49.499l-24.081,24.081L373.342,397.227z"]],template:function(i,s){i&1&&(De(0,"nav",0)(1,"div",1),Un(2," Simple GIS "),Ne(),De(3,"ul",2),ks(4,RI,5,6,"li",3),Ne()()),i&2&&(nn(4),jt("ngForOf",s.menuItems))},dependencies:[qm,Ym,Qm],styles:[".active[_ngcontent-%COMP%]{background-color:#8b008b}"]});let t=e;return t})();var sv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ae({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"flex"],[1,"flex-1","bg-white","bg-opacity-20"]],template:function(i,s){i&1&&(De(0,"main",0),ke(1,"app-sidebar"),De(2,"section",1),ke(3,"router-outlet"),Ne()())},dependencies:[Wc,ov]});let t=e;return t})();var av=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=et({type:e}),e.\u0275inj=Je({imports:[zs]});let t=e;return t})();var uv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=et({type:e,bootstrap:[sv]}),e.\u0275inj=Je({imports:[sg,rv,av]});let t=e;return t})();og().bootstrapModule(uv).catch(t=>console.error(t));
