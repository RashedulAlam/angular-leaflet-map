var Vv=Object.create;var Ya=Object.defineProperty,Uv=Object.defineProperties,Hv=Object.getOwnPropertyDescriptor,zv=Object.getOwnPropertyDescriptors,$v=Object.getOwnPropertyNames,mh=Object.getOwnPropertySymbols,Gv=Object.getPrototypeOf,_h=Object.prototype.hasOwnProperty,Zv=Object.prototype.propertyIsEnumerable;var gh=(t,e,o)=>e in t?Ya(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,T=(t,e)=>{for(var o in e||={})_h.call(e,o)&&gh(t,o,e[o]);if(mh)for(var o of mh(e))Zv.call(e,o)&&gh(t,o,e[o]);return t},ye=(t,e)=>Uv(t,zv(e));var vh=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Wv=(t,e,o,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of $v(e))!_h.call(t,n)&&n!==o&&Ya(t,n,{get:()=>e[n],enumerable:!(i=Hv(e,n))||i.enumerable});return t};var yh=(t,e,o)=>(o=t!=null?Vv(Gv(t)):{},Wv(e||!t||!t.__esModule?Ya(o,"default",{value:t,enumerable:!0}):o,t));var i_=vh((ha,n_)=>{"use strict";(function(t,e){typeof ha=="object"&&typeof n_<"u"?e(ha):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.leaflet={}))})(ha,function(t){"use strict";var e="1.9.4";function o(r){var a,l,d,p;for(l=1,d=arguments.length;l<d;l++){p=arguments[l];for(a in p)r[a]=p[a]}return r}var i=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function n(r,a){var l=Array.prototype.slice;if(r.bind)return r.bind.apply(r,l.call(arguments,1));var d=l.call(arguments,2);return function(){return r.apply(a,d.length?d.concat(l.call(arguments)):arguments)}}var s=0;function u(r){return"_leaflet_id"in r||(r._leaflet_id=++s),r._leaflet_id}function c(r,a,l){var d,p,g,v;return v=function(){d=!1,p&&(g.apply(l,p),p=!1)},g=function(){d?p=arguments:(r.apply(l,arguments),setTimeout(v,a),d=!0)},g}function h(r,a,l){var d=a[1],p=a[0],g=d-p;return r===d&&l?r:((r-p)%g+g)%g+p}function f(){return!1}function m(r,a){if(a===!1)return r;var l=Math.pow(10,a===void 0?6:a);return Math.round(r*l)/l}function _(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function y(r){return _(r).split(/\s+/)}function D(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?i(r.options):{});for(var l in a)r.options[l]=a[l];return r.options}function x(r,a,l){var d=[];for(var p in r)d.push(encodeURIComponent(l?p.toUpperCase():p)+"="+encodeURIComponent(r[p]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function z(r,a){return r.replace(E,function(l,d){var p=a[d];if(p===void 0)throw new Error("No value provided for variable "+l);return typeof p=="function"&&(p=p(a)),p})}var O=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function Ce(r,a){for(var l=0;l<r.length;l++)if(r[l]===a)return l;return-1}var oe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Oe(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var Ht=0;function Ve(r){var a=+new Date,l=Math.max(0,16-(a-Ht));return Ht=a+l,window.setTimeout(r,l)}var Mt=window.requestAnimationFrame||Oe("RequestAnimationFrame")||Ve,qn=window.cancelAnimationFrame||Oe("CancelAnimationFrame")||Oe("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Se(r,a,l){if(l&&Mt===Ve)r.call(a);else return Mt.call(window,n(r,a))}function Ue(r){r&&qn.call(window,r)}var p_={__proto__:null,extend:o,create:i,bind:n,get lastId(){return s},stamp:u,throttle:c,wrapNum:h,falseFn:f,formatNum:m,trim:_,splitWords:y,setOptions:D,getParamString:x,template:z,isArray:O,indexOf:Ce,emptyImageUrl:oe,requestFn:Mt,cancelFn:qn,requestAnimFrame:Se,cancelAnimFrame:Ue};function zt(){}zt.extend=function(r){var a=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=a.__super__=this.prototype,d=i(l);d.constructor=a,a.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(a[p]=this[p]);return r.statics&&o(a,r.statics),r.includes&&(m_(r.includes),o.apply(null,[d].concat(r.includes))),o(d,r),delete d.statics,delete d.includes,d.options&&(d.options=l.options?i(l.options):{},o(d.options,r.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,v=d._initHooks.length;g<v;g++)d._initHooks[g].call(this)}},a},zt.include=function(r){var a=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},zt.mergeOptions=function(r){return o(this.prototype.options,r),this},zt.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),l=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function m_(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=O(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ye={on:function(r,a,l){if(typeof r=="object")for(var d in r)this._on(d,r[d],a);else{r=y(r);for(var p=0,g=r.length;p<g;p++)this._on(r[p],a,l)}return this},off:function(r,a,l){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var d in r)this._off(d,r[d],a);else{r=y(r);for(var p=arguments.length===1,g=0,v=r.length;g<v;g++)p?this._off(r[g]):this._off(r[g],a,l)}return this},_on:function(r,a,l,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,l)===!1){l===this&&(l=void 0);var p={fn:a,ctx:l};d&&(p.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(p)}},_off:function(r,a,l){var d,p,g;if(this._events&&(d=this._events[r],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,g=d.length;p<g;p++)d[p].fn=f;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var v=this._listens(r,a,l);if(v!==!1){var w=d[v];this._firingCount&&(w.fn=f,this._events[r]=d=d.slice()),d.splice(v,1)}}},fire:function(r,a,l){if(!this.listens(r,l))return this;var d=o({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var p=this._events[r];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,v=p.length;g<v;g++){var w=p[g],C=w.fn;w.once&&this.off(r,C,w.ctx),C.call(w.ctx||this,d)}this._firingCount--}}return l&&this._propagateEvent(d),this},listens:function(r,a,l,d){typeof r!="string"&&console.warn('"string" type argument expected');var p=a;typeof a!="function"&&(d=!!a,p=void 0,l=void 0);var g=this._events&&this._events[r];if(g&&g.length&&this._listens(r,p,l)!==!1)return!0;if(d){for(var v in this._eventParents)if(this._eventParents[v].listens(r,a,l,d))return!0}return!1},_listens:function(r,a,l){if(!this._events)return!1;var d=this._events[r]||[];if(!a)return!!d.length;l===this&&(l=void 0);for(var p=0,g=d.length;p<g;p++)if(d[p].fn===a&&d[p].ctx===l)return p;return!1},once:function(r,a,l){if(typeof r=="object")for(var d in r)this._on(d,r[d],a,!0);else{r=y(r);for(var p=0,g=r.length;p<g;p++)this._on(r[p],a,l,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[u(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[u(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};Ye.addEventListener=Ye.on,Ye.removeEventListener=Ye.clearAllEventListeners=Ye.off,Ye.addOneTimeEventListener=Ye.once,Ye.fireEvent=Ye.fire,Ye.hasEventListeners=Ye.listens;var Hi=zt.extend(Ye);function U(r,a,l){this.x=l?Math.round(r):r,this.y=l?Math.round(a):a}var rd=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(r){return this.clone()._add(j(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(j(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new U(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new U(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=rd(this.x),this.y=rd(this.y),this},distanceTo:function(r){r=j(r);var a=r.x-this.x,l=r.y-this.y;return Math.sqrt(a*a+l*l)},equals:function(r){return r=j(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=j(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function j(r,a,l){return r instanceof U?r:O(r)?new U(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new U(r.x,r.y):new U(r,a,l)}function de(r,a){if(r)for(var l=a?[r,a]:r,d=0,p=l.length;d<p;d++)this.extend(l[d])}de.prototype={extend:function(r){var a,l;if(!r)return this;if(r instanceof U||typeof r[0]=="number"||"x"in r)a=l=j(r);else if(r=He(r),a=r.min,l=r.max,!a||!l)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=l.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(r){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,l;return typeof r[0]=="number"||r instanceof U?r=j(r):r=He(r),r instanceof de?(a=r.min,l=r.max):a=l=r,a.x>=this.min.x&&l.x<=this.max.x&&a.y>=this.min.y&&l.y<=this.max.y},intersects:function(r){r=He(r);var a=this.min,l=this.max,d=r.min,p=r.max,g=p.x>=a.x&&d.x<=l.x,v=p.y>=a.y&&d.y<=l.y;return g&&v},overlaps:function(r){r=He(r);var a=this.min,l=this.max,d=r.min,p=r.max,g=p.x>a.x&&d.x<l.x,v=p.y>a.y&&d.y<l.y;return g&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,l=this.max,d=Math.abs(a.x-l.x)*r,p=Math.abs(a.y-l.y)*r;return He(j(a.x-d,a.y-p),j(l.x+d,l.y+p))},equals:function(r){return r?(r=He(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function He(r,a){return!r||r instanceof de?r:new de(r,a)}function ze(r,a){if(r)for(var l=a?[r,a]:r,d=0,p=l.length;d<p;d++)this.extend(l[d])}ze.prototype={extend:function(r){var a=this._southWest,l=this._northEast,d,p;if(r instanceof se)d=r,p=r;else if(r instanceof ze){if(d=r._southWest,p=r._northEast,!d||!p)return this}else return r?this.extend(Y(r)||ge(r)):this;return!a&&!l?(this._southWest=new se(d.lat,d.lng),this._northEast=new se(p.lat,p.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),l.lat=Math.max(p.lat,l.lat),l.lng=Math.max(p.lng,l.lng)),this},pad:function(r){var a=this._southWest,l=this._northEast,d=Math.abs(a.lat-l.lat)*r,p=Math.abs(a.lng-l.lng)*r;return new ze(new se(a.lat-d,a.lng-p),new se(l.lat+d,l.lng+p))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof se||"lat"in r?r=Y(r):r=ge(r);var a=this._southWest,l=this._northEast,d,p;return r instanceof ze?(d=r.getSouthWest(),p=r.getNorthEast()):d=p=r,d.lat>=a.lat&&p.lat<=l.lat&&d.lng>=a.lng&&p.lng<=l.lng},intersects:function(r){r=ge(r);var a=this._southWest,l=this._northEast,d=r.getSouthWest(),p=r.getNorthEast(),g=p.lat>=a.lat&&d.lat<=l.lat,v=p.lng>=a.lng&&d.lng<=l.lng;return g&&v},overlaps:function(r){r=ge(r);var a=this._southWest,l=this._northEast,d=r.getSouthWest(),p=r.getNorthEast(),g=p.lat>a.lat&&d.lat<l.lat,v=p.lng>a.lng&&d.lng<l.lng;return g&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=ge(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(r,a){return r instanceof ze?r:new ze(r,a)}function se(r,a,l){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,l!==void 0&&(this.alt=+l)}se.prototype={equals:function(r,a){if(!r)return!1;r=Y(r);var l=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return l<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+m(this.lat,r)+", "+m(this.lng,r)+")"},distanceTo:function(r){return ln.distance(this,Y(r))},wrap:function(){return ln.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,l=a/Math.cos(Math.PI/180*this.lat);return ge([this.lat-a,this.lng-l],[this.lat+a,this.lng+l])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function Y(r,a,l){return r instanceof se?r:O(r)&&typeof r[0]!="object"?r.length===3?new se(r[0],r[1],r[2]):r.length===2?new se(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new se(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new se(r,a,l)}var $t={latLngToPoint:function(r,a){var l=this.projection.project(r),d=this.scale(a);return this.transformation._transform(l,d)},pointToLatLng:function(r,a){var l=this.scale(a),d=this.transformation.untransform(r,l);return this.projection.unproject(d)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,l=this.scale(r),d=this.transformation.transform(a.min,l),p=this.transformation.transform(a.max,l);return new de(d,p)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?h(r.lng,this.wrapLng,!0):r.lng,l=this.wrapLat?h(r.lat,this.wrapLat,!0):r.lat,d=r.alt;return new se(l,a,d)},wrapLatLngBounds:function(r){var a=r.getCenter(),l=this.wrapLatLng(a),d=a.lat-l.lat,p=a.lng-l.lng;if(d===0&&p===0)return r;var g=r.getSouthWest(),v=r.getNorthEast(),w=new se(g.lat-d,g.lng-p),C=new se(v.lat-d,v.lng-p);return new ze(w,C)}},ln=o({},$t,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var l=Math.PI/180,d=r.lat*l,p=a.lat*l,g=Math.sin((a.lat-r.lat)*l/2),v=Math.sin((a.lng-r.lng)*l/2),w=g*g+Math.cos(d)*Math.cos(p)*v*v,C=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return this.R*C}}),od=6378137,ma={R:od,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,l=this.MAX_LATITUDE,d=Math.max(Math.min(l,r.lat),-l),p=Math.sin(d*a);return new U(this.R*r.lng*a,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(r){var a=180/Math.PI;return new se((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=od*Math.PI;return new de([-r,-r],[r,r])}()};function ga(r,a,l,d){if(O(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=l,this._d=d}ga.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new U((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function zi(r,a,l,d){return new ga(r,a,l,d)}var _a=o({},ln,{code:"EPSG:3857",projection:ma,transformation:function(){var r=.5/(Math.PI*ma.R);return zi(r,.5,-r,.5)}()}),g_=o({},_a,{code:"EPSG:900913"});function sd(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ad(r,a){var l="",d,p,g,v,w,C;for(d=0,g=r.length;d<g;d++){for(w=r[d],p=0,v=w.length;p<v;p++)C=w[p],l+=(p?"L":"M")+C.x+" "+C.y;l+=a?S.svg?"z":"x":""}return l||"M0 0"}var va=document.documentElement.style,Xr="ActiveXObject"in window,__=Xr&&!document.addEventListener,ud="msLaunchUri"in navigator&&!("documentMode"in document),ya=It("webkit"),ld=It("android"),cd=It("android 2")||It("android 3"),v_=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),y_=ld&&It("Google")&&v_<537&&!("AudioNode"in window),wa=!!window.opera,dd=!ud&&It("chrome"),hd=It("gecko")&&!ya&&!wa&&!Xr,w_=!dd&&It("safari"),fd=It("phantom"),pd="OTransition"in va,D_=navigator.platform.indexOf("Win")===0,md=Xr&&"transition"in va,Da="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!cd,gd="MozPerspective"in va,C_=!window.L_DISABLE_3D&&(md||Da||gd)&&!pd&&!fd,$i=typeof orientation<"u"||It("mobile"),b_=$i&&ya,E_=$i&&Da,_d=!window.PointerEvent&&window.MSPointerEvent,vd=!!(window.PointerEvent||_d),yd="ontouchstart"in window||!!window.TouchEvent,M_=!window.L_NO_TOUCH&&(yd||vd),I_=$i&&wa,L_=$i&&hd,x_=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,T_=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",f,a),window.removeEventListener("testPassiveEventSupport",f,a)}catch{}return r}(),S_=function(){return!!document.createElement("canvas").getContext}(),Ca=!!(document.createElementNS&&sd("svg").createSVGRect),P_=!!Ca&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),A_=!Ca&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),k_=navigator.platform.indexOf("Mac")===0,O_=navigator.platform.indexOf("Linux")===0;function It(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var S={ie:Xr,ielt9:__,edge:ud,webkit:ya,android:ld,android23:cd,androidStock:y_,opera:wa,chrome:dd,gecko:hd,safari:w_,phantom:fd,opera12:pd,win:D_,ie3d:md,webkit3d:Da,gecko3d:gd,any3d:C_,mobile:$i,mobileWebkit:b_,mobileWebkit3d:E_,msPointer:_d,pointer:vd,touch:M_,touchNative:yd,mobileOpera:I_,mobileGecko:L_,retina:x_,passiveEvents:T_,canvas:S_,svg:Ca,vml:A_,inlineSvg:P_,mac:k_,linux:O_},wd=S.msPointer?"MSPointerDown":"pointerdown",Dd=S.msPointer?"MSPointerMove":"pointermove",Cd=S.msPointer?"MSPointerUp":"pointerup",bd=S.msPointer?"MSPointerCancel":"pointercancel",ba={touchstart:wd,touchmove:Dd,touchend:Cd,touchcancel:bd},Ed={touchstart:V_,touchmove:Jr,touchend:Jr,touchcancel:Jr},Yn={},Md=!1;function N_(r,a,l){return a==="touchstart"&&B_(),Ed[a]?(l=Ed[a].bind(this,l),r.addEventListener(ba[a],l,!1),l):(console.warn("wrong event specified:",a),f)}function R_(r,a,l){if(!ba[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(ba[a],l,!1)}function F_(r){Yn[r.pointerId]=r}function j_(r){Yn[r.pointerId]&&(Yn[r.pointerId]=r)}function Id(r){delete Yn[r.pointerId]}function B_(){Md||(document.addEventListener(wd,F_,!0),document.addEventListener(Dd,j_,!0),document.addEventListener(Cd,Id,!0),document.addEventListener(bd,Id,!0),Md=!0)}function Jr(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var l in Yn)a.touches.push(Yn[l]);a.changedTouches=[a],r(a)}}function V_(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Le(a),Jr(r,a)}function U_(r){var a={},l,d;for(d in r)l=r[d],a[d]=l&&l.bind?l.bind(r):l;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var H_=200;function z_(r,a){r.addEventListener("dblclick",a);var l=0,d;function p(g){if(g.detail!==1){d=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var v=Pd(g);if(!(v.some(function(C){return C instanceof HTMLLabelElement&&C.attributes.for})&&!v.some(function(C){return C instanceof HTMLInputElement||C instanceof HTMLSelectElement}))){var w=Date.now();w-l<=H_?(d++,d===2&&a(U_(g))):d=1,l=w}}}return r.addEventListener("click",p),{dblclick:a,simDblclick:p}}function $_(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var Ea=no(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gi=no(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ld=Gi==="webkitTransition"||Gi==="OTransition"?Gi+"End":"transitionend";function xd(r){return typeof r=="string"?document.getElementById(r):r}function Zi(r,a){var l=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!l||l==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(r,null);l=d?d[a]:null}return l==="auto"?null:l}function te(r,a,l){var d=document.createElement(r);return d.className=a||"",l&&l.appendChild(d),d}function he(r){var a=r.parentNode;a&&a.removeChild(r)}function eo(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Qn(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function Kn(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Ma(r,a){if(r.classList!==void 0)return r.classList.contains(a);var l=to(r);return l.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(l)}function G(r,a){if(r.classList!==void 0)for(var l=y(a),d=0,p=l.length;d<p;d++)r.classList.add(l[d]);else if(!Ma(r,a)){var g=to(r);Ia(r,(g?g+" ":"")+a)}}function fe(r,a){r.classList!==void 0?r.classList.remove(a):Ia(r,_((" "+to(r)+" ").replace(" "+a+" "," ")))}function Ia(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function to(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function st(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&G_(r,a)}function G_(r,a){var l=!1,d="DXImageTransform.Microsoft.Alpha";try{l=r.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),l?(l.Enabled=a!==100,l.Opacity=a):r.style.filter+=" progid:"+d+"(opacity="+a+")"}function no(r){for(var a=document.documentElement.style,l=0;l<r.length;l++)if(r[l]in a)return r[l];return!1}function Ln(r,a,l){var d=a||new U(0,0);r.style[Ea]=(S.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(l?" scale("+l+")":"")}function _e(r,a){r._leaflet_pos=a,S.any3d?Ln(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function xn(r){return r._leaflet_pos||new U(0,0)}var Wi,qi,La;if("onselectstart"in document)Wi=function(){H(window,"selectstart",Le)},qi=function(){le(window,"selectstart",Le)};else{var Yi=no(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Wi=function(){if(Yi){var r=document.documentElement.style;La=r[Yi],r[Yi]="none"}},qi=function(){Yi&&(document.documentElement.style[Yi]=La,La=void 0)}}function xa(){H(window,"dragstart",Le)}function Ta(){le(window,"dragstart",Le)}var io,Sa;function Pa(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(ro(),io=r,Sa=r.style.outlineStyle,r.style.outlineStyle="none",H(window,"keydown",ro))}function ro(){io&&(io.style.outlineStyle=Sa,io=void 0,Sa=void 0,le(window,"keydown",ro))}function Td(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Aa(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var Z_={__proto__:null,TRANSFORM:Ea,TRANSITION:Gi,TRANSITION_END:Ld,get:xd,getStyle:Zi,create:te,remove:he,empty:eo,toFront:Qn,toBack:Kn,hasClass:Ma,addClass:G,removeClass:fe,setClass:Ia,getClass:to,setOpacity:st,testProp:no,setTransform:Ln,setPosition:_e,getPosition:xn,get disableTextSelection(){return Wi},get enableTextSelection(){return qi},disableImageDrag:xa,enableImageDrag:Ta,preventOutline:Pa,restoreOutline:ro,getSizedParentNode:Td,getScale:Aa};function H(r,a,l,d){if(a&&typeof a=="object")for(var p in a)Oa(r,p,a[p],l);else{a=y(a);for(var g=0,v=a.length;g<v;g++)Oa(r,a[g],l,d)}return this}var Lt="_leaflet_events";function le(r,a,l,d){if(arguments.length===1)Sd(r),delete r[Lt];else if(a&&typeof a=="object")for(var p in a)Na(r,p,a[p],l);else if(a=y(a),arguments.length===2)Sd(r,function(w){return Ce(a,w)!==-1});else for(var g=0,v=a.length;g<v;g++)Na(r,a[g],l,d);return this}function Sd(r,a){for(var l in r[Lt]){var d=l.split(/\d/)[0];(!a||a(d))&&Na(r,d,null,null,l)}}var ka={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Oa(r,a,l,d){var p=a+u(l)+(d?"_"+u(d):"");if(r[Lt]&&r[Lt][p])return this;var g=function(w){return l.call(d||r,w||window.event)},v=g;!S.touchNative&&S.pointer&&a.indexOf("touch")===0?g=N_(r,a,g):S.touch&&a==="dblclick"?g=z_(r,g):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(ka[a]||a,g,S.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(g=function(w){w=w||window.event,Fa(r,w)&&v(w)},r.addEventListener(ka[a],g,!1)):r.addEventListener(a,v,!1):r.attachEvent("on"+a,g),r[Lt]=r[Lt]||{},r[Lt][p]=g}function Na(r,a,l,d,p){p=p||a+u(l)+(d?"_"+u(d):"");var g=r[Lt]&&r[Lt][p];if(!g)return this;!S.touchNative&&S.pointer&&a.indexOf("touch")===0?R_(r,a,g):S.touch&&a==="dblclick"?$_(r,g):"removeEventListener"in r?r.removeEventListener(ka[a]||a,g,!1):r.detachEvent("on"+a,g),r[Lt][p]=null}function Tn(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Ra(r){return Oa(r,"wheel",Tn),this}function Qi(r){return H(r,"mousedown touchstart dblclick contextmenu",Tn),r._leaflet_disable_click=!0,this}function Le(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Sn(r){return Le(r),Tn(r),this}function Pd(r){if(r.composedPath)return r.composedPath();for(var a=[],l=r.target;l;)a.push(l),l=l.parentNode;return a}function Ad(r,a){if(!a)return new U(r.clientX,r.clientY);var l=Aa(a),d=l.boundingClientRect;return new U((r.clientX-d.left)/l.x-a.clientLeft,(r.clientY-d.top)/l.y-a.clientTop)}var W_=S.linux&&S.chrome?window.devicePixelRatio:S.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kd(r){return S.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/W_:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Fa(r,a){var l=a.relatedTarget;if(!l)return!0;try{for(;l&&l!==r;)l=l.parentNode}catch{return!1}return l!==r}var q_={__proto__:null,on:H,off:le,stopPropagation:Tn,disableScrollPropagation:Ra,disableClickPropagation:Qi,preventDefault:Le,stop:Sn,getPropagationPath:Pd,getMousePosition:Ad,getWheelDelta:kd,isExternalTarget:Fa,addListener:H,removeListener:le},Od=Hi.extend({run:function(r,a,l,d){this.stop(),this._el=r,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=xn(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Se(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,l=this._duration*1e3;a<l?this._runFrame(this._easeOut(a/l),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var l=this._startPos.add(this._offset.multiplyBy(r));a&&l._round(),_e(this._el,l),this.fire("step")},_complete:function(){Ue(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Q=Hi.extend({options:{crs:_a,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=D(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Y(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gi&&S.any3d&&!S.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),H(this._proxy,Ld,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,l){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(Y(r),a,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,l.zoom):this._tryAnimatedPan(r,l.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,l.pan&&l.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(S.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(S.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,l){var d=this.getZoomScale(a),p=this.getSize().divideBy(2),g=r instanceof U?r:this.latLngToContainerPoint(r),v=g.subtract(p).multiplyBy(1-1/d),w=this.containerPointToLatLng(p.add(v));return this.setView(w,a,{zoom:l})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():ge(r);var l=j(a.paddingTopLeft||a.padding||[0,0]),d=j(a.paddingBottomRight||a.padding||[0,0]),p=this.getBoundsZoom(r,!1,l.add(d));if(p=typeof a.maxZoom=="number"?Math.min(a.maxZoom,p):p,p===1/0)return{center:r.getCenter(),zoom:p};var g=d.subtract(l).divideBy(2),v=this.project(r.getSouthWest(),p),w=this.project(r.getNorthEast(),p),C=this.unproject(v.add(w).divideBy(2).add(g),p);return{center:C,zoom:p}},fitBounds:function(r,a){if(r=ge(r),!r.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(r,a);return this.setView(l.center,l.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=j(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Od,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){G(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,l,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,l){if(l=l||{},l.animate===!1||!S.any3d)return this.setView(r,a,l);this._stop();var d=this.project(this.getCenter()),p=this.project(r),g=this.getSize(),v=this._zoom;r=Y(r),a=a===void 0?v:a;var w=Math.max(g.x,g.y),C=w*this.getZoomScale(v,a),b=p.distanceTo(d)||1,I=1.42,k=I*I;function Z(ve){var _o=ve?-1:1,Rv=ve?C:w,Fv=C*C-w*w+_o*k*k*b*b,jv=2*Rv*k*b,qa=Fv/jv,ph=Math.sqrt(qa*qa+1)-qa,Bv=ph<1e-9?-18:Math.log(ph);return Bv}function Ne(ve){return(Math.exp(ve)-Math.exp(-ve))/2}function Ee(ve){return(Math.exp(ve)+Math.exp(-ve))/2}function ut(ve){return Ne(ve)/Ee(ve)}var $e=Z(0);function ii(ve){return w*(Ee($e)/Ee($e+I*ve))}function Av(ve){return w*(Ee($e)*ut($e+I*ve)-Ne($e))/k}function kv(ve){return 1-Math.pow(1-ve,1.5)}var Ov=Date.now(),hh=(Z(1)-$e)/I,Nv=l.duration?1e3*l.duration:1e3*hh*.8;function fh(){var ve=(Date.now()-Ov)/Nv,_o=kv(ve)*hh;ve<=1?(this._flyToFrame=Se(fh,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(Av(_o)/b)),v),this.getScaleZoom(w/ii(_o),v),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),fh.call(this),this},flyToBounds:function(r,a){var l=this._getBoundsCenterZoom(r,a);return this.flyTo(l.center,l.zoom,a)},setMaxBounds:function(r){return r=ge(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var l=this.getCenter(),d=this._limitCenter(l,this._zoom,ge(r));return l.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var l=j(a.paddingTopLeft||a.padding||[0,0]),d=j(a.paddingBottomRight||a.padding||[0,0]),p=this.project(this.getCenter()),g=this.project(r),v=this.getPixelBounds(),w=He([v.min.add(l),v.max.subtract(d)]),C=w.getSize();if(!w.contains(g)){this._enforcingBounds=!0;var b=g.subtract(w.getCenter()),I=w.extend(g).getSize().subtract(C);p.x+=b.x<0?-I.x:I.x,p.y+=b.y<0?-I.y:I.y,this.panTo(this.unproject(p),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),d=a.divideBy(2).round(),p=l.divideBy(2).round(),g=d.subtract(p);return!g.x&&!g.y?this:(r.animate&&r.pan?this.panBy(g):(r.pan&&this._rawPanBy(g),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=n(this._handleGeolocationResponse,this),l=n(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,l,r):navigator.geolocation.getCurrentPosition(a,l,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,l=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,l=r.coords.longitude,d=new se(a,l),p=d.toBounds(r.coords.accuracy*2),g=this._locateOptions;if(g.setView){var v=this.getBoundsZoom(p);this.setView(d,g.maxZoom?Math.min(v,g.maxZoom):v)}var w={latlng:d,bounds:p,timestamp:r.timestamp};for(var C in r.coords)typeof r.coords[C]=="number"&&(w[C]=r.coords[C]);this.fire("locationfound",w)}},addHandler:function(r,a){if(!a)return this;var l=this[r]=new a(this);return this._handlers.push(l),this.options[r]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),he(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ue(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)he(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var l="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),d=te("div",l,a||this._mapPane);return r&&(this._panes[r]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),l=this.unproject(r.getTopRight());return new ze(a,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,l){r=ge(r),l=j(l||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),v=r.getNorthWest(),w=r.getSouthEast(),C=this.getSize().subtract(l),b=He(this.project(w,d),this.project(v,d)).getSize(),I=S.any3d?this.options.zoomSnap:1,k=C.x/b.x,Z=C.y/b.y,Ne=a?Math.max(k,Z):Math.min(k,Z);return d=this.getScaleZoom(Ne,d),I&&(d=Math.round(d/(I/100))*(I/100),d=a?Math.ceil(d/I)*I:Math.floor(d/I)*I),Math.max(p,Math.min(g,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var l=this._getTopLeftPoint(r,a);return new de(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var l=this.options.crs;return a=a===void 0?this._zoom:a,l.scale(r)/l.scale(a)},getScaleZoom:function(r,a){var l=this.options.crs;a=a===void 0?this._zoom:a;var d=l.zoom(r*l.scale(a));return isNaN(d)?1/0:d},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Y(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(j(r),a)},layerPointToLatLng:function(r){var a=j(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(Y(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Y(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ge(r))},distance:function(r,a){return this.options.crs.distance(Y(r),Y(a))},containerPointToLayerPoint:function(r){return j(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return j(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(j(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(r)))},mouseEventToContainerPoint:function(r){return Ad(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=xd(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");H(a,"scroll",this._onScroll,this),this._containerId=u(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&S.any3d,G(r,"leaflet-container"+(S.touch?" leaflet-touch":"")+(S.retina?" leaflet-retina":"")+(S.ielt9?" leaflet-oldie":"")+(S.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Zi(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_e(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(G(r.markerPane,"leaflet-zoom-hide"),G(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,l){_e(this._mapPane,new U(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var p=this._zoom!==a;this._moveStart(p,l)._move(r,a)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,l,d){a===void 0&&(a=this._zoom);var p=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),d?l&&l.pinch&&this.fire("zoom",l):((p||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ue(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){_e(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[u(this._container)]=this;var a=r?le:H;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),S.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ue(this._resizeRequest),this._resizeRequest=Se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var l=[],d,p=a==="mouseout"||a==="mouseover",g=r.target||r.srcElement,v=!1;g;){if(d=this._targets[u(g)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){v=!0;break}if(d&&d.listens(a,!0)&&(p&&!Fa(g,r)||(l.push(d),p))||g===this._container)break;g=g.parentNode}return!l.length&&!v&&!p&&this.listens(a,!0)&&(l=[this]),l},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var l=r.type;l==="mousedown"&&Pa(a),this._fireDOMEvent(r,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,l){if(r.type==="click"){var d=o({},r);d.type="preclick",this._fireDOMEvent(d,d.type,l)}var p=this._findEventTargets(r,a);if(l){for(var g=[],v=0;v<l.length;v++)l[v].listens(a,!0)&&g.push(l[v]);p=g.concat(p)}if(p.length){a==="contextmenu"&&Le(r);var w=p[0],C={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var b=w.getLatLng&&(!w._radius||w._radius<=10);C.containerPoint=b?this.latLngToContainerPoint(w.getLatLng()):this.mouseEventToContainerPoint(r),C.layerPoint=this.containerPointToLayerPoint(C.containerPoint),C.latlng=b?w.getLatLng():this.layerPointToLatLng(C.layerPoint)}for(v=0;v<p.length;v++)if(p[v].fire(a,C,!0),C.originalEvent._stopped||p[v].options.bubblingMouseEvents===!1&&Ce(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return xn(this._mapPane)||new U(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var l=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var l=this.getSize()._divideBy(2);return this.project(r,a)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,l){var d=this._getNewPixelOrigin(l,a);return this.project(r,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(r,a,l){var d=this._getNewPixelOrigin(l,a);return He([this.project(r.getSouthWest(),a)._subtract(d),this.project(r.getNorthWest(),a)._subtract(d),this.project(r.getSouthEast(),a)._subtract(d),this.project(r.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,l){if(!l)return r;var d=this.project(r,a),p=this.getSize().divideBy(2),g=new de(d.subtract(p),d.add(p)),v=this._getBoundsOffset(g,l,a);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?r:this.unproject(d.add(v),a)},_limitOffset:function(r,a){if(!a)return r;var l=this.getPixelBounds(),d=new de(l.min.add(r),l.max.add(r));return r.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(r,a,l){var d=He(this.project(a.getNorthEast(),l),this.project(a.getSouthWest(),l)),p=d.min.subtract(r.min),g=d.max.subtract(r.max),v=this._rebound(p.x,-g.x),w=this._rebound(p.y,-g.y);return new U(v,w)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),l=this.getMaxZoom(),d=S.any3d?this.options.zoomSnap:1;return d&&(r=Math.round(r/d)*d),Math.max(a,Math.min(l,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var l=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,a),!0)},_createAnimProxy:function(){var r=this._proxy=te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var l=Ea,d=this._proxy.style[l];Ln(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){he(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();Ln(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),p=this._getCenterOffset(r)._divideBy(1-1/d);return l.animate!==!0&&!this.getSize().contains(p)?!1:(Se(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,l,d){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,G(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Y_(r,a){return new Q(r,a)}var _t=zt.extend({options:{position:"topright"},initialize:function(r){D(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),l=this.getPosition(),d=r._controlCorners[l];return G(a,"leaflet-control"),l.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(he(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ki=function(r){return new _t(r)};Q.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",l=this._controlContainer=te("div",a+"control-container",this._container);function d(p,g){var v=a+p+" "+a+g;r[p+g]=te("div",v,l)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)he(this._controlCorners[r]);he(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nd=_t.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,l,d){return l<d?-1:d<l?1:0}},initialize:function(r,a,l){D(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in r)this._addLayer(r[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return _t.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(u(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){G(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(G(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=te("div",r),l=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Qi(a),Ra(a);var d=this._section=te("section",r+"-list");l&&(this._map.on("click",this.collapse,this),H(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=te("a",r+"-toggle",a);p.href="#",p.title="Layers",p.setAttribute("role","button"),H(p,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){Le(g),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=te("div",r+"-base",d),this._separator=te("div",r+"-separator",d),this._overlaysList=te("div",r+"-overlays",d),a.appendChild(d)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&u(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,l){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:l}),this.options.sortLayers&&this._layers.sort(n(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;eo(this._baseLayersList),eo(this._overlaysList),this._layerControlInputs=[];var r,a,l,d,p=0;for(l=0;l<this._layers.length;l++)d=this._layers[l],this._addItem(d),a=a||d.overlay,r=r||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(r=r&&p>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(u(r.target)),l=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;l&&this._map.fire(l,a)},_createRadioElement:function(r,a){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=l,d.firstChild},_addItem:function(r){var a=document.createElement("label"),l=this._map.hasLayer(r.layer),d;r.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=l):d=this._createRadioElement("leaflet-base-layers_"+u(this),l),this._layerControlInputs.push(d),d.layerId=u(r.layer),H(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+r.name;var g=document.createElement("span");a.appendChild(g),g.appendChild(d),g.appendChild(p);var v=r.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,l,d=[],p=[];this._handlingClick=!0;for(var g=r.length-1;g>=0;g--)a=r[g],l=this._getLayer(a.layerId).layer,a.checked?d.push(l):a.checked||p.push(l);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<d.length;g++)this._map.hasLayer(d[g])||this._map.addLayer(d[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,l,d=this._map.getZoom(),p=r.length-1;p>=0;p--)a=r[p],l=this._getLayer(a.layerId).layer,a.disabled=l.options.minZoom!==void 0&&d<l.options.minZoom||l.options.maxZoom!==void 0&&d>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,H(r,"click",Le),this.expand();var a=this;setTimeout(function(){le(r,"click",Le),a._preventClick=!1})}}),Q_=function(r,a,l){return new Nd(r,a,l)},ja=_t.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",l=te("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",l,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,l,d,p){var g=te("a",l,d);return g.innerHTML=r,g.href="#",g.title=a,g.setAttribute("role","button"),g.setAttribute("aria-label",a),Qi(g),H(g,"click",Sn),H(g,"click",p,this),H(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";fe(this._zoomInButton,a),fe(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(G(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(G(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Q.mergeOptions({zoomControl:!0}),Q.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ja,this.addControl(this.zoomControl))});var K_=function(r){return new ja(r)},Rd=_t.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",l=te("div",a),d=this.options;return this._addScales(d,a+"-line",l),r.on(d.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),l},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,l){r.metric&&(this._mScale=te("div",a,l)),r.imperial&&(this._iScale=te("div",a,l))},_update:function(){var r=this._map,a=r.getSize().y/2,l=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(l)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),l=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,l,a/r)},_updateImperial:function(r){var a=r*3.2808399,l,d,p;a>5280?(l=a/5280,d=this._getRoundNum(l),this._updateScale(this._iScale,d+" mi",d/l)):(p=this._getRoundNum(a),this._updateScale(this._iScale,p+" ft",p/a))},_updateScale:function(r,a,l){r.style.width=Math.round(this.options.maxWidth*l)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),l=r/a;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,a*l}}),X_=function(r){return new Rd(r)},J_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ba=_t.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(S.inlineSvg?J_+" ":"")+"Leaflet</a>"},initialize:function(r){D(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=te("div","leaflet-control-attribution"),Qi(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var l=[];this.options.prefix&&l.push(this.options.prefix),r.length&&l.push(r.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});Q.mergeOptions({attributionControl:!0}),Q.addInitHook(function(){this.options.attributionControl&&new Ba().addTo(this)});var ev=function(r){return new Ba(r)};_t.Layers=Nd,_t.Zoom=ja,_t.Scale=Rd,_t.Attribution=Ba,Ki.layers=Q_,Ki.zoom=K_,Ki.scale=X_,Ki.attribution=ev;var xt=zt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xt.addTo=function(r,a){return r.addHandler(a,this),this};var tv={Events:Ye},Fd=S.touch?"touchstart mousedown":"mousedown",cn=Hi.extend({options:{clickTolerance:3},initialize:function(r,a,l,d){D(this,d),this._element=r,this._dragStartTarget=a||r,this._preventOutline=l},enable:function(){this._enabled||(H(this._dragStartTarget,Fd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),le(this._dragStartTarget,Fd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ma(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(cn._dragging=this,this._preventOutline&&Pa(this._element),xa(),Wi(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,l=Td(this._element);this._startPoint=new U(a.clientX,a.clientY),this._startPos=xn(this._element),this._parentScale=Aa(l);var d=r.type==="mousedown";H(document,d?"mousemove":"touchmove",this._onMove,this),H(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,l=new U(a.clientX,a.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Le(r),this._moved||(this.fire("dragstart"),this._moved=!0,G(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),G(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),_e(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),le(document,"mousemove touchmove",this._onMove,this),le(document,"mouseup touchend touchcancel",this._onUp,this),Ta(),qi();var a=this._moved&&this._moving;this._moving=!1,cn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function jd(r,a,l){var d,p=[1,4,2,8],g,v,w,C,b,I,k,Z;for(g=0,I=r.length;g<I;g++)r[g]._code=Pn(r[g],a);for(w=0;w<4;w++){for(k=p[w],d=[],g=0,I=r.length,v=I-1;g<I;v=g++)C=r[g],b=r[v],C._code&k?b._code&k||(Z=oo(b,C,k,a,l),Z._code=Pn(Z,a),d.push(Z)):(b._code&k&&(Z=oo(b,C,k,a,l),Z._code=Pn(Z,a),d.push(Z)),d.push(C));r=d}return r}function Bd(r,a){var l,d,p,g,v,w,C,b,I;if(!r||r.length===0)throw new Error("latlngs not passed");at(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var k=Y([0,0]),Z=ge(r),Ne=Z.getNorthWest().distanceTo(Z.getSouthWest())*Z.getNorthEast().distanceTo(Z.getNorthWest());Ne<1700&&(k=Va(r));var Ee=r.length,ut=[];for(l=0;l<Ee;l++){var $e=Y(r[l]);ut.push(a.project(Y([$e.lat-k.lat,$e.lng-k.lng])))}for(w=C=b=0,l=0,d=Ee-1;l<Ee;d=l++)p=ut[l],g=ut[d],v=p.y*g.x-g.y*p.x,C+=(p.x+g.x)*v,b+=(p.y+g.y)*v,w+=v*3;w===0?I=ut[0]:I=[C/w,b/w];var ii=a.unproject(j(I));return Y([ii.lat+k.lat,ii.lng+k.lng])}function Va(r){for(var a=0,l=0,d=0,p=0;p<r.length;p++){var g=Y(r[p]);a+=g.lat,l+=g.lng,d++}return Y([a/d,l/d])}var nv={__proto__:null,clipPolygon:jd,polygonCenter:Bd,centroid:Va};function Vd(r,a){if(!a||!r.length)return r.slice();var l=a*a;return r=ov(r,l),r=rv(r,l),r}function Ud(r,a,l){return Math.sqrt(Xi(r,a,l,!0))}function iv(r,a,l){return Xi(r,a,l)}function rv(r,a){var l=r.length,d=typeof Uint8Array<"u"?Uint8Array:Array,p=new d(l);p[0]=p[l-1]=1,Ua(r,p,a,0,l-1);var g,v=[];for(g=0;g<l;g++)p[g]&&v.push(r[g]);return v}function Ua(r,a,l,d,p){var g=0,v,w,C;for(w=d+1;w<=p-1;w++)C=Xi(r[w],r[d],r[p],!0),C>g&&(v=w,g=C);g>l&&(a[v]=1,Ua(r,a,l,d,v),Ua(r,a,l,v,p))}function ov(r,a){for(var l=[r[0]],d=1,p=0,g=r.length;d<g;d++)sv(r[d],r[p])>a&&(l.push(r[d]),p=d);return p<g-1&&l.push(r[g-1]),l}var Hd;function zd(r,a,l,d,p){var g=d?Hd:Pn(r,l),v=Pn(a,l),w,C,b;for(Hd=v;;){if(!(g|v))return[r,a];if(g&v)return!1;w=g||v,C=oo(r,a,w,l,p),b=Pn(C,l),w===g?(r=C,g=b):(a=C,v=b)}}function oo(r,a,l,d,p){var g=a.x-r.x,v=a.y-r.y,w=d.min,C=d.max,b,I;return l&8?(b=r.x+g*(C.y-r.y)/v,I=C.y):l&4?(b=r.x+g*(w.y-r.y)/v,I=w.y):l&2?(b=C.x,I=r.y+v*(C.x-r.x)/g):l&1&&(b=w.x,I=r.y+v*(w.x-r.x)/g),new U(b,I,p)}function Pn(r,a){var l=0;return r.x<a.min.x?l|=1:r.x>a.max.x&&(l|=2),r.y<a.min.y?l|=4:r.y>a.max.y&&(l|=8),l}function sv(r,a){var l=a.x-r.x,d=a.y-r.y;return l*l+d*d}function Xi(r,a,l,d){var p=a.x,g=a.y,v=l.x-p,w=l.y-g,C=v*v+w*w,b;return C>0&&(b=((r.x-p)*v+(r.y-g)*w)/C,b>1?(p=l.x,g=l.y):b>0&&(p+=v*b,g+=w*b)),v=r.x-p,w=r.y-g,d?v*v+w*w:new U(p,g)}function at(r){return!O(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function $d(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),at(r)}function Gd(r,a){var l,d,p,g,v,w,C,b;if(!r||r.length===0)throw new Error("latlngs not passed");at(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var I=Y([0,0]),k=ge(r),Z=k.getNorthWest().distanceTo(k.getSouthWest())*k.getNorthEast().distanceTo(k.getNorthWest());Z<1700&&(I=Va(r));var Ne=r.length,Ee=[];for(l=0;l<Ne;l++){var ut=Y(r[l]);Ee.push(a.project(Y([ut.lat-I.lat,ut.lng-I.lng])))}for(l=0,d=0;l<Ne-1;l++)d+=Ee[l].distanceTo(Ee[l+1])/2;if(d===0)b=Ee[0];else for(l=0,g=0;l<Ne-1;l++)if(v=Ee[l],w=Ee[l+1],p=v.distanceTo(w),g+=p,g>d){C=(g-d)/p,b=[w.x-C*(w.x-v.x),w.y-C*(w.y-v.y)];break}var $e=a.unproject(j(b));return Y([$e.lat+I.lat,$e.lng+I.lng])}var av={__proto__:null,simplify:Vd,pointToSegmentDistance:Ud,closestPointOnSegment:iv,clipSegment:zd,_getEdgeIntersection:oo,_getBitCode:Pn,_sqClosestPointOnSegment:Xi,isFlat:at,_flat:$d,polylineCenter:Gd},Ha={project:function(r){return new U(r.lng,r.lat)},unproject:function(r){return new se(r.y,r.x)},bounds:new de([-180,-90],[180,90])},za={R:6378137,R_MINOR:6356752314245179e-9,bounds:new de([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,l=this.R,d=r.lat*a,p=this.R_MINOR/l,g=Math.sqrt(1-p*p),v=g*Math.sin(d),w=Math.tan(Math.PI/4-d/2)/Math.pow((1-v)/(1+v),g/2);return d=-l*Math.log(Math.max(w,1e-10)),new U(r.lng*a*l,d)},unproject:function(r){for(var a=180/Math.PI,l=this.R,d=this.R_MINOR/l,p=Math.sqrt(1-d*d),g=Math.exp(-r.y/l),v=Math.PI/2-2*Math.atan(g),w=0,C=.1,b;w<15&&Math.abs(C)>1e-7;w++)b=p*Math.sin(v),b=Math.pow((1-b)/(1+b),p/2),C=Math.PI/2-2*Math.atan(g*b)-v,v+=C;return new se(v*a,r.x*a/l)}},uv={__proto__:null,LonLat:Ha,Mercator:za,SphericalMercator:ma},lv=o({},ln,{code:"EPSG:3395",projection:za,transformation:function(){var r=.5/(Math.PI*za.R);return zi(r,.5,-r,.5)}()}),Zd=o({},ln,{code:"EPSG:4326",projection:Ha,transformation:zi(1/180,1,-1/180,.5)}),cv=o({},$t,{projection:Ha,transformation:zi(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var l=a.lng-r.lng,d=a.lat-r.lat;return Math.sqrt(l*l+d*d)},infinite:!0});$t.Earth=ln,$t.EPSG3395=lv,$t.EPSG3857=_a,$t.EPSG900913=g_,$t.EPSG4326=Zd,$t.Simple=cv;var vt=Hi.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[u(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[u(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var l=this.getEvents();a.on(l,this),this.once("remove",function(){a.off(l,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Q.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=u(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=u(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return u(r)in this._layers},eachLayer:function(r,a){for(var l in this._layers)r.call(a,this._layers[l]);return this},_addLayers:function(r){r=r?O(r)?r:[r]:[];for(var a=0,l=r.length;a<l;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[u(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=u(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,l=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;r=p.minZoom===void 0?r:Math.min(r,p.minZoom),a=p.maxZoom===void 0?a:Math.max(a,p.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xn=vt.extend({initialize:function(r,a){D(this,a),this._layers={};var l,d;if(r)for(l=0,d=r.length;l<d;l++)this.addLayer(r[l])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),l,d;for(l in this._layers)d=this._layers[l],d[r]&&d[r].apply(d,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var l in this._layers)r.call(a,this._layers[l]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return u(r)}}),dv=function(r,a){return new Xn(r,a)},Gt=Xn.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Xn.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Xn.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ze;for(var a in this._layers){var l=this._layers[a];r.extend(l.getBounds?l.getBounds():l.getLatLng())}return r}}),hv=function(r,a){return new Gt(r,a)},Jn=zt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){D(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var l=this._getIconUrl(r);if(!l){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(l,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(r,a){var l=this.options,d=l[a+"Size"];typeof d=="number"&&(d=[d,d]);var p=j(d),g=j(a==="shadow"&&l.shadowAnchor||l.iconAnchor||p&&p.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(l.className||""),g&&(r.style.marginLeft=-g.x+"px",r.style.marginTop=-g.y+"px"),p&&(r.style.width=p.x+"px",r.style.height=p.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return S.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function fv(r){return new Jn(r)}var Ji=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Ji.imagePath!="string"&&(Ji.imagePath=this._detectIconPath()),(this.options.imagePath||Ji.imagePath)+Jn.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(l,d,p){var g=d.exec(l);return g&&g[p]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=te("div","leaflet-default-icon-path",document.body),a=Zi(r,"background-image")||Zi(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Wd=xt.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new cn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),G(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,l=a._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=xn(a._icon),v=l.getPixelBounds(),w=l.getPixelOrigin(),C=He(v.min._subtract(w).add(p),v.max._subtract(w).subtract(p));if(!C.contains(g)){var b=j((Math.max(C.max.x,g.x)-C.max.x)/(v.max.x-C.max.x)-(Math.min(C.min.x,g.x)-C.min.x)/(v.min.x-C.min.x),(Math.max(C.max.y,g.y)-C.max.y)/(v.max.y-C.max.y)-(Math.min(C.min.y,g.y)-C.min.y)/(v.min.y-C.min.y)).multiplyBy(d);l.panBy(b,{animate:!1}),this._draggable._newPos._add(b),this._draggable._startPos._add(b),_e(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Se(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Ue(this._panRequest),this._panRequest=Se(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,l=a._shadow,d=xn(a._icon),p=a._map.layerPointToLatLng(d);l&&_e(l,d),a._latlng=p,r.latlng=p,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Ue(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),so=vt.extend({options:{icon:new Ji,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){D(this,a),this._latlng=Y(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=Y(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=r.icon.createIcon(this._icon),d=!1;l!==this._icon&&(this._icon&&this._removeIcon(),d=!0,r.title&&(l.title=r.title),l.tagName==="IMG"&&(l.alt=r.alt||"")),G(l,a),r.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&H(l,"focus",this._panOnFocus,this);var p=r.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(G(p,a),p.alt=""),this._shadow=p,r.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&le(this._icon,"focus",this._panOnFocus,this),he(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&he(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&_e(this._icon,r),this._shadow&&_e(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(G(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wd)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wd(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&st(this._icon,r),this._shadow&&st(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,l=a.iconSize?j(a.iconSize):j(0,0),d=a.iconAnchor?j(a.iconAnchor):j(0,0);r.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:l.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pv(r,a){return new so(r,a)}var dn=vt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return D(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ao=dn.extend({options:{fill:!0,radius:10},initialize:function(r,a){D(this,a),this._latlng=Y(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=Y(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return dn.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,l=this._clickTolerance(),d=[r+l,a+l];this._pxBounds=new de(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mv(r,a){return new ao(r,a)}var $a=ao.extend({initialize:function(r,a,l){if(typeof a=="number"&&(a=o({},l,{radius:a})),D(this,a),this._latlng=Y(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ze(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:dn.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,l=this._map,d=l.options.crs;if(d.distance===ln.distance){var p=Math.PI/180,g=this._mRadius/ln.R/p,v=l.project([a+g,r]),w=l.project([a-g,r]),C=v.add(w).divideBy(2),b=l.unproject(C).lat,I=Math.acos((Math.cos(g*p)-Math.sin(a*p)*Math.sin(b*p))/(Math.cos(a*p)*Math.cos(b*p)))/p;(isNaN(I)||I===0)&&(I=g/Math.cos(Math.PI/180*a)),this._point=C.subtract(l.getPixelOrigin()),this._radius=isNaN(I)?0:C.x-l.project([b,r-I]).x,this._radiusY=C.y-v.y}else{var k=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(k).x}this._updateBounds()}});function gv(r,a,l){return new $a(r,a,l)}var Zt=dn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){D(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,l=null,d=Xi,p,g,v=0,w=this._parts.length;v<w;v++)for(var C=this._parts[v],b=1,I=C.length;b<I;b++){p=C[b-1],g=C[b];var k=d(r,p,g,!0);k<a&&(a=k,l=d(r,p,g))}return l&&(l.distance=Math.sqrt(a)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=Y(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ze,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return at(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],l=at(r),d=0,p=r.length;d<p;d++)l?(a[d]=Y(r[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(r[d]);return a},_project:function(){var r=new de;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new U(r,r);this._rawPxBounds&&(this._pxBounds=new de([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,l){var d=r[0]instanceof se,p=r.length,g,v;if(d){for(v=[],g=0;g<p;g++)v[g]=this._map.latLngToLayerPoint(r[g]),l.extend(v[g]);a.push(v)}else for(g=0;g<p;g++)this._projectLatlngs(r[g],a,l)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,l,d,p,g,v,w,C;for(l=0,p=0,g=this._rings.length;l<g;l++)for(C=this._rings[l],d=0,v=C.length;d<v-1;d++)w=zd(C[d],C[d+1],r,d,!0),w&&(a[p]=a[p]||[],a[p].push(w[0]),(w[1]!==C[d+1]||d===v-2)&&(a[p].push(w[1]),p++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,l=0,d=r.length;l<d;l++)r[l]=Vd(r[l],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var l,d,p,g,v,w,C=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(l=0,g=this._parts.length;l<g;l++)for(w=this._parts[l],d=0,v=w.length,p=v-1;d<v;p=d++)if(!(!a&&d===0)&&Ud(r,w[p],w[d])<=C)return!0;return!1}});function _v(r,a){return new Zt(r,a)}Zt._flat=$d;var ei=Zt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=Zt.prototype._convertLatLngs.call(this,r),l=a.length;return l>=2&&a[0]instanceof se&&a[0].equals(a[l-1])&&a.pop(),a},_setLatLngs:function(r){Zt.prototype._setLatLngs.call(this,r),at(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return at(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,l=new U(a,a);if(r=new de(r.min.subtract(l),r.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,g;d<p;d++)g=jd(this._rings[d],r,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,l,d,p,g,v,w,C,b;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(g=0,C=this._parts.length;g<C;g++)for(l=this._parts[g],v=0,b=l.length,w=b-1;v<b;w=v++)d=l[v],p=l[w],d.y>r.y!=p.y>r.y&&r.x<(p.x-d.x)*(r.y-d.y)/(p.y-d.y)+d.x&&(a=!a);return a||Zt.prototype._containsPoint.call(this,r,!0)}});function vv(r,a){return new ei(r,a)}var Wt=Gt.extend({initialize:function(r,a){D(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=O(r)?r:r.features,l,d,p;if(a){for(l=0,d=a.length;l<d;l++)p=a[l],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(r))return this;var v=uo(r,g);return v?(v.feature=ho(r),v.defaultOptions=v.options,this.resetStyle(v),g.onEachFeature&&g.onEachFeature(r,v),this.addLayer(v)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function uo(r,a){var l=r.type==="Feature"?r.geometry:r,d=l?l.coordinates:null,p=[],g=a&&a.pointToLayer,v=a&&a.coordsToLatLng||Ga,w,C,b,I;if(!d&&!l)return null;switch(l.type){case"Point":return w=v(d),qd(g,r,w,a);case"MultiPoint":for(b=0,I=d.length;b<I;b++)w=v(d[b]),p.push(qd(g,r,w,a));return new Gt(p);case"LineString":case"MultiLineString":return C=lo(d,l.type==="LineString"?0:1,v),new Zt(C,a);case"Polygon":case"MultiPolygon":return C=lo(d,l.type==="Polygon"?1:2,v),new ei(C,a);case"GeometryCollection":for(b=0,I=l.geometries.length;b<I;b++){var k=uo({geometry:l.geometries[b],type:"Feature",properties:r.properties},a);k&&p.push(k)}return new Gt(p);case"FeatureCollection":for(b=0,I=l.features.length;b<I;b++){var Z=uo(l.features[b],a);Z&&p.push(Z)}return new Gt(p);default:throw new Error("Invalid GeoJSON object.")}}function qd(r,a,l,d){return r?r(a,l):new so(l,d&&d.markersInheritOptions&&d)}function Ga(r){return new se(r[1],r[0],r[2])}function lo(r,a,l){for(var d=[],p=0,g=r.length,v;p<g;p++)v=a?lo(r[p],a-1,l):(l||Ga)(r[p]),d.push(v);return d}function Za(r,a){return r=Y(r),r.alt!==void 0?[m(r.lng,a),m(r.lat,a),m(r.alt,a)]:[m(r.lng,a),m(r.lat,a)]}function co(r,a,l,d){for(var p=[],g=0,v=r.length;g<v;g++)p.push(a?co(r[g],at(r[g])?0:a-1,l,d):Za(r[g],d));return!a&&l&&p.length>0&&p.push(p[0].slice()),p}function ti(r,a){return r.feature?o({},r.feature,{geometry:a}):ho(a)}function ho(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Wa={toGeoJSON:function(r){return ti(this,{type:"Point",coordinates:Za(this.getLatLng(),r)})}};so.include(Wa),$a.include(Wa),ao.include(Wa),Zt.include({toGeoJSON:function(r){var a=!at(this._latlngs),l=co(this._latlngs,a?1:0,!1,r);return ti(this,{type:(a?"Multi":"")+"LineString",coordinates:l})}}),ei.include({toGeoJSON:function(r){var a=!at(this._latlngs),l=a&&!at(this._latlngs[0]),d=co(this._latlngs,l?2:a?1:0,!0,r);return a||(d=[d]),ti(this,{type:(l?"Multi":"")+"Polygon",coordinates:d})}}),Xn.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(l){a.push(l.toGeoJSON(r).geometry.coordinates)}),ti(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var l=a==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(r);if(l)d.push(g.geometry);else{var v=ho(g);v.type==="FeatureCollection"?d.push.apply(d,v.features):d.push(v)}}}),l?ti(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Yd(r,a){return new Wt(r,a)}var yv=Yd,fo=vt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,l){this._url=r,this._bounds=ge(a),D(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(G(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){he(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Qn(this._image),this},bringToBack:function(){return this._map&&Kn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ge(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:te("img");if(G(a,"leaflet-image-layer"),this._zoomAnimated&&G(a,"leaflet-zoom-animated"),this.options.className&&G(a,this.options.className),a.onselectstart=f,a.onmousemove=f,a.onload=n(this.fire,this,"load"),a.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Ln(this._image,l,a)},_reset:function(){var r=this._image,a=new de(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=a.getSize();_e(r,a.min),r.style.width=l.x+"px",r.style.height=l.y+"px"},_updateOpacity:function(){st(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),wv=function(r,a,l){return new fo(r,a,l)},Qd=fo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:te("video");if(G(a,"leaflet-image-layer"),this._zoomAnimated&&G(a,"leaflet-zoom-animated"),this.options.className&&G(a,this.options.className),a.onselectstart=f,a.onmousemove=f,a.onloadeddata=n(this.fire,this,"load"),r){for(var l=a.getElementsByTagName("source"),d=[],p=0;p<l.length;p++)d.push(l[p].src);this._url=l.length>0?d:[a.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var v=te("source");v.src=this._url[g],a.appendChild(v)}}});function Dv(r,a,l){return new Qd(r,a,l)}var Kd=fo.extend({_initImage:function(){var r=this._image=this._url;G(r,"leaflet-image-layer"),this._zoomAnimated&&G(r,"leaflet-zoom-animated"),this.options.className&&G(r,this.options.className),r.onselectstart=f,r.onmousemove=f}});function Cv(r,a,l){return new Kd(r,a,l)}var Tt=vt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof se||O(r))?(this._latlng=Y(r),D(this,a)):(D(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&st(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&st(this._container,1),this.bringToFront(),this.options.interactive&&(G(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(st(this._container,0),this._removeTimeout=setTimeout(n(he,void 0,this._container),200)):he(this._container),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Y(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qn(this._container),this},bringToBack:function(){return this._map&&Kn(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof Gt){a=null;var l=this._source._layers;for(var d in l)if(l[d]._map){a=l[d];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=j(this.options.offset),l=this._getAnchor();this._zoomAnimated?_e(this._container,r.add(l)):a=a.add(r).add(l);var d=this._containerBottom=-a.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});Q.include({_initOverlay:function(r,a,l,d){var p=a;return p instanceof r||(p=new r(d).setContent(a)),l&&p.setLatLng(l),p}}),vt.include({_initOverlay:function(r,a,l,d){var p=l;return p instanceof r?(D(p,d),p._source=this):(p=a&&!d?a:new r(d,this),p.setContent(l)),p}});var po=Tt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Tt.prototype.openOn.call(this,r)},onAdd:function(r){Tt.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dn||this._source.on("preclick",Tn))},onRemove:function(r){Tt.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dn||this._source.off("preclick",Tn))},getEvents:function(){var r=Tt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=te("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=te("div",r+"-content-wrapper",a);if(this._contentNode=te("div",r+"-content",l),Qi(a),Ra(this._contentNode),H(a,"contextmenu",Tn),this._tipContainer=te("div",r+"-tip-container",a),this._tip=te("div",r+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=te("a",r+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',H(d,"click",function(p){Le(p),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var l=r.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),a.width=l+1+"px",a.whiteSpace="",a.height="";var d=r.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&d>p?(a.height=p+"px",G(r,g)):fe(r,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),l=this._getAnchor();_e(this._container,a.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(Zi(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+a,d=this._containerWidth,p=new U(this._containerLeft,-l-this._containerBottom);p._add(xn(this._container));var g=r.layerPointToContainerPoint(p),v=j(this.options.autoPanPadding),w=j(this.options.autoPanPaddingTopLeft||v),C=j(this.options.autoPanPaddingBottomRight||v),b=r.getSize(),I=0,k=0;g.x+d+C.x>b.x&&(I=g.x+d-b.x+C.x),g.x-I-w.x<0&&(I=g.x-w.x),g.y+l+C.y>b.y&&(k=g.y+l-b.y+C.y),g.y-k-w.y<0&&(k=g.y-w.y),(I||k)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([I,k]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),bv=function(r,a){return new po(r,a)};Q.mergeOptions({closePopupOnClick:!0}),Q.include({openPopup:function(r,a,l){return this._initOverlay(po,r,a,l).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),vt.include({bindPopup:function(r,a){return this._popup=this._initOverlay(po,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Gt||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Sn(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof dn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var mo=Tt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Tt.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Tt.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Tt.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=te("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,l,d=this._map,p=this._container,g=d.latLngToContainerPoint(d.getCenter()),v=d.layerPointToContainerPoint(r),w=this.options.direction,C=p.offsetWidth,b=p.offsetHeight,I=j(this.options.offset),k=this._getAnchor();w==="top"?(a=C/2,l=b):w==="bottom"?(a=C/2,l=0):w==="center"?(a=C/2,l=b/2):w==="right"?(a=0,l=b/2):w==="left"?(a=C,l=b/2):v.x<g.x?(w="right",a=0,l=b/2):(w="left",a=C+(I.x+k.x)*2,l=b/2),r=r.subtract(j(a,l,!0)).add(I).add(k),fe(p,"leaflet-tooltip-right"),fe(p,"leaflet-tooltip-left"),fe(p,"leaflet-tooltip-top"),fe(p,"leaflet-tooltip-bottom"),G(p,"leaflet-tooltip-"+w),_e(p,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&st(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ev=function(r,a){return new mo(r,a)};Q.include({openTooltip:function(r,a,l){return this._initOverlay(mo,r,a,l).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),vt.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mo,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[a](l),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Gt||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(H(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),H(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,l,d;this._tooltip.options.sticky&&r.originalEvent&&(l=this._map.mouseEventToContainerPoint(r.originalEvent),d=this._map.containerPointToLayerPoint(l),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var Xd=Jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),l=this.options;if(l.html instanceof Element?(eo(a),a.appendChild(l.html)):a.innerHTML=l.html!==!1?l.html:"",l.bgPos){var d=j(l.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Mv(r){return new Xd(r)}Jn.Default=Ji;var er=vt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:S.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){D(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),he(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Kn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof U?r:new U(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,l=-r(-1/0,1/0),d=0,p=a.length,g;d<p;d++)g=a[d].style.zIndex,a[d]!==this._container&&g&&(l=r(l,+g));isFinite(l)&&(this.options.zIndex=l+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!S.ielt9){st(this._container,this.options.opacity);var r=+new Date,a=!1,l=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var g=Math.min(1,(r-p.loaded)/200);st(p.el,g),g<1?a=!0:(p.active?l=!0:this._onOpaqueTile(p),p.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),a&&(Ue(this._fadeFrame),this._fadeFrame=Se(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===r?(this._levels[l].el.style.zIndex=a-Math.abs(r-l),this._onUpdateLevel(l)):(he(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var d=this._levels[r],p=this._map;return d||(d=this._levels[r]={},d.el=te("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=p.project(p.unproject(p.getPixelOrigin()),r).round(),d.zoom=r,this._setZoomTransform(d,p.getCenter(),p.getZoom()),f(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var r,a,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)he(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,l,d){var p=Math.floor(r/2),g=Math.floor(a/2),v=l-1,w=new U(+p,+g);w.z=+v;var C=this._tileCoordsToKey(w),b=this._tiles[C];return b&&b.active?(b.retain=!0,!0):(b&&b.loaded&&(b.retain=!0),v>d?this._retainParent(p,g,v,d):!1)},_retainChildren:function(r,a,l,d){for(var p=2*r;p<2*r+2;p++)for(var g=2*a;g<2*a+2;g++){var v=new U(p,g);v.z=l+1;var w=this._tileCoordsToKey(v),C=this._tiles[w];if(C&&C.active){C.retain=!0;continue}else C&&C.loaded&&(C.retain=!0);l+1<d&&this._retainChildren(p,g,l+1,d)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,l,d){var p=Math.round(a);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(r),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var l in this._levels)this._setZoomTransform(this._levels[l],r,a)},_setZoomTransform:function(r,a,l){var d=this._map.getZoomScale(l,r.zoom),p=r.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,l)).round();S.any3d?Ln(r.el,p,d):_e(r.el,p)},_resetGrid:function(){var r=this._map,a=r.options.crs,l=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],d).x/l.x),Math.ceil(r.project([0,a.wrapLng[1]],d).x/l.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],d).y/l.x),Math.ceil(r.project([a.wrapLat[1],0],d).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,l=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(l,this._tileZoom),p=a.project(r,this._tileZoom).floor(),g=a.getSize().divideBy(d*2);return new de(p.subtract(g),p.add(g))},_update:function(r){var a=this._map;if(a){var l=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(r),p=this._pxBoundsToTileRange(d),g=p.getCenter(),v=[],w=this.options.keepBuffer,C=new de(p.getBottomLeft().subtract([w,-w]),p.getTopRight().add([w,-w]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var b in this._tiles){var I=this._tiles[b].coords;(I.z!==this._tileZoom||!C.contains(new U(I.x,I.y)))&&(this._tiles[b].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(r,l);return}for(var k=p.min.y;k<=p.max.y;k++)for(var Z=p.min.x;Z<=p.max.x;Z++){var Ne=new U(Z,k);if(Ne.z=this._tileZoom,!!this._isValidTile(Ne)){var Ee=this._tiles[this._tileCoordsToKey(Ne)];Ee?Ee.current=!0:v.push(Ne)}}if(v.sort(function($e,ii){return $e.distanceTo(g)-ii.distanceTo(g)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ut=document.createDocumentFragment();for(Z=0;Z<v.length;Z++)this._addTile(v[Z],ut);this._level.el.appendChild(ut)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var l=this._globalTileRange;if(!a.wrapLng&&(r.x<l.min.x||r.x>l.max.x)||!a.wrapLat&&(r.y<l.min.y||r.y>l.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(r);return ge(this.options.bounds).overlaps(d)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,l=this.getTileSize(),d=r.scaleBy(l),p=d.add(l),g=a.unproject(d,r.z),v=a.unproject(p,r.z);return[g,v]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),l=new ze(a[0],a[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),l=new U(+a[0],+a[1]);return l.z=+a[2],l},_removeTile:function(r){var a=this._tiles[r];a&&(he(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){G(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=f,r.onmousemove=f,S.ielt9&&this.options.opacity<1&&st(r,this.options.opacity)},_addTile:function(r,a){var l=this._getTilePos(r),d=this._tileCoordsToKey(r),p=this.createTile(this._wrapCoords(r),n(this._tileReady,this,r));this._initTile(p),this.createTile.length<2&&Se(n(this._tileReady,this,r,null,p)),_e(p,l),this._tiles[d]={el:p,coords:r,current:!0},a.appendChild(p),this.fire("tileloadstart",{tile:p,coords:r})},_tileReady:function(r,a,l){a&&this.fire("tileerror",{error:a,tile:l,coords:r});var d=this._tileCoordsToKey(r);l=this._tiles[d],l&&(l.loaded=+new Date,this._map._fadeAnimated?(st(l.el,0),Ue(this._fadeFrame),this._fadeFrame=Se(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),a||(G(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),S.ielt9||!this._map._fadeAnimated?Se(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new U(this._wrapX?h(r.x,this._wrapX):r.x,this._wrapY?h(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new de(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Iv(r){return new er(r)}var ni=er.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=D(this,a),a.detectRetina&&S.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var l=document.createElement("img");return H(l,"load",n(this._tileOnLoad,this,a,l)),H(l,"error",n(this._tileOnError,this,a,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(r),l},getTileUrl:function(r){var a={r:S.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=l),a["-y"]=l}return z(this._url,o(a,this.options))},_tileOnLoad:function(r,a){S.ielt9?setTimeout(n(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,l){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),r(l,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,l=this.options.zoomReverse,d=this.options.zoomOffset;return l&&(r=a-r),r+d},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=f,a.onerror=f,!a.complete)){a.src=oe;var l=this._tiles[r].coords;he(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:l})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",oe),er.prototype._removeTile.call(this,r)},_tileReady:function(r,a,l){if(!(!this._map||l&&l.getAttribute("src")===oe))return er.prototype._tileReady.call(this,r,a,l)}});function Jd(r,a){return new ni(r,a)}var eh=ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var l=o({},this.defaultWmsParams);for(var d in a)d in this.options||(l[d]=a[d]);a=D(this,a);var p=a.detectRetina&&S.retina?2:1,g=this.getTileSize();l.width=g.x*p,l.height=g.y*p,this.wmsParams=l},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,ni.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),l=this._crs,d=He(l.project(a[0]),l.project(a[1])),p=d.min,g=d.max,v=(this._wmsVersion>=1.3&&this._crs===Zd?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),w=ni.prototype.getTileUrl.call(this,r);return w+x(this.wmsParams,w,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(r,a){return o(this.wmsParams,r),a||this.redraw(),this}});function Lv(r,a){return new eh(r,a)}ni.WMS=eh,Jd.wms=Lv;var qt=vt.extend({options:{padding:.1},initialize:function(r){D(this,r),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),G(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var l=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,a),g=d.multiplyBy(-l).add(p).subtract(this._map._getNewPixelOrigin(r,a));S.any3d?Ln(this._container,g,l):_e(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),l=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new de(l,l.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),th=qt.extend({options:{tolerance:0},getEvents:function(){var r=qt.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");H(r,"mousemove",this._onMouseMove,this),H(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),H(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Ue(this._redrawRequest),delete this._ctx,he(this._container),le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qt.prototype._update.call(this);var r=this._bounds,a=this._container,l=r.getSize(),d=S.retina?2:1;_e(a,r.min),a.width=d*l.x,a.height=d*l.y,a.style.width=l.x+"px",a.style.height=l.y+"px",S.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){qt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[u(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,l=a.next,d=a.prev;l?l.prev=d:this._drawLast=d,d?d.next=l:this._drawFirst=l,delete r._order,delete this._layers[u(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),l=[],d,p;for(p=0;p<a.length;p++){if(d=Number(a[p]),isNaN(d))return;l.push(d)}r.options._dashArray=l}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Se(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new de,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var l=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)r=d.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var l,d,p,g,v=r._parts,w=v.length,C=this._ctx;if(w){for(C.beginPath(),l=0;l<w;l++){for(d=0,p=v[l].length;d<p;d++)g=v[l][d],C[d?"lineTo":"moveTo"](g.x,g.y);a&&C.closePath()}this._fillStroke(C,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,l=this._ctx,d=Math.max(Math.round(r._radius),1),p=(Math.max(Math.round(r._radiusY),1)||d)/d;p!==1&&(l.save(),l.scale(1,p)),l.beginPath(),l.arc(a.x,a.y/p,d,0,Math.PI*2,!1),p!==1&&l.restore(),this._fillStroke(l,r)}},_fillStroke:function(r,a){var l=a.options;l.fill&&(r.globalAlpha=l.fillOpacity,r.fillStyle=l.fillColor||l.color,r.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=l.opacity,r.lineWidth=l.weight,r.strokeStyle=l.color,r.lineCap=l.lineCap,r.lineJoin=l.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),l,d,p=this._drawFirst;p;p=p.next)l=p.layer,l.options.interactive&&l._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(l))&&(d=l);this._fireEvent(d?[d]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(fe(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var l,d,p=this._drawFirst;p;p=p.next)l=p.layer,l.options.interactive&&l._containsPoint(a)&&(d=l);d!==this._hoveredLayer&&(this._handleMouseOut(r),d&&(G(this._container,"leaflet-interactive"),this._fireEvent([d],r,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(n(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,l){this._map._fireDOMEvent(a,l||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var l=a.next,d=a.prev;if(l)l.prev=d;else return;d?d.next=l:l&&(this._drawFirst=l),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var l=a.next,d=a.prev;if(d)d.next=l;else return;l?l.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function nh(r){return S.canvas?new th(r):null}var tr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xv={_initContainer:function(){this._container=te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qt.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=tr("shape");G(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=tr("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;he(a),r.removeInteractiveTarget(a),delete this._layers[u(r)]},_updateStyle:function(r){var a=r._stroke,l=r._fill,d=r.options,p=r._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(a||(a=r._stroke=tr("stroke")),p.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=O(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(p.removeChild(a),r._stroke=null),d.fill?(l||(l=r._fill=tr("fill")),p.appendChild(l),l.color=d.fillColor||d.color,l.opacity=d.fillOpacity):l&&(p.removeChild(l),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),l=Math.round(r._radius),d=Math.round(r._radiusY||l);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+l+","+d+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){Qn(r._container)},_bringToBack:function(r){Kn(r._container)}},go=S.vml?tr:sd,nr=qt.extend({_initContainer:function(){this._container=go("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=go("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){he(this._container),le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qt.prototype._update.call(this);var r=this._bounds,a=r.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,l.setAttribute("width",a.x),l.setAttribute("height",a.y)),_e(l,r.min),l.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=go("path");r.options.className&&G(a,r.options.className),r.options.interactive&&G(a,"leaflet-interactive"),this._updateStyle(r),this._layers[u(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){he(r._path),r.removeInteractiveTarget(r._path),delete this._layers[u(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,l=r.options;a&&(l.stroke?(a.setAttribute("stroke",l.color),a.setAttribute("stroke-opacity",l.opacity),a.setAttribute("stroke-width",l.weight),a.setAttribute("stroke-linecap",l.lineCap),a.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?a.setAttribute("stroke-dasharray",l.dashArray):a.removeAttribute("stroke-dasharray"),l.dashOffset?a.setAttribute("stroke-dashoffset",l.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),l.fill?(a.setAttribute("fill",l.fillColor||l.color),a.setAttribute("fill-opacity",l.fillOpacity),a.setAttribute("fill-rule",l.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,ad(r._parts,a))},_updateCircle:function(r){var a=r._point,l=Math.max(Math.round(r._radius),1),d=Math.max(Math.round(r._radiusY),1)||l,p="a"+l+","+d+" 0 1,0 ",g=r._empty()?"M0 0":"M"+(a.x-l)+","+a.y+p+l*2+",0 "+p+-l*2+",0 ";this._setPath(r,g)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){Qn(r._path)},_bringToBack:function(r){Kn(r._path)}});S.vml&&nr.include(xv);function ih(r){return S.svg||S.vml?new nr(r):null}Q.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&nh(r)||ih(r)}});var rh=ei.extend({initialize:function(r,a){ei.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ge(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Tv(r,a){return new rh(r,a)}nr.create=go,nr.pointsToPath=ad,Wt.geometryToLayer=uo,Wt.coordsToLatLng=Ga,Wt.coordsToLatLngs=lo,Wt.latLngToCoords=Za,Wt.latLngsToCoords=co,Wt.getFeature=ti,Wt.asFeature=ho,Q.mergeOptions({boxZoom:!0});var oh=xt.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){H(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){he(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Wi(),xa(),this._startPoint=this._map.mouseEventToContainerPoint(r),H(document,{contextmenu:Sn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=te("div","leaflet-zoom-box",this._container),G(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new de(this._point,this._startPoint),l=a.getSize();_e(this._box,a.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(he(this._box),fe(this._container,"leaflet-crosshair")),qi(),Ta(),le(document,{contextmenu:Sn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var a=new ze(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Q.addInitHook("addHandler","boxZoom",oh),Q.mergeOptions({doubleClickZoom:!0});var sh=xt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,l=a.getZoom(),d=a.options.zoomDelta,p=r.originalEvent.shiftKey?l-d:l+d;a.options.doubleClickZoom==="center"?a.setZoom(p):a.setZoomAround(r.containerPoint,p)}});Q.addInitHook("addHandler","doubleClickZoom",sh),Q.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ah=xt.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new cn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}G(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ge(this._map.options.maxBounds);this._offsetLimit=He(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),l=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-a+l)%r+a-l,g=(d+a+l)%r-a-l,v=Math.abs(p+l)<Math.abs(g+l)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(r){var a=this._map,l=a.options,d=!l.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),d)a.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,v=l.easeLinearity,w=p.multiplyBy(v/g),C=w.distanceTo([0,0]),b=Math.min(l.inertiaMaxSpeed,C),I=w.multiplyBy(b/C),k=b/(l.inertiaDeceleration*v),Z=I.multiplyBy(-k/2).round();!Z.x&&!Z.y?a.fire("moveend"):(Z=a._limitOffset(Z,a.options.maxBounds),Se(function(){a.panBy(Z,{duration:k,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});Q.addInitHook("addHandler","dragging",ah),Q.mergeOptions({keyboard:!0,keyboardPanDelta:80});var uh=xt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),H(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,l=r.scrollTop||a.scrollTop,d=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},l=this.keyCodes,d,p;for(d=0,p=l.left.length;d<p;d++)a[l.left[d]]=[-1*r,0];for(d=0,p=l.right.length;d<p;d++)a[l.right[d]]=[r,0];for(d=0,p=l.down.length;d<p;d++)a[l.down[d]]=[0,r];for(d=0,p=l.up.length;d<p;d++)a[l.up[d]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},l=this.keyCodes,d,p;for(d=0,p=l.zoomIn.length;d<p;d++)a[l.zoomIn[d]]=r;for(d=0,p=l.zoomOut.length;d<p;d++)a[l.zoomOut[d]]=-r},_addHooks:function(){H(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,l=this._map,d;if(a in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(d=this._panKeys[a],r.shiftKey&&(d=j(d).multiplyBy(3)),l.options.maxBounds&&(d=l._limitOffset(j(d),l.options.maxBounds)),l.options.worldCopyJump){var p=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(d)));l.panTo(p)}else l.panBy(d)}else if(a in this._zoomKeys)l.setZoom(l.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Sn(r)}}});Q.addInitHook("addHandler","keyboard",uh),Q.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var lh=xt.extend({addHooks:function(){H(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){le(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=kd(r),l=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var d=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),d),Sn(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),l=this._map.options.zoomSnap||0;r._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,g=l?Math.ceil(p/l)*l:p,v=r._limitZoom(a+(this._delta>0?g:-g))-a;this._delta=0,this._startTime=null,v&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+v):r.setZoomAround(this._lastMousePos,a+v))}});Q.addInitHook("addHandler","scrollWheelZoom",lh);var Sv=600;Q.mergeOptions({tapHold:S.touchNative&&S.safari&&S.mobile,tapTolerance:15});var ch=xt.extend({addHooks:function(){H(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new U(a.clientX,a.clientY),this._holdTimeout=setTimeout(n(function(){this._cancel(),this._isTapValid()&&(H(document,"touchend",Le),H(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Sv),H(document,"touchend touchcancel contextmenu",this._cancel,this),H(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){le(document,"touchend",Le),le(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),le(document,"touchend touchcancel contextmenu",this._cancel,this),le(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new U(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var l=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});l._simulated=!0,a.target.dispatchEvent(l)}});Q.addInitHook("addHandler","tapHold",ch),Q.mergeOptions({touchZoom:S.touch,bounceAtZoomLimits:!0});var dh=xt.extend({addHooks:function(){G(this._map._container,"leaflet-touch-zoom"),H(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var l=a.mouseEventToContainerPoint(r.touches[0]),d=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(l.add(d)._divideBy(2))),this._startDist=l.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),H(document,"touchmove",this._onTouchMove,this),H(document,"touchend touchcancel",this._onTouchEnd,this),Le(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,l=a.mouseEventToContainerPoint(r.touches[0]),d=a.mouseEventToContainerPoint(r.touches[1]),p=l.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(p,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&p<1||this._zoom>a.getMaxZoom()&&p>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=l._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Ue(this._animRequest);var v=n(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Se(v,this,!0),Le(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ue(this._animRequest),le(document,"touchmove",this._onTouchMove,this),le(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Q.addInitHook("addHandler","touchZoom",dh),Q.BoxZoom=oh,Q.DoubleClickZoom=sh,Q.Drag=ah,Q.Keyboard=uh,Q.ScrollWheelZoom=lh,Q.TapHold=ch,Q.TouchZoom=dh,t.Bounds=de,t.Browser=S,t.CRS=$t,t.Canvas=th,t.Circle=$a,t.CircleMarker=ao,t.Class=zt,t.Control=_t,t.DivIcon=Xd,t.DivOverlay=Tt,t.DomEvent=q_,t.DomUtil=Z_,t.Draggable=cn,t.Evented=Hi,t.FeatureGroup=Gt,t.GeoJSON=Wt,t.GridLayer=er,t.Handler=xt,t.Icon=Jn,t.ImageOverlay=fo,t.LatLng=se,t.LatLngBounds=ze,t.Layer=vt,t.LayerGroup=Xn,t.LineUtil=av,t.Map=Q,t.Marker=so,t.Mixin=tv,t.Path=dn,t.Point=U,t.PolyUtil=nv,t.Polygon=ei,t.Polyline=Zt,t.Popup=po,t.PosAnimation=Od,t.Projection=uv,t.Rectangle=rh,t.Renderer=qt,t.SVG=nr,t.SVGOverlay=Kd,t.TileLayer=ni,t.Tooltip=mo,t.Transformation=ga,t.Util=p_,t.VideoOverlay=Qd,t.bind=n,t.bounds=He,t.canvas=nh,t.circle=gv,t.circleMarker=mv,t.control=Ki,t.divIcon=Mv,t.extend=o,t.featureGroup=hv,t.geoJSON=Yd,t.geoJson=yv,t.gridLayer=Iv,t.icon=fv,t.imageOverlay=wv,t.latLng=Y,t.latLngBounds=ge,t.layerGroup=dv,t.map=Y_,t.marker=pv,t.point=j,t.polygon=vv,t.polyline=_v,t.popup=bv,t.rectangle=Tv,t.setOptions=D,t.stamp=u,t.svg=ih,t.svgOverlay=Cv,t.tileLayer=Jd,t.tooltip=Ev,t.transformation=zi,t.version=e,t.videoOverlay=Dv;var Pv=window.L;t.noConflict=function(){return window.L=Pv,this},window.L=t})});var o_=vh((fa,r_)=>{"use strict";(function(t,e){typeof fa=="object"&&typeof r_<"u"?e(fa):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e((t.Leaflet=t.Leaflet||{},t.Leaflet.markercluster={})))})(fa,function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var n=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,n?this._withAnimation:this._noAnimation),this._markerCluster=n?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var n=i,s=this._zoom;if(i.__parent)for(;n.__parent._zoom>=s;)n=n.__parent;return this._currentShownBounds.contains(n.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,n):this._animationAddLayerNonAnimated(i,n)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):i.getLatLng?this._map?i.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}),this):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i}),this)},addLayers:function(i,n){if(!L.Util.isArray(i))return this.addLayer(i);var s=this._featureGroup,u=this._nonPointGroup,c=this.options.chunkedLoading,h=this.options.chunkInterval,f=this.options.chunkProgress,m=i.length,_=0,y=!0,D;if(this._map){var x=new Date().getTime(),E=L.bind(function(){var O=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();_<m;_++){if(c&&_%200===0){var Ce=new Date().getTime()-O;if(Ce>h)break}if(D=i[_],D instanceof L.LayerGroup){y&&(i=i.slice(),y=!1),this._extractNonGroupLayers(D,i),m=i.length;continue}if(!D.getLatLng){u.addLayer(D),n||this.fire("layeradd",{layer:D});continue}if(!this.hasLayer(D)&&(this._addLayer(D,this._maxZoom),n||this.fire("layeradd",{layer:D}),D.__parent&&D.__parent.getChildCount()===2)){var oe=D.__parent.getAllChildMarkers(),Oe=oe[0]===D?oe[1]:oe[0];s.removeLayer(Oe)}}f&&f(_,m,new Date().getTime()-x),_===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(E,this.options.chunkDelay)},this);E()}else for(var z=this._needsClustering;_<m;_++){if(D=i[_],D instanceof L.LayerGroup){y&&(i=i.slice(),y=!1),this._extractNonGroupLayers(D,i),m=i.length;continue}if(!D.getLatLng){u.addLayer(D);continue}this.hasLayer(D)||z.push(D)}return this},removeLayers:function(i){var n,s,u=i.length,c=this._featureGroup,h=this._nonPointGroup,f=!0;if(!this._map){for(n=0;n<u;n++){if(s=i[n],s instanceof L.LayerGroup){f&&(i=i.slice(),f=!1),this._extractNonGroupLayers(s,i),u=i.length;continue}this._arraySplice(this._needsClustering,s),h.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var m=i.slice(),_=u;for(n=0;n<_;n++){if(s=m[n],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,m),_=m.length;continue}this._unspiderfyLayer(s)}}for(n=0;n<u;n++){if(s=i[n],s instanceof L.LayerGroup){f&&(i=i.slice(),f=!1),this._extractNonGroupLayers(s,i),u=i.length;continue}if(!s.__parent){h.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),c.hasLayer(s)&&(c.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var n=this._needsClustering.length-1;n>=0;n--)i.extend(this._needsClustering[n].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,n){var s=this._needsClustering.slice(),u=this._needsRemoving,c,h,f;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),h=s.length-1;h>=0;h--){for(c=!0,f=u.length-1;f>=0;f--)if(u[f].layer===s[h]){c=!1;break}c&&i.call(n,s[h])}this._nonPointGroup.eachLayer(i,n)},getLayers:function(){var i=[];return this.eachLayer(function(n){i.push(n)}),i},getLayer:function(i){var n=null;return i=parseInt(i,10),this.eachLayer(function(s){L.stamp(s)===i&&(n=s)}),n},hasLayer:function(i){if(!i)return!1;var n,s=this._needsClustering;for(n=s.length-1;n>=0;n--)if(s[n]===i)return!0;for(s=this._needsRemoving,n=s.length-1;n>=0;n--)if(s[n].layer===i)return!1;return!!(i.__parent&&i.__parent._group===this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,n){var s=this._map;typeof n!="function"&&(n=function(){});var u=function(){(s.hasLayer(i)||s.hasLayer(i.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",u,this),this.off("animationend",u,this),s.hasLayer(i)?n():i.__parent._icon&&(this.once("spiderfied",n,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?n():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",u,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",u,this),this.on("animationend",u,this),i.__parent.zoomToBounds())},onAdd:function(i){this._map=i;var n,s,u;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,n=0,s=this._needsRemoving.length;n<s;n++)u=this._needsRemoving[n],u.newlatlng=u.layer._latlng,u.layer._latlng=u.latlng;for(n=0,s=this._needsRemoving.length;n<s;n++)u=this._needsRemoving[n],this._removeLayer(u.layer,!0),u.layer._latlng=u.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var n=i;n&&!n._icon;)n=n.__parent;return n||null},_arraySplice:function(i,n){for(var s=i.length-1;s>=0;s--)if(i[s]===n)return i.splice(s,1),!0},_removeFromGridUnclustered:function(i,n){for(var s=this._map,u=this._gridUnclustered,c=Math.floor(this._map.getMinZoom());n>=c&&u[n].removeObject(i,s.project(i.getLatLng(),n));n--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var n=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),n&&i.target.openPopup()}},_moveChild:function(i,n,s){i._latlng=n,this.removeLayer(i),i._latlng=s,this.addLayer(i)},_childMarkerDragEnd:function(i){var n=i.target.__dragStart;delete i.target.__dragStart,n&&this._moveChild(i.target,n,i.target._latlng)},_removeLayer:function(i,n,s){var u=this._gridClusters,c=this._gridUnclustered,h=this._featureGroup,f=this._map,m=Math.floor(this._map.getMinZoom());n&&this._removeFromGridUnclustered(i,this._maxZoom);var _=i.__parent,y=_._markers,D;for(this._arraySplice(y,i);_&&(_._childCount--,_._boundsNeedUpdate=!0,!(_._zoom<m));)n&&_._childCount<=1?(D=_._markers[0]===i?_._markers[1]:_._markers[0],u[_._zoom].removeObject(_,f.project(_._cLatLng,_._zoom)),c[_._zoom].addObject(D,f.project(D.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(D),D.__parent=_.__parent,_._icon&&(h.removeLayer(_),s||h.addLayer(D))):_._iconNeedsUpdate=!0,_=_.__parent;delete i.__parent},_isOrIsParent:function(i,n){for(;n;){if(i===n)return!0;n=n.parentNode}return!1},fire:function(i,n,s){if(n&&n.layer instanceof L.MarkerCluster){if(n.originalEvent&&this._isOrIsParent(n.layer._icon,n.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,n,s)},listens:function(i,n){return L.FeatureGroup.prototype.listens.call(this,i,n)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,n)},_defaultIconCreateFunction:function(i){var n=i.getChildCount(),s=" marker-cluster-";return n<10?s+="small":n<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+n+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,n=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom;(n||u||c)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var n=i.layer,s=n;if(!(i.type==="clusterkeypress"&&i.originalEvent&&i.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===n._childCount&&this.options.spiderfyOnMaxZoom?n.spiderfy():this.options.zoomToBoundsOnClick&&n.zoomToBounds(),this.options.spiderfyOnEveryZoom&&n.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var n=this._map;this._inZoomAnimation||(this._shownPolygon&&n.removeLayer(this._shownPolygon),i.layer.getChildCount()>2&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),n.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,u=this.options.spiderfyOnEveryZoom,c=this._map;(i||s||u)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),n&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),c.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),n=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,u=s;typeof s!="function"&&(u=function(){return s}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var c=i;c>=n;c--)this._gridClusters[c]=new L.DistanceGrid(u(c)),this._gridUnclustered[c]=new L.DistanceGrid(u(c));this._topClusterLevel=new this._markerCluster(this,n-1)},_addLayer:function(i,n){var s=this._gridClusters,u=this._gridUnclustered,c=Math.floor(this._map.getMinZoom()),h,f;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);n>=c;n--){h=this._map.project(i.getLatLng(),n);var m=s[n].getNearObject(h);if(m){m._addChild(i),i.__parent=m;return}if(m=u[n].getNearObject(h),m){var _=m.__parent;_&&this._removeLayer(m,!1);var y=new this._markerCluster(this,n,m,i);s[n].addObject(y,this._map.project(y._cLatLng,n)),m.__parent=y,i.__parent=y;var D=y;for(f=n-1;f>_._zoom;f--)D=new this._markerCluster(this,f,D),s[f].addObject(D,this._map.project(m.getLatLng(),f));_._addChild(D),this._removeFromGridUnclustered(m,n);return}u[n].addObject(i,h)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(i){var n=this._maxLat;return n!==void 0&&(i.getNorth()>=n&&(i._northEast.lat=1/0),i.getSouth()<=-n&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,n){if(n===i)this._featureGroup.addLayer(i);else if(n._childCount===2){n._addToMap();var s=n.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else n._updateIcon()},_extractNonGroupLayers:function(i,n){var s=i.getLayers(),u=0,c;for(n=n||[];u<s.length;u++){if(c=s[u],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,n);continue}n.push(c)}return n},_overrideMarkerIcon:function(i){var n=i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}});return n}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,n){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,n,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,n){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,n,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,n){this._animationAddLayerNonAnimated(i,n)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,n){var s=this._getExpandedVisibleBounds(),u=this._featureGroup,c=Math.floor(this._map.getMinZoom()),h;this._ignoreMove=!0,this._topClusterLevel._recursively(s,i,c,function(f){var m=f._latlng,_=f._markers,y;for(s.contains(m)||(m=null),f._isSingleParent()&&i+1===n?(u.removeLayer(f),f._recursivelyAddChildrenToMap(null,n,s)):(f.clusterHide(),f._recursivelyAddChildrenToMap(m,n,s)),h=_.length-1;h>=0;h--)y=_[h],s.contains(y._latlng)||u.removeLayer(y)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,n),u.eachLayer(function(f){!(f instanceof L.MarkerCluster)&&f._icon&&f.clusterShow()}),this._topClusterLevel._recursively(s,i,n,function(f){f._recursivelyRestoreChildPositions(n)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,i,c,function(f){u.removeLayer(f),f.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,n){this._animationZoomOutSingle(this._topClusterLevel,i-1,n),this._topClusterLevel._recursivelyAddChildrenToMap(null,n,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,n){var s=this,u=this._featureGroup;u.addLayer(i),n!==i&&(n._childCount>2?(n._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(n.getLatLng())),i.clusterHide(),this._enqueue(function(){u.removeLayer(i),i.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(n,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,n,s){var u=this._getExpandedVisibleBounds(),c=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(u,c,n+1,s);var h=this;this._forceLayout(),i._recursivelyBecomeVisible(u,s),this._enqueue(function(){if(i._childCount===1){var f=i._markers[0];this._ignoreMove=!0,f.setLatLng(f.getLatLng()),this._ignoreMove=!1,f.clusterShow&&f.clusterShow()}else i._recursively(u,s,c,function(m){m._recursivelyRemoveChildrenFromMap(u,c,n+1)});h._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,n,s,u){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=n,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),u&&this._addChild(u)},getAllChildMarkers:function(i,n){i=i||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(i,n);for(var u=this._markers.length-1;u>=0;u--)n&&this._markers[u].__dragStart||i.push(this._markers[u]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var n=this._childClusters.slice(),s=this._group._map,u=s.getBoundsZoom(this._bounds),c=this._zoom+1,h=s.getZoom(),f;n.length>0&&u>c;){c++;var m=[];for(f=0;f<n.length;f++)m=m.concat(n[f]._childClusters);n=m}u>c?this._group._map.setView(this._latlng,c):u<=h?this._group._map.setView(this._latlng,h+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,n){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(n||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(n||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i=this._markers,n=this._childClusters,s=0,u=0,c=this._childCount,h,f,m,_;if(c!==0){for(this._resetBounds(),h=0;h<i.length;h++)m=i[h]._latlng,this._bounds.extend(m),s+=m.lat,u+=m.lng;for(h=0;h<n.length;h++)f=n[h],f._boundsNeedUpdate&&f._recalculateBounds(),this._bounds.extend(f._bounds),m=f._wLatLng,_=f._childCount,s+=m.lat*_,u+=m.lng*_;this._latlng=this._wLatLng=new L.LatLng(s/c,u/c),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,n,s){this._recursively(i,this._group._map.getMinZoom(),s-1,function(u){var c=u._markers,h,f;for(h=c.length-1;h>=0;h--)f=c[h],f._icon&&(f._setPos(n),f.clusterHide())},function(u){var c=u._childClusters,h,f;for(h=c.length-1;h>=0;h--)f=c[h],f._icon&&(f._setPos(n),f.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,n,s,u){this._recursively(i,u,n,function(c){c._recursivelyAnimateChildrenIn(i,c._group._map.latLngToLayerPoint(c.getLatLng()).round(),s),c._isSingleParent()&&s-1===u?(c.clusterShow(),c._recursivelyRemoveChildrenFromMap(i,n,s)):c.clusterHide(),c._addToMap()})},_recursivelyBecomeVisible:function(i,n){this._recursively(i,this._group._map.getMinZoom(),n,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(i,n,s){this._recursively(s,this._group._map.getMinZoom()-1,n,function(u){if(n!==u._zoom)for(var c=u._markers.length-1;c>=0;c--){var h=u._markers[c];s.contains(h._latlng)&&(i&&(h._backupLatlng=h.getLatLng(),h.setLatLng(i),h.clusterHide&&h.clusterHide()),u._group._featureGroup.addLayer(h))}},function(u){u._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var n=this._markers.length-1;n>=0;n--){var s=this._markers[n];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(i-1===this._zoom)for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u]._restorePosition();else for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,n,s,u){var c,h;this._recursively(i,n-1,s-1,function(f){for(h=f._markers.length-1;h>=0;h--)c=f._markers[h],(!u||!u.contains(c._latlng))&&(f._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())},function(f){for(h=f._childClusters.length-1;h>=0;h--)c=f._childClusters[h],(!u||!u.contains(c._latlng))&&(f._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())})},_recursively:function(i,n,s,u,c){var h=this._childClusters,f=this._zoom,m,_;if(n<=f&&(u&&u(this),c&&f===s&&c(this)),f<n||f<s)for(m=h.length-1;m>=0;m--)_=h[m],_._boundsNeedUpdate&&_._recalculateBounds(),i.intersects(_._bounds)&&_._recursively(i,n,s,u,c)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,n){var s=this._getCoord(n.x),u=this._getCoord(n.y),c=this._grid,h=c[u]=c[u]||{},f=h[s]=h[s]||[],m=L.Util.stamp(i);this._objectPoint[m]=n,f.push(i)},updateObject:function(i,n){this.removeObject(i),this.addObject(i,n)},removeObject:function(i,n){var s=this._getCoord(n.x),u=this._getCoord(n.y),c=this._grid,h=c[u]=c[u]||{},f=h[s]=h[s]||[],m,_;for(delete this._objectPoint[L.Util.stamp(i)],m=0,_=f.length;m<_;m++)if(f[m]===i)return f.splice(m,1),_===1&&delete h[s],!0},eachObject:function(i,n){var s,u,c,h,f,m,_,y=this._grid;for(s in y){f=y[s];for(u in f)for(m=f[u],c=0,h=m.length;c<h;c++)_=i.call(n,m[c]),_&&(c--,h--)}},getNearObject:function(i){var n=this._getCoord(i.x),s=this._getCoord(i.y),u,c,h,f,m,_,y,D,x=this._objectPoint,E=this._sqCellSize,z=null;for(u=s-1;u<=s+1;u++)if(f=this._grid[u],f){for(c=n-1;c<=n+1;c++)if(m=f[c],m)for(h=0,_=m.length;h<_;h++)y=m[h],D=this._sqDist(x[L.Util.stamp(y)],i),(D<E||D<=E&&z===null)&&(E=D,z=y)}return z},_getCoord:function(i){var n=Math.floor(i/this._cellSize);return isFinite(n)?n:i},_sqDist:function(i,n){var s=n.x-i.x,u=n.y-i.y;return s*s+u*u}},function(){L.QuickHull={getDistant:function(i,n){var s=n[1].lat-n[0].lat,u=n[0].lng-n[1].lng;return u*(i.lat-n[0].lat)+s*(i.lng-n[0].lng)},findMostDistantPointFromBaseLine:function(i,n){var s=0,u=null,c=[],h,f,m;for(h=n.length-1;h>=0;h--){if(f=n[h],m=this.getDistant(f,i),m>0)c.push(f);else continue;m>s&&(s=m,u=f)}return{maxPoint:u,newPoints:c}},buildConvexHull:function(i,n){var s=[],u=this.findMostDistantPointFromBaseLine(i,n);return u.maxPoint?(s=s.concat(this.buildConvexHull([i[0],u.maxPoint],u.newPoints)),s=s.concat(this.buildConvexHull([u.maxPoint,i[1]],u.newPoints)),s):[i[0]]},getConvexHull:function(i){var n=!1,s=!1,u=!1,c=!1,h=null,f=null,m=null,_=null,y=null,D=null,x;for(x=i.length-1;x>=0;x--){var E=i[x];(n===!1||E.lat>n)&&(h=E,n=E.lat),(s===!1||E.lat<s)&&(f=E,s=E.lat),(u===!1||E.lng>u)&&(m=E,u=E.lng),(c===!1||E.lng<c)&&(_=E,c=E.lng)}s!==n?(D=f,y=h):(D=_,y=m);var z=[].concat(this.buildConvexHull([D,y],i),this.buildConvexHull([y,D],i));return z}}}(),L.MarkerCluster.include({getConvexHull:function(){var i=this.getAllChildMarkers(),n=[],s,u;for(u=i.length-1;u>=0;u--)s=i[u].getLatLng(),n.push(s);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var i=this.getAllChildMarkers(null,!0),n=this._group,s=n._map,u=s.latLngToLayerPoint(this._latlng),c;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?c=this._group.options.spiderfyShapePositions(i.length,u):i.length>=this._circleSpiralSwitchover?c=this._generatePointsSpiral(i.length,u):(u.y+=10,c=this._generatePointsCircle(i.length,u)),this._animationSpiderfy(i,c)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,n){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i),u=s/this._2PI,c=this._2PI/i,h=[],f,m;for(u=Math.max(u,35),h.length=i,f=0;f<i;f++)m=this._circleStartAngle+f*c,h[f]=new L.Point(n.x+u*Math.cos(m),n.y+u*Math.sin(m))._round();return h},_generatePointsSpiral:function(i,n){var s=this._group.options.spiderfyDistanceMultiplier,u=s*this._spiralLengthStart,c=s*this._spiralFootSeparation,h=s*this._spiralLengthFactor*this._2PI,f=0,m=[],_;for(m.length=i,_=i;_>=0;_--)_<i&&(m[_]=new L.Point(n.x+u*Math.cos(f),n.y+u*Math.sin(f))._round()),f+=c/u+_*5e-4,u+=h/f;return m},_noanimationUnspiderfy:function(){var i=this._group,n=i._map,s=i._featureGroup,u=this.getAllChildMarkers(null,!0),c,h;for(i._ignoreMove=!0,this.setOpacity(1),h=u.length-1;h>=0;h--)c=u[h],s.removeLayer(c),c._preSpiderfyLatlng&&(c.setLatLng(c._preSpiderfyLatlng),delete c._preSpiderfyLatlng),c.setZIndexOffset&&c.setZIndexOffset(0),c._spiderLeg&&(n.removeLayer(c._spiderLeg),delete c._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:u}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,n){var s=this._group,u=s._map,c=s._featureGroup,h=this._group.options.spiderLegPolylineOptions,f,m,_,y;for(s._ignoreMove=!0,f=0;f<i.length;f++)y=u.layerPointToLatLng(n[f]),m=i[f],_=new L.Polyline([this._latlng,y],h),u.addLayer(_),m._spiderLeg=_,m._preSpiderfyLatlng=m._latlng,m.setLatLng(y),m.setZIndexOffset&&m.setZIndexOffset(1e6),c.addLayer(m);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,n){var s=this,u=this._group,c=u._map,h=u._featureGroup,f=this._latlng,m=c.latLngToLayerPoint(f),_=L.Path.SVG,y=L.extend({},this._group.options.spiderLegPolylineOptions),D=y.opacity,x,E,z,O,Ce,oe;for(D===void 0&&(D=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),_?(y.opacity=0,y.className=(y.className||"")+" leaflet-cluster-spider-leg"):y.opacity=D,u._ignoreMove=!0,x=0;x<i.length;x++)E=i[x],oe=c.layerPointToLatLng(n[x]),z=new L.Polyline([f,oe],y),c.addLayer(z),E._spiderLeg=z,_&&(O=z._path,Ce=O.getTotalLength()+.1,O.style.strokeDasharray=Ce,O.style.strokeDashoffset=Ce),E.setZIndexOffset&&E.setZIndexOffset(1e6),E.clusterHide&&E.clusterHide(),h.addLayer(E),E._setPos&&E._setPos(m);for(u._forceLayout(),u._animationStart(),x=i.length-1;x>=0;x--)oe=c.layerPointToLatLng(n[x]),E=i[x],E._preSpiderfyLatlng=E._latlng,E.setLatLng(oe),E.clusterShow&&E.clusterShow(),_&&(z=E._spiderLeg,O=z._path,O.style.strokeDashoffset=0,z.setStyle({opacity:D}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout(function(){u._animationEnd(),u.fire("spiderfied",{cluster:s,markers:i})},200)},_animationUnspiderfy:function(i){var n=this,s=this._group,u=s._map,c=s._featureGroup,h=i?u._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):u.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(null,!0),m=L.Path.SVG,_,y,D,x,E,z;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),y=f.length-1;y>=0;y--)_=f[y],_._preSpiderfyLatlng&&(_.closePopup(),_.setLatLng(_._preSpiderfyLatlng),delete _._preSpiderfyLatlng,z=!0,_._setPos&&(_._setPos(h),z=!1),_.clusterHide&&(_.clusterHide(),z=!1),z&&c.removeLayer(_),m&&(D=_._spiderLeg,x=D._path,E=x.getTotalLength()+.1,x.style.strokeDashoffset=E,D.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var O=0;for(y=f.length-1;y>=0;y--)_=f[y],_._spiderLeg&&O++;for(y=f.length-1;y>=0;y--)_=f[y],_._spiderLeg&&(_.clusterShow&&_.clusterShow(),_.setZIndexOffset&&_.setZIndexOffset(0),O>1&&c.removeLayer(_),u.removeLayer(_._spiderLeg),delete _._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:n,markers:f})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var n,s;for(n in i)for(s=i[n].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(i){var n,s;for(n in i)s=i[n],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(i,n){var s=this.options.icon;return L.setOptions(s,i),this.setIcon(s),n&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=o,Object.defineProperty(t,"__esModule",{value:!0})})});var wh=null;var Qa=1,Dh=Symbol("SIGNAL");function ne(t){let e=wh;return wh=t,e}var Ch={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qv(t){if(!(Ja(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qa)){if(!t.producerMustRecompute(t)&&!Ka(t)){t.dirty=!1,t.lastCleanEpoch=Qa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Qa}}function bh(t){return t&&(t.nextProducerIndex=0),ne(t)}function Eh(t,e){if(ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ja(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Xa(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ka(t){vo(t);for(let e=0;e<t.producerNode.length;e++){let o=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==o.version||(qv(o),i!==o.version))return!0}return!1}function Mh(t){if(vo(t),Ja(t))for(let e=0;e<t.producerNode.length;e++)Xa(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xa(t,e){if(Yv(t),vo(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Xa(t.producerNode[i],t.producerIndexOfThis[i]);let o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],n=t.liveConsumerNode[e];vo(n),n.producerIndexOfThis[i]=e}}function Ja(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function vo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Yv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Qv(){throw new Error}var Kv=Qv;function Ih(t){Kv=t}function B(t){return typeof t=="function"}function ri(t){let o=t(i=>{Error.call(i),i.stack=new Error().stack});return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}var yo=ri(t=>function(o){t(this),this.message=o?`${o.length} errors occurred during unsubscription:
${o.map((i,n)=>`${n+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=o});function ir(t,e){if(t){let o=t.indexOf(e);0<=o&&t.splice(o,1)}}var be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:o}=this;if(o)if(this._parentage=null,Array.isArray(o))for(let s of o)s.remove(this);else o.remove(this);let{initialTeardown:i}=this;if(B(i))try{i()}catch(s){e=s instanceof yo?s.errors:[s]}let{_finalizers:n}=this;if(n){this._finalizers=null;for(let s of n)try{Lh(s)}catch(u){e=e??[],u instanceof yo?e=[...e,...u.errors]:e.push(u)}}if(e)throw new yo(e)}}add(e){var o;if(e&&e!==this)if(this.closed)Lh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(o=this._finalizers)!==null&&o!==void 0?o:[]).push(e)}}_hasParent(e){let{_parentage:o}=this;return o===e||Array.isArray(o)&&o.includes(e)}_addParent(e){let{_parentage:o}=this;this._parentage=Array.isArray(o)?(o.push(e),o):o?[o,e]:e}_removeParent(e){let{_parentage:o}=this;o===e?this._parentage=null:Array.isArray(o)&&ir(o,e)}remove(e){let{_finalizers:o}=this;o&&ir(o,e),e instanceof t&&e._removeParent(this)}};be.EMPTY=(()=>{let t=new be;return t.closed=!0,t})();var eu=be.EMPTY;function wo(t){return t instanceof be||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function Lh(t){B(t)?t():t.unsubscribe()}var yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var oi={setTimeout(t,e,...o){let{delegate:i}=oi;return i?.setTimeout?i.setTimeout(t,e,...o):setTimeout(t,e,...o)},clearTimeout(t){let{delegate:e}=oi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Do(t){oi.setTimeout(()=>{let{onUnhandledError:e}=yt;if(e)e(t);else throw t})}function rr(){}var xh=tu("C",void 0,void 0);function Th(t){return tu("E",void 0,t)}function Sh(t){return tu("N",t,void 0)}function tu(t,e,o){return{kind:t,value:e,error:o}}var An=null;function si(t){if(yt.useDeprecatedSynchronousErrorHandling){let e=!An;if(e&&(An={errorThrown:!1,error:null}),t(),e){let{errorThrown:o,error:i}=An;if(An=null,o)throw i}}else t()}function Ph(t){yt.useDeprecatedSynchronousErrorHandling&&An&&(An.errorThrown=!0,An.error=t)}var kn=class extends be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wo(e)&&e.add(this)):this.destination=ey}static create(e,o,i){return new ai(e,o,i)}next(e){this.isStopped?iu(Sh(e),this):this._next(e)}error(e){this.isStopped?iu(Th(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?iu(xh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Xv=Function.prototype.bind;function nu(t,e){return Xv.call(t,e)}var ru=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:o}=this;if(o.next)try{o.next(e)}catch(i){Co(i)}}error(e){let{partialObserver:o}=this;if(o.error)try{o.error(e)}catch(i){Co(i)}else Co(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(o){Co(o)}}},ai=class extends kn{constructor(e,o,i){super();let n;if(B(e)||!e)n={next:e??void 0,error:o??void 0,complete:i??void 0};else{let s;this&&yt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),n={next:e.next&&nu(e.next,s),error:e.error&&nu(e.error,s),complete:e.complete&&nu(e.complete,s)}):n=e}this.destination=new ru(n)}};function Co(t){yt.useDeprecatedSynchronousErrorHandling?Ph(t):Do(t)}function Jv(t){throw t}function iu(t,e){let{onStoppedNotification:o}=yt;o&&oi.setTimeout(()=>o(t,e))}var ey={closed:!0,next:rr,error:Jv,complete:rr};var ui=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qe(t){return t}function ou(...t){return su(t)}function su(t){return t.length===0?Qe:t.length===1?t[0]:function(o){return t.reduce((i,n)=>n(i),o)}}var ae=(()=>{class t{constructor(o){o&&(this._subscribe=o)}lift(o){let i=new t;return i.source=this,i.operator=o,i}subscribe(o,i,n){let s=ny(o)?o:new ai(o,i,n);return si(()=>{let{operator:u,source:c}=this;s.add(u?u.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(o){try{return this._subscribe(o)}catch(i){o.error(i)}}forEach(o,i){return i=Ah(i),new i((n,s)=>{let u=new ai({next:c=>{try{o(c)}catch(h){s(h),u.unsubscribe()}},error:s,complete:n});this.subscribe(u)})}_subscribe(o){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(o)}[ui](){return this}pipe(...o){return su(o)(this)}toPromise(o){return o=Ah(o),new o((i,n)=>{let s;this.subscribe(u=>s=u,u=>n(u),()=>i(s))})}}return t.create=e=>new t(e),t})();function Ah(t){var e;return(e=t??yt.Promise)!==null&&e!==void 0?e:Promise}function ty(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function ny(t){return t&&t instanceof kn||ty(t)&&wo(t)}function au(t){return B(t?.lift)}function K(t){return e=>{if(au(e))return e.lift(function(o){try{return t(o,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e,o,i,n){return new uu(t,e,o,i,n)}var uu=class extends kn{constructor(e,o,i,n,s,u){super(e),this.onFinalize=s,this.shouldUnsubscribe=u,this._next=o?function(c){try{o(c)}catch(h){e.error(h)}}:super._next,this._error=n?function(c){try{n(c)}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:o}=this;super.unsubscribe(),!o&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function li(){return K((t,e)=>{let o=null;t._refCount++;let i=X(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){o=null;return}let n=t._connection,s=o;o=null,n&&(!s||n===s)&&n.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(o=t.connect())})}var ci=class extends ae{constructor(e,o){super(),this.source=e,this.subjectFactory=o,this._subject=null,this._refCount=0,this._connection=null,au(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new be;let o=this.getSubject();e.add(this.source.subscribe(X(o,void 0,()=>{this._teardown(),o.complete()},i=>{this._teardown(),o.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=be.EMPTY)}return e}refCount(){return li()(this)}};var kh=ri(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(o){let i=new bo(this,this);return i.operator=o,i}_throwIfClosed(){if(this.closed)throw new kh}next(o){si(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(o)}})}error(o){si(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=o;let{observers:i}=this;for(;i.length;)i.shift().error(o)}})}complete(){si(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:o}=this;for(;o.length;)o.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var o;return((o=this.observers)===null||o===void 0?void 0:o.length)>0}_trySubscribe(o){return this._throwIfClosed(),super._trySubscribe(o)}_subscribe(o){return this._throwIfClosed(),this._checkFinalizedStatuses(o),this._innerSubscribe(o)}_innerSubscribe(o){let{hasError:i,isStopped:n,observers:s}=this;return i||n?eu:(this.currentObservers=null,s.push(o),new be(()=>{this.currentObservers=null,ir(s,o)}))}_checkFinalizedStatuses(o){let{hasError:i,thrownError:n,isStopped:s}=this;i?o.error(n):s&&o.complete()}asObservable(){let o=new ae;return o.source=this,o}}return t.create=(e,o)=>new bo(e,o),t})(),bo=class extends Re{constructor(e,o){super(),this.destination=e,this.source=o}next(e){var o,i;(i=(o=this.destination)===null||o===void 0?void 0:o.next)===null||i===void 0||i.call(o,e)}error(e){var o,i;(i=(o=this.destination)===null||o===void 0?void 0:o.error)===null||i===void 0||i.call(o,e)}complete(){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||o===void 0||o.call(e)}_subscribe(e){var o,i;return(i=(o=this.source)===null||o===void 0?void 0:o.subscribe(e))!==null&&i!==void 0?i:eu}};var xe=class extends Re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let o=super._subscribe(e);return!o.closed&&e.next(this._value),o}getValue(){let{hasError:e,thrownError:o,_value:i}=this;if(e)throw o;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Ke=new ae(t=>t.complete());function Oh(t){return t&&B(t.schedule)}function Nh(t){return t[t.length-1]}function Rh(t){return B(Nh(t))?t.pop():void 0}function hn(t){return Oh(Nh(t))?t.pop():void 0}function jh(t,e,o,i){function n(s){return s instanceof o?s:new o(function(u){u(s)})}return new(o||(o=Promise))(function(s,u){function c(m){try{f(i.next(m))}catch(_){u(_)}}function h(m){try{f(i.throw(m))}catch(_){u(_)}}function f(m){m.done?s(m.value):n(m.value).then(c,h)}f((i=i.apply(t,e||[])).next())})}function Fh(t){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&t[e],i=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function On(t){return this instanceof On?(this.v=t,this):new On(t)}function Bh(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=o.apply(t,e||[]),n,s=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(y){i[y]&&(n[y]=function(D){return new Promise(function(x,E){s.push([y,D,x,E])>1||c(y,D)})})}function c(y,D){try{h(i[y](D))}catch(x){_(s[0][3],x)}}function h(y){y.value instanceof On?Promise.resolve(y.value.v).then(f,m):_(s[0][2],y)}function f(y){c("next",y)}function m(y){c("throw",y)}function _(y,D){y(D),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Vh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],o;return e?e.call(t):(t=typeof Fh=="function"?Fh(t):t[Symbol.iterator](),o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o);function i(s){o[s]=t[s]&&function(u){return new Promise(function(c,h){u=t[s](u),n(c,h,u.done,u.value)})}}function n(s,u,c,h){Promise.resolve(h).then(function(f){s({value:f,done:c})},u)}}var Eo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Mo(t){return B(t?.then)}function Io(t){return B(t[ui])}function Lo(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function xo(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var To=iy();function So(t){return B(t?.[To])}function Po(t){return Bh(this,arguments,function*(){let o=t.getReader();try{for(;;){let{value:i,done:n}=yield On(o.read());if(n)return yield On(void 0);yield yield On(i)}}finally{o.releaseLock()}})}function Ao(t){return B(t?.getReader)}function Me(t){if(t instanceof ae)return t;if(t!=null){if(Io(t))return ry(t);if(Eo(t))return oy(t);if(Mo(t))return sy(t);if(Lo(t))return Uh(t);if(So(t))return ay(t);if(Ao(t))return uy(t)}throw xo(t)}function ry(t){return new ae(e=>{let o=t[ui]();if(B(o.subscribe))return o.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oy(t){return new ae(e=>{for(let o=0;o<t.length&&!e.closed;o++)e.next(t[o]);e.complete()})}function sy(t){return new ae(e=>{t.then(o=>{e.closed||(e.next(o),e.complete())},o=>e.error(o)).then(null,Do)})}function ay(t){return new ae(e=>{for(let o of t)if(e.next(o),e.closed)return;e.complete()})}function Uh(t){return new ae(e=>{ly(t,e).catch(o=>e.error(o))})}function uy(t){return Uh(Po(t))}function ly(t,e){var o,i,n,s;return jh(this,void 0,void 0,function*(){try{for(o=Vh(t);i=yield o.next(),!i.done;){let u=i.value;if(e.next(u),e.closed)return}}catch(u){n={error:u}}finally{try{i&&!i.done&&(s=o.return)&&(yield s.call(o))}finally{if(n)throw n.error}}e.complete()})}function Ge(t,e,o,i=0,n=!1){let s=e.schedule(function(){o(),n?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!n)return s}function ko(t,e=0){return K((o,i)=>{o.subscribe(X(i,n=>Ge(i,t,()=>i.next(n),e),()=>Ge(i,t,()=>i.complete(),e),n=>Ge(i,t,()=>i.error(n),e)))})}function Oo(t,e=0){return K((o,i)=>{i.add(t.schedule(()=>o.subscribe(i),e))})}function Hh(t,e){return Me(t).pipe(Oo(e),ko(e))}function zh(t,e){return Me(t).pipe(Oo(e),ko(e))}function $h(t,e){return new ae(o=>{let i=0;return e.schedule(function(){i===t.length?o.complete():(o.next(t[i++]),o.closed||this.schedule())})})}function Gh(t,e){return new ae(o=>{let i;return Ge(o,e,()=>{i=t[To](),Ge(o,e,()=>{let n,s;try{({value:n,done:s}=i.next())}catch(u){o.error(u);return}s?o.complete():o.next(n)},0,!0)}),()=>B(i?.return)&&i.return()})}function No(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(o=>{Ge(o,e,()=>{let i=t[Symbol.asyncIterator]();Ge(o,e,()=>{i.next().then(n=>{n.done?o.complete():o.next(n.value)})},0,!0)})})}function Zh(t,e){return No(Po(t),e)}function Wh(t,e){if(t!=null){if(Io(t))return Hh(t,e);if(Eo(t))return $h(t,e);if(Mo(t))return zh(t,e);if(Lo(t))return No(t,e);if(So(t))return Gh(t,e);if(Ao(t))return Zh(t,e)}throw xo(t)}function pe(t,e){return e?Wh(t,e):Me(t)}function R(...t){let e=hn(t);return pe(t,e)}function di(t,e){let o=B(t)?t:()=>t,i=n=>n.error(o());return new ae(e?n=>e.schedule(i,0,n):i)}function lu(t){return!!t&&(t instanceof ae||B(t.lift)&&B(t.subscribe))}var Yt=ri(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return K((o,i)=>{let n=0;o.subscribe(X(i,s=>{i.next(t.call(e,s,n++))}))})}var{isArray:cy}=Array;function dy(t,e){return cy(e)?t(...e):t(e)}function qh(t){return J(e=>dy(t,e))}var{isArray:hy}=Array,{getPrototypeOf:fy,prototype:py,keys:my}=Object;function Yh(t){if(t.length===1){let e=t[0];if(hy(e))return{args:e,keys:null};if(gy(e)){let o=my(e);return{args:o.map(i=>e[i]),keys:o}}}return{args:t,keys:null}}function gy(t){return t&&typeof t=="object"&&fy(t)===py}function Qh(t,e){return t.reduce((o,i,n)=>(o[i]=e[n],o),{})}function or(...t){let e=hn(t),o=Rh(t),{args:i,keys:n}=Yh(t);if(i.length===0)return pe([],e);let s=new ae(_y(i,e,n?u=>Qh(n,u):Qe));return o?s.pipe(qh(o)):s}function _y(t,e,o=Qe){return i=>{Kh(e,()=>{let{length:n}=t,s=new Array(n),u=n,c=n;for(let h=0;h<n;h++)Kh(e,()=>{let f=pe(t[h],e),m=!1;f.subscribe(X(i,_=>{s[h]=_,m||(m=!0,c--),c||i.next(o(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}function Kh(t,e,o){t?Ge(o,t,e):e()}function Xh(t,e,o,i,n,s,u,c){let h=[],f=0,m=0,_=!1,y=()=>{_&&!h.length&&!f&&e.complete()},D=E=>f<i?x(E):h.push(E),x=E=>{s&&e.next(E),f++;let z=!1;Me(o(E,m++)).subscribe(X(e,O=>{n?.(O),s?D(O):e.next(O)},()=>{z=!0},void 0,()=>{if(z)try{for(f--;h.length&&f<i;){let O=h.shift();u?Ge(e,u,()=>x(O)):x(O)}y()}catch(O){e.error(O)}}))};return t.subscribe(X(e,D,()=>{_=!0,y()})),()=>{c?.()}}function we(t,e,o=1/0){return B(e)?we((i,n)=>J((s,u)=>e(i,s,n,u))(Me(t(i,n))),o):(typeof e=="number"&&(o=e),K((i,n)=>Xh(i,n,t,o)))}function hi(t=1/0){return we(Qe,t)}function Jh(){return hi(1)}function fi(...t){return Jh()(pe(t,hn(t)))}function Ro(t){return new ae(e=>{Me(t()).subscribe(e)})}function lt(t,e){return K((o,i)=>{let n=0;o.subscribe(X(i,s=>t.call(e,s,n++)&&i.next(s)))})}function fn(t){return K((e,o)=>{let i=null,n=!1,s;i=e.subscribe(X(o,void 0,void 0,u=>{s=Me(t(u,fn(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(o)):n=!0})),n&&(i.unsubscribe(),i=null,s.subscribe(o))})}function ef(t,e,o,i,n){return(s,u)=>{let c=o,h=e,f=0;s.subscribe(X(u,m=>{let _=f++;h=c?t(h,m,_):(c=!0,m),i&&u.next(h)},n&&(()=>{c&&u.next(h),u.complete()})))}}function Nn(t,e){return B(e)?we(t,e,1):we(t,1)}function pn(t){return K((e,o)=>{let i=!1;e.subscribe(X(o,n=>{i=!0,o.next(n)},()=>{i||o.next(t),o.complete()}))})}function Qt(t){return t<=0?()=>Ke:K((e,o)=>{let i=0;e.subscribe(X(o,n=>{++i<=t&&(o.next(n),t<=i&&o.complete())}))})}function cu(t){return J(()=>t)}function Fo(t=vy){return K((e,o)=>{let i=!1;e.subscribe(X(o,n=>{i=!0,o.next(n)},()=>i?o.complete():o.error(t())))})}function vy(){return new Yt}function sr(t){return K((e,o)=>{try{e.subscribe(o)}finally{o.add(t)}})}function St(t,e){let o=arguments.length>=2;return i=>i.pipe(t?lt((n,s)=>t(n,s,i)):Qe,Qt(1),o?pn(e):Fo(()=>new Yt))}function pi(t){return t<=0?()=>Ke:K((e,o)=>{let i=[];e.subscribe(X(o,n=>{i.push(n),t<i.length&&i.shift()},()=>{for(let n of i)o.next(n);o.complete()},void 0,()=>{i=null}))})}function du(t,e){let o=arguments.length>=2;return i=>i.pipe(t?lt((n,s)=>t(n,s,i)):Qe,pi(1),o?pn(e):Fo(()=>new Yt))}function hu(t,e){return K(ef(t,e,arguments.length>=2,!0))}function fu(...t){let e=hn(t);return K((o,i)=>{(e?fi(t,o,e):fi(t,o)).subscribe(i)})}function ct(t,e){return K((o,i)=>{let n=null,s=0,u=!1,c=()=>u&&!n&&i.complete();o.subscribe(X(i,h=>{n?.unsubscribe();let f=0,m=s++;Me(t(h,m)).subscribe(n=X(i,_=>i.next(e?e(h,_,m,f++):_),()=>{n=null,c()}))},()=>{u=!0,c()}))})}function pu(t){return K((e,o)=>{Me(t).subscribe(X(o,()=>o.complete(),rr)),!o.closed&&e.subscribe(o)})}function Te(t,e,o){let i=B(t)||e||o?{next:t,error:e,complete:o}:t;return i?K((n,s)=>{var u;(u=i.subscribe)===null||u===void 0||u.call(i);let c=!0;n.subscribe(X(s,h=>{var f;(f=i.next)===null||f===void 0||f.call(i,h),s.next(h)},()=>{var h;c=!1,(h=i.complete)===null||h===void 0||h.call(i),s.complete()},h=>{var f;c=!1,(f=i.error)===null||f===void 0||f.call(i,h),s.error(h)},()=>{var h,f;c&&((h=i.unsubscribe)===null||h===void 0||h.call(i)),(f=i.finalize)===null||f===void 0||f.call(i)}))}):Qe}var P=class extends Error{constructor(e,o){super(sl(e,o)),this.code=e}};function sl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function wr(t){return{toString:t}.toString()}var jo="__parameters__";function yy(t){return function(...o){if(t){let i=t(...o);for(let n in i)this[n]=i[n]}}}function jf(t,e,o){return wr(()=>{let i=yy(e);function n(...s){if(this instanceof n)return i.apply(this,s),this;let u=new n(...s);return c.annotation=u,c;function c(h,f,m){let _=h.hasOwnProperty(jo)?h[jo]:Object.defineProperty(h,jo,{value:[]})[jo];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(u),h}}return o&&(n.prototype=Object.create(o.prototype)),n.prototype.ngMetadataName=t,n.annotationCls=n,n})}var Xe=globalThis;function ue(t){for(let e in t)if(t[e]===ue)return e;throw Error("Could not find renamed property on target object.")}function Ze(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ze).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let o=e.indexOf(`
`);return o===-1?e:e.substring(0,o)}function tf(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var wy=ue({__forward_ref__:ue});function Bf(t){return t.__forward_ref__=Bf,t.toString=function(){return Ze(this())},t}function ht(t){return Vf(t)?t():t}function Vf(t){return typeof t=="function"&&t.hasOwnProperty(wy)&&t.__forward_ref__===Bf}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function et(t){return{providers:t.providers||[],imports:t.imports||[]}}function ds(t){return nf(t,Hf)||nf(t,zf)}function Uf(t){return ds(t)!==null}function nf(t,e){return t.hasOwnProperty(e)?t[e]:null}function Dy(t){let e=t&&(t[Hf]||t[zf]);return e||null}function rf(t){return t&&(t.hasOwnProperty(of)||t.hasOwnProperty(Cy))?t[of]:null}var Hf=ue({\u0275prov:ue}),of=ue({\u0275inj:ue}),zf=ue({ngInjectableDef:ue}),Cy=ue({ngInjectorDef:ue}),V=class{constructor(e,o){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof o=="number"?this.__NG_ELEMENT_ID__=o:o!==void 0&&(this.\u0275prov=A({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $f(t){return t&&!!t.\u0275providers}var by=ue({\u0275cmp:ue}),Ey=ue({\u0275dir:ue}),My=ue({\u0275pipe:ue}),Iy=ue({\u0275mod:ue}),Go=ue({\u0275fac:ue}),ar=ue({__NG_ELEMENT_ID__:ue}),sf=ue({__NG_ENV_ID__:ue});function Gf(t){return typeof t=="string"?t:t==null?"":String(t)}function Ly(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gf(t)}function xy(t,e){let o=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,t)}function al(t,e){throw new P(-201,!1)}var W=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(W||{}),Eu;function Zf(){return Eu}function dt(t){let e=Eu;return Eu=t,e}function Wf(t,e,o){let i=ds(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(o&W.Optional)return null;if(e!==void 0)return e;al(t,"Injector")}var Ty={},lr=Ty,Mu="__NG_DI_FLAG__",Zo="ngTempTokenPath",Sy="ngTokenPath",Py=/\n/gm,Ay="\u0275",af="__source",yi;function ky(){return yi}function mn(t){let e=yi;return yi=t,e}function Oy(t,e=W.Default){if(yi===void 0)throw new P(-203,!1);return yi===null?Wf(t,void 0,e):yi.get(t,e&W.Optional?null:void 0,e)}function N(t,e=W.Default){return(Zf()||Oy)(ht(t),e)}function M(t,e=W.Default){return N(t,hs(e))}function hs(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Iu(t){let e=[];for(let o=0;o<t.length;o++){let i=ht(t[o]);if(Array.isArray(i)){if(i.length===0)throw new P(900,!1);let n,s=W.Default;for(let u=0;u<i.length;u++){let c=i[u],h=Ny(c);typeof h=="number"?h===-1?n=c.token:s|=h:n=c}e.push(N(n,s))}else e.push(N(i))}return e}function qf(t,e){return t[Mu]=e,t.prototype[Mu]=e,t}function Ny(t){return t[Mu]}function Ry(t,e,o,i){let n=t[Zo];throw e[af]&&n.unshift(e[af]),t.message=Fy(`
`+t.message,n,o,i),t[Sy]=n,t[Zo]=null,t}function Fy(t,e,o,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Ay?t.slice(2):t;let n=Ze(e);if(Array.isArray(e))n=e.map(Ze).join(" -> ");else if(typeof e=="object"){let s=[];for(let u in e)if(e.hasOwnProperty(u)){let c=e[u];s.push(u+":"+(typeof c=="string"?JSON.stringify(c):Ze(c)))}n=`{${s.join(", ")}}`}return`${o}${i?"("+i+")":""}[${n}]: ${t.replace(Py,`
  `)}`}var fs=qf(jf("Optional"),8);var ul=qf(jf("SkipSelf"),4);function Di(t,e){let o=t.hasOwnProperty(Go);return o?t[Go]:null}function ll(t,e){t.forEach(o=>Array.isArray(o)?ll(o,e):e(o))}function Yf(t,e,o){e>=t.length?t.push(o):t.splice(e,0,o)}function Wo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var cr={},Pt=[],Ci=new V(""),Qf=new V("",-1),Kf=new V(""),qo=class{get(e,o=lr){if(o===lr){let i=new Error(`NullInjectorError: No provider for ${Ze(e)}!`);throw i.name="NullInjectorError",i}return o}},Xf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Xf||{}),Ot=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ot||{}),Kt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Kt||{});function jy(t,e,o){let i=t.length;for(;;){let n=t.indexOf(e,o);if(n===-1)return n;if(n===0||t.charCodeAt(n-1)<=32){let s=e.length;if(n+s===i||t.charCodeAt(n+s)<=32)return n}o=n+1}}function Lu(t,e,o){let i=0;for(;i<o.length;){let n=o[i];if(typeof n=="number"){if(n!==0)break;i++;let s=o[i++],u=o[i++],c=o[i++];t.setAttribute(e,u,c,s)}else{let s=n,u=o[++i];Vy(s)?t.setProperty(e,s,u):t.setAttribute(e,s,u),i++}}return i}function By(t){return t===3||t===4||t===6}function Vy(t){return t.charCodeAt(0)===64}function cl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let o=-1;for(let i=0;i<e.length;i++){let n=e[i];typeof n=="number"?o=n:o===0||(o===-1||o===2?uf(t,o,n,null,e[++i]):uf(t,o,n,null,null))}}return t}function uf(t,e,o,i,n){let s=0,u=t.length;if(e===-1)u=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){u=-1;break}else if(c>e){u=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===o){if(i===null){n!==null&&(t[s+1]=n);return}else if(i===t[s+1]){t[s+2]=n;return}}s++,i!==null&&s++,n!==null&&s++}u!==-1&&(t.splice(u,0,e),s=u+1),t.splice(s++,0,o),i!==null&&t.splice(s++,0,i),n!==null&&t.splice(s++,0,n)}var Jf="ng-template";function Uy(t,e,o,i){let n=0;if(i){for(;n<e.length&&typeof e[n]=="string";n+=2)if(e[n]==="class"&&jy(e[n+1].toLowerCase(),o,0)!==-1)return!0}else if(dl(t))return!1;if(n=e.indexOf(1,n),n>-1){let s;for(;++n<e.length&&typeof(s=e[n])=="string";)if(s.toLowerCase()===o)return!0}return!1}function dl(t){return t.type===4&&t.value!==Jf}function Hy(t,e,o){let i=t.type===4&&!o?Jf:t.value;return e===i}function zy(t,e,o){let i=4,n=t.attrs,s=n!==null?Zy(n):0,u=!1;for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="number"){if(!u&&!wt(i)&&!wt(h))return!1;if(u&&wt(h))continue;u=!1,i=h|i&1;continue}if(!u)if(i&4){if(i=2|i&1,h!==""&&!Hy(t,h,o)||h===""&&e.length===1){if(wt(i))return!1;u=!0}}else if(i&8){if(n===null||!Uy(t,n,h,o)){if(wt(i))return!1;u=!0}}else{let f=e[++c],m=$y(h,n,dl(t),o);if(m===-1){if(wt(i))return!1;u=!0;continue}if(f!==""){let _;if(m>s?_="":_=n[m+1].toLowerCase(),i&2&&f!==_){if(wt(i))return!1;u=!0}}}}return wt(i)||u}function wt(t){return(t&1)===0}function $y(t,e,o,i){if(e===null)return-1;let n=0;if(i||!o){let s=!1;for(;n<e.length;){let u=e[n];if(u===t)return n;if(u===3||u===6)s=!0;else if(u===1||u===2){let c=e[++n];for(;typeof c=="string";)c=e[++n];continue}else{if(u===4)break;if(u===0){n+=4;continue}}n+=s?1:2}return-1}else return Wy(e,t)}function Gy(t,e,o=!1){for(let i=0;i<e.length;i++)if(zy(t,e[i],o))return!0;return!1}function Zy(t){for(let e=0;e<t.length;e++){let o=t[e];if(By(o))return e}return t.length}function Wy(t,e){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){let i=t[o];if(typeof i=="number")return-1;if(i===e)return o;o++}return-1}function lf(t,e){return t?":not("+e.trim()+")":e}function qy(t){let e=t[0],o=1,i=2,n="",s=!1;for(;o<t.length;){let u=t[o];if(typeof u=="string")if(i&2){let c=t[++o];n+="["+u+(c.length>0?'="'+c+'"':"")+"]"}else i&8?n+="."+u:i&4&&(n+=" "+u);else n!==""&&!wt(u)&&(e+=lf(s,n),n=""),i=u,s=s||!wt(i);o++}return n!==""&&(e+=lf(s,n)),e}function Yy(t){return t.map(qy).join(",")}function Qy(t){let e=[],o=[],i=1,n=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")n===2?s!==""&&e.push(s,t[++i]):n===8&&o.push(s);else{if(!wt(n))break;n=s}i++}return{attrs:e,classes:o}}function ke(t){return wr(()=>{let e=rp(t),o=ye(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Xf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,styles:t.styles||Pt,_:null,schemas:t.schemas||null,tView:null,id:""});op(o);let i=t.dependencies;return o.directiveDefs=df(i,!1),o.pipeDefs=df(i,!0),o.id=Jy(o),o})}function Ky(t){return _n(t)||ep(t)}function Xy(t){return t!==null}function tt(t){return wr(()=>({type:t.type,bootstrap:t.bootstrap||Pt,declarations:t.declarations||Pt,imports:t.imports||Pt,exports:t.exports||Pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cf(t,e){if(t==null)return cr;let o={};for(let i in t)if(t.hasOwnProperty(i)){let n=t[i],s,u,c=Kt.None;Array.isArray(n)?(c=n[0],s=n[1],u=n[2]??s):(s=n,u=n),e?(o[s]=c!==Kt.None?[i,c]:i,e[s]=u):o[s]=i}return o}function Li(t){return wr(()=>{let e=rp(t);return op(e),e})}function _n(t){return t[by]||null}function ep(t){return t[Ey]||null}function tp(t){return t[My]||null}function np(t){let e=_n(t)||ep(t)||tp(t);return e!==null?e.standalone:!1}function ip(t,e){let o=t[Iy]||null;if(!o&&e===!0)throw new Error(`Type ${Ze(t)} does not have '\u0275mod' property.`);return o}function rp(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||cr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cf(t.inputs,e),outputs:cf(t.outputs),debugInfo:null}}function op(t){t.features?.forEach(e=>e(t))}function df(t,e){if(!t)return null;let o=e?tp:Ky;return()=>(typeof t=="function"?t():t).map(i=>o(i)).filter(Xy)}function Jy(t){let e=0,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let n of o)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ew(...t){return{\u0275providers:sp(!0,t),\u0275fromNgModule:!0}}function sp(t,...e){let o=[],i=new Set,n,s=u=>{o.push(u)};return ll(e,u=>{let c=u;xu(c,s,[],i)&&(n||=[],n.push(c))}),n!==void 0&&ap(n,s),o}function ap(t,e){for(let o=0;o<t.length;o++){let{ngModule:i,providers:n}=t[o];hl(n,s=>{e(s,i)})}}function xu(t,e,o,i){if(t=ht(t),!t)return!1;let n=null,s=rf(t),u=!s&&_n(t);if(!s&&!u){let h=t.ngModule;if(s=rf(h),s)n=h;else return!1}else{if(u&&!u.standalone)return!1;n=t}let c=i.has(n);if(u){if(c)return!1;if(i.add(n),u.dependencies){let h=typeof u.dependencies=="function"?u.dependencies():u.dependencies;for(let f of h)xu(f,e,o,i)}}else if(s){if(s.imports!=null&&!c){i.add(n);let f;try{ll(s.imports,m=>{xu(m,e,o,i)&&(f||=[],f.push(m))})}finally{}f!==void 0&&ap(f,e)}if(!c){let f=Di(n)||(()=>new n);e({provide:n,useFactory:f,deps:Pt},n),e({provide:Kf,useValue:n,multi:!0},n),e({provide:Ci,useValue:()=>N(n),multi:!0},n)}let h=s.providers;if(h!=null&&!c){let f=t;hl(h,m=>{e(m,f)})}}else return!1;return n!==t&&t.providers!==void 0}function hl(t,e){for(let o of t)$f(o)&&(o=o.\u0275providers),Array.isArray(o)?hl(o,e):e(o)}var tw=ue({provide:String,useValue:ue});function up(t){return t!==null&&typeof t=="object"&&tw in t}function nw(t){return!!(t&&t.useExisting)}function iw(t){return!!(t&&t.useFactory)}function Tu(t){return typeof t=="function"}var ps=new V(""),Vo={},rw={},mu;function fl(){return mu===void 0&&(mu=new qo),mu}var Je=class{},dr=class extends Je{get destroyed(){return this._destroyed}constructor(e,o,i,n){super(),this.parent=o,this.source=i,this.scopes=n,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pu(e,u=>this.processProvider(u)),this.records.set(Qf,mi(void 0,this)),n.has("environment")&&this.records.set(Je,mi(void 0,this));let s=this.records.get(ps);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Kf,Pt,W.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ne(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let o=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of o)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let o=mn(this),i=dt(void 0),n;try{return e()}finally{mn(o),dt(i)}}get(e,o=lr,i=W.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sf))return e[sf](this);i=hs(i);let n,s=mn(this),u=dt(void 0);try{if(!(i&W.SkipSelf)){let h=this.records.get(e);if(h===void 0){let f=cw(e)&&ds(e);f&&this.injectableDefInScope(f)?h=mi(Su(e),Vo):h=null,this.records.set(e,h)}if(h!=null)return this.hydrate(e,h)}let c=i&W.Self?fl():this.parent;return o=i&W.Optional&&o===lr?null:o,c.get(e,o)}catch(c){if(c.name==="NullInjectorError"){if((c[Zo]=c[Zo]||[]).unshift(Ze(e)),s)throw c;return Ry(c,e,"R3InjectorError",this.source)}else throw c}finally{dt(u),mn(s)}}resolveInjectorInitializers(){let e=ne(null),o=mn(this),i=dt(void 0),n;try{let s=this.get(Ci,Pt,W.Self);for(let u of s)u()}finally{mn(o),dt(i),ne(e)}}toString(){let e=[],o=this.records;for(let i of o.keys())e.push(Ze(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=ht(e);let o=Tu(e)?e:ht(e&&e.provide),i=sw(e);if(!Tu(e)&&e.multi===!0){let n=this.records.get(o);n||(n=mi(void 0,Vo,!0),n.factory=()=>Iu(n.multi),this.records.set(o,n)),o=e,n.multi.push(e)}this.records.set(o,i)}hydrate(e,o){let i=ne(null);try{return o.value===Vo&&(o.value=rw,o.value=o.factory()),typeof o.value=="object"&&o.value&&lw(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let o=ht(e.providedIn);return typeof o=="string"?o==="any"||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(e){let o=this._onDestroyHooks.indexOf(e);o!==-1&&this._onDestroyHooks.splice(o,1)}};function Su(t){let e=ds(t),o=e!==null?e.factory:Di(t);if(o!==null)return o;if(t instanceof V)throw new P(204,!1);if(t instanceof Function)return ow(t);throw new P(204,!1)}function ow(t){if(t.length>0)throw new P(204,!1);let o=Dy(t);return o!==null?()=>o.factory(t):()=>new t}function sw(t){if(up(t))return mi(void 0,t.useValue);{let e=aw(t);return mi(e,Vo)}}function aw(t,e,o){let i;if(Tu(t)){let n=ht(t);return Di(n)||Su(n)}else if(up(t))i=()=>ht(t.useValue);else if(iw(t))i=()=>t.useFactory(...Iu(t.deps||[]));else if(nw(t))i=()=>N(ht(t.useExisting));else{let n=ht(t&&(t.useClass||t.provide));if(uw(t))i=()=>new n(...Iu(t.deps));else return Di(n)||Su(n)}return i}function mi(t,e,o=!1){return{factory:t,value:e,multi:o?[]:void 0}}function uw(t){return!!t.deps}function lw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function cw(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function Pu(t,e){for(let o of t)Array.isArray(o)?Pu(o,e):o&&$f(o)?Pu(o.\u0275providers,e):e(o)}function Jt(t,e){t instanceof dr&&t.assertNotDestroyed();let o,i=mn(t),n=dt(void 0);try{return e()}finally{mn(i),dt(n)}}function lp(){return Zf()!==void 0||ky()!=null}function dw(t){if(!lp())throw new P(-203,!1)}function hw(t){let e=Xe.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function fw(t){return typeof t=="function"}var en=0,ee=1,F=2,Pe=3,Dt=4,bt=5,Yo=6,hr=7,Ct=8,bi=9,Nt=10,Ae=11,fr=12,hf=13,xi=14,Rt=15,ms=16,gi=17,Ei=18,gs=19,cp=20,gn=21,gu=22,jn=23,Xt=25,dp=1;var Bn=7,Qo=8,Ko=9,ft=10,pl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(pl||{});function Rn(t){return Array.isArray(t)&&typeof t[dp]=="object"}function tn(t){return Array.isArray(t)&&t[dp]===!0}function ml(t){return(t.flags&4)!==0}function _s(t){return t.componentOffset>-1}function vs(t){return(t.flags&1)===1}function Dr(t){return!!t.template}function pw(t){return(t[F]&512)!==0}var Au=class{constructor(e,o,i){this.previousValue=e,this.currentValue=o,this.firstChange=i}isFirstChange(){return this.firstChange}};function hp(t,e,o,i){e!==null?e.applyValueToInputSignal(e,i):t[o]=i}function ys(){return fp}function fp(t){return t.type.prototype.ngOnChanges&&(t.setInput=gw),mw}ys.ngInherit=!0;function mw(){let t=mp(this),e=t?.current;if(e){let o=t.previous;if(o===cr)t.previous=e;else for(let i in e)o[i]=e[i];t.current=null,this.ngOnChanges(e)}}function gw(t,e,o,i,n){let s=this.declaredInputs[i],u=mp(t)||_w(t,{previous:cr,current:null}),c=u.current||(u.current={}),h=u.previous,f=h[s];c[s]=new Au(f&&f.currentValue,o,h===cr),hp(t,e,n,o)}var pp="__ngSimpleChanges__";function mp(t){return t[pp]||null}function _w(t,e){return t[pp]=e}var ff=null;var At=function(t,e,o){ff?.(t,e,o)},gp="svg",vw="math",yw=!1;function ww(){return yw}function Ft(t){for(;Array.isArray(t);)t=t[en];return t}function Dw(t,e){return Ft(e[t])}function Et(t,e){return Ft(e[t.index])}function _p(t,e){return t.data[e]}function wn(t,e){let o=e[t];return Rn(o)?o:o[en]}function gl(t){return(t[F]&128)===128}function Cw(t){return tn(t[Pe])}function Mi(t,e){return e==null?null:t[e]}function vp(t){t[gi]=0}function bw(t){t[F]&1024||(t[F]|=1024,gl(t)&&pr(t))}function Ew(t,e){for(;t>0;)e=e[xi],t--;return e}function _l(t){return!!(t[F]&9216||t[jn]?.dirty)}function ku(t){t[Nt].changeDetectionScheduler?.notify(1),_l(t)?pr(t):t[F]&64&&(ww()?(t[F]|=1024,pr(t)):t[Nt].changeDetectionScheduler?.notify())}function pr(t){t[Nt].changeDetectionScheduler?.notify();let e=mr(t);for(;e!==null&&!(e[F]&8192||(e[F]|=8192,!gl(e)));)e=mr(e)}function yp(t,e){if((t[F]&256)===256)throw new P(911,!1);t[gn]===null&&(t[gn]=[]),t[gn].push(e)}function Mw(t,e){if(t[gn]===null)return;let o=t[gn].indexOf(e);o!==-1&&t[gn].splice(o,1)}function mr(t){let e=t[Pe];return tn(e)?e[Pe]:e}var q={lFrame:Tp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Iw(){return q.lFrame.elementDepthCount}function Lw(){q.lFrame.elementDepthCount++}function xw(){q.lFrame.elementDepthCount--}function wp(){return q.bindingsEnabled}function Tw(){return q.skipHydrationRootTNode!==null}function Sw(t){return q.skipHydrationRootTNode===t}function Pw(){q.skipHydrationRootTNode=null}function me(){return q.lFrame.lView}function nn(){return q.lFrame.tView}function Dp(t){return q.lFrame.contextLView=t,t[Ct]}function Cp(t){return q.lFrame.contextLView=null,t}function pt(){let t=bp();for(;t!==null&&t.type===64;)t=t.parent;return t}function bp(){return q.lFrame.currentTNode}function Aw(){let t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Hn(t,e){let o=q.lFrame;o.currentTNode=t,o.isParent=e}function vl(){return q.lFrame.isParent}function Ep(){q.lFrame.isParent=!1}function kw(){let t=q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ow(t){return q.lFrame.bindingIndex=t}function Mp(){return q.lFrame.bindingIndex++}function Nw(){return q.lFrame.inI18n}function Rw(t,e){let o=q.lFrame;o.bindingIndex=o.bindingRootIndex=t,Ou(e)}function Fw(){return q.lFrame.currentDirectiveIndex}function Ou(t){q.lFrame.currentDirectiveIndex=t}function Ip(t){q.lFrame.currentQueryIndex=t}function jw(t){let e=t[ee];return e.type===2?e.declTNode:e.type===1?t[bt]:null}function Lp(t,e,o){if(o&W.SkipSelf){let n=e,s=t;for(;n=n.parent,n===null&&!(o&W.Host);)if(n=jw(s),n===null||(s=s[xi],n.type&10))break;if(n===null)return!1;e=n,t=s}let i=q.lFrame=xp();return i.currentTNode=e,i.lView=t,!0}function yl(t){let e=xp(),o=t[ee];q.lFrame=e,e.currentTNode=o.firstChild,e.lView=t,e.tView=o,e.contextLView=t,e.bindingIndex=o.bindingStartIndex,e.inI18n=!1}function xp(){let t=q.lFrame,e=t===null?null:t.child;return e===null?Tp(t):e}function Tp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Sp(){let t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Pp=Sp;function wl(){let t=Sp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bw(t){return(q.lFrame.contextLView=Ew(t,q.lFrame.contextLView))[Ct]}function Dl(){return q.lFrame.selectedIndex}function Vn(t){q.lFrame.selectedIndex=t}function Vw(){let t=q.lFrame;return _p(t.tView,t.selectedIndex)}function ws(){q.lFrame.currentNamespace=gp}function Uw(){return q.lFrame.currentNamespace}var Ap=!0;function Ds(){return Ap}function Cs(t){Ap=t}function Hw(t,e,o){let{ngOnChanges:i,ngOnInit:n,ngDoCheck:s}=e.type.prototype;if(i){let u=fp(e);(o.preOrderHooks??=[]).push(t,u),(o.preOrderCheckHooks??=[]).push(t,u)}n&&(o.preOrderHooks??=[]).push(0-t,n),s&&((o.preOrderHooks??=[]).push(t,s),(o.preOrderCheckHooks??=[]).push(t,s))}function bs(t,e){for(let o=e.directiveStart,i=e.directiveEnd;o<i;o++){let s=t.data[o].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:c,ngAfterViewInit:h,ngAfterViewChecked:f,ngOnDestroy:m}=s;u&&(t.contentHooks??=[]).push(-o,u),c&&((t.contentHooks??=[]).push(o,c),(t.contentCheckHooks??=[]).push(o,c)),h&&(t.viewHooks??=[]).push(-o,h),f&&((t.viewHooks??=[]).push(o,f),(t.viewCheckHooks??=[]).push(o,f)),m!=null&&(t.destroyHooks??=[]).push(o,m)}}function Uo(t,e,o){kp(t,e,3,o)}function Ho(t,e,o,i){(t[F]&3)===o&&kp(t,e,o,i)}function _u(t,e){let o=t[F];(o&3)===e&&(o&=16383,o+=1,t[F]=o)}function kp(t,e,o,i){let n=i!==void 0?t[gi]&65535:0,s=i??-1,u=e.length-1,c=0;for(let h=n;h<u;h++)if(typeof e[h+1]=="number"){if(c=e[h],i!=null&&c>=i)break}else e[h]<0&&(t[gi]+=65536),(c<s||s==-1)&&(zw(t,o,e,h),t[gi]=(t[gi]&4294901760)+h+2),h++}function pf(t,e){At(4,t,e);let o=ne(null);try{e.call(t)}finally{ne(o),At(5,t,e)}}function zw(t,e,o,i){let n=o[i]<0,s=o[i+1],u=n?-o[i]:o[i],c=t[u];n?t[F]>>14<t[gi]>>16&&(t[F]&3)===e&&(t[F]+=16384,pf(c,s)):pf(c,s)}var wi=-1,gr=class{constructor(e,o,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=i}};function $w(t){return t instanceof gr}function Gw(t){return(t.flags&8)!==0}function Zw(t){return(t.flags&16)!==0}function Op(t){return t!==wi}function Xo(t){return t&32767}function Ww(t){return t>>16}function Jo(t,e){let o=Ww(t),i=e;for(;o>0;)i=i[xi],o--;return i}var Nu=!0;function mf(t){let e=Nu;return Nu=t,e}var qw=256,Np=qw-1,Rp=5,Yw=0,kt={};function Qw(t,e,o){let i;typeof o=="string"?i=o.charCodeAt(0)||0:o.hasOwnProperty(ar)&&(i=o[ar]),i==null&&(i=o[ar]=Yw++);let n=i&Np,s=1<<n;e.data[t+(n>>Rp)]|=s}function Fp(t,e){let o=jp(t,e);if(o!==-1)return o;let i=e[ee];i.firstCreatePass&&(t.injectorIndex=e.length,vu(i.data,t),vu(e,null),vu(i.blueprint,null));let n=Cl(t,e),s=t.injectorIndex;if(Op(n)){let u=Xo(n),c=Jo(n,e),h=c[ee].data;for(let f=0;f<8;f++)e[s+f]=c[u+f]|h[u+f]}return e[s+8]=n,s}function vu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function jp(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Cl(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let o=0,i=null,n=e;for(;n!==null;){if(i=zp(n),i===null)return wi;if(o++,n=n[xi],i.injectorIndex!==-1)return i.injectorIndex|o<<16}return wi}function Kw(t,e,o){Qw(t,e,o)}function Bp(t,e,o){if(o&W.Optional||t!==void 0)return t;al(e,"NodeInjector")}function Vp(t,e,o,i){if(o&W.Optional&&i===void 0&&(i=null),!(o&(W.Self|W.Host))){let n=t[bi],s=dt(void 0);try{return n?n.get(e,i,o&W.Optional):Wf(e,i,o&W.Optional)}finally{dt(s)}}return Bp(i,e,o)}function Up(t,e,o,i=W.Default,n){if(t!==null){if(e[F]&2048&&!(i&W.Self)){let u=nD(t,e,o,i,kt);if(u!==kt)return u}let s=Hp(t,e,o,i,kt);if(s!==kt)return s}return Vp(e,o,i,n)}function Hp(t,e,o,i,n){let s=eD(o);if(typeof s=="function"){if(!Lp(e,t,i))return i&W.Host?Bp(n,o,i):Vp(e,o,i,n);try{let u;if(u=s(i),u==null&&!(i&W.Optional))al(o);else return u}finally{Pp()}}else if(typeof s=="number"){let u=null,c=jp(t,e),h=wi,f=i&W.Host?e[Rt][bt]:null;for((c===-1||i&W.SkipSelf)&&(h=c===-1?Cl(t,e):e[c+8],h===wi||!_f(i,!1)?c=-1:(u=e[ee],c=Xo(h),e=Jo(h,e)));c!==-1;){let m=e[ee];if(gf(s,c,m.data)){let _=Xw(c,e,o,u,i,f);if(_!==kt)return _}h=e[c+8],h!==wi&&_f(i,e[ee].data[c+8]===f)&&gf(s,c,e)?(u=m,c=Xo(h),e=Jo(h,e)):c=-1}}return n}function Xw(t,e,o,i,n,s){let u=e[ee],c=u.data[t+8],h=i==null?_s(c)&&Nu:i!=u&&(c.type&3)!==0,f=n&W.Host&&s===c,m=Jw(c,u,o,h,f);return m!==null?_r(e,u,m,c):kt}function Jw(t,e,o,i,n){let s=t.providerIndexes,u=e.data,c=s&1048575,h=t.directiveStart,f=t.directiveEnd,m=s>>20,_=i?c:c+m,y=n?c+m:f;for(let D=_;D<y;D++){let x=u[D];if(D<h&&o===x||D>=h&&x.type===o)return D}if(n){let D=u[h];if(D&&Dr(D)&&D.type===o)return h}return null}function _r(t,e,o,i){let n=t[o],s=e.data;if($w(n)){let u=n;u.resolving&&xy(Ly(s[o]));let c=mf(u.canSeeViewProviders);u.resolving=!0;let h,f=u.injectImpl?dt(u.injectImpl):null,m=Lp(t,i,W.Default);try{n=t[o]=u.factory(void 0,s,t,i),e.firstCreatePass&&o>=i.directiveStart&&Hw(o,s[o],e)}finally{f!==null&&dt(f),mf(c),u.resolving=!1,Pp()}}return n}function eD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ar)?t[ar]:void 0;return typeof e=="number"?e>=0?e&Np:tD:e}function gf(t,e,o){let i=1<<t;return!!(o[e+(t>>Rp)]&i)}function _f(t,e){return!(t&W.Self)&&!(t&W.Host&&e)}var Fn=class{constructor(e,o){this._tNode=e,this._lView=o}get(e,o,i){return Up(this._tNode,this._lView,e,hs(i),o)}};function tD(){return new Fn(pt(),me())}function bl(t){return wr(()=>{let e=t.prototype.constructor,o=e[Go]||Ru(e),i=Object.prototype,n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==i;){let s=n[Go]||Ru(n);if(s&&s!==o)return s;n=Object.getPrototypeOf(n)}return s=>new s})}function Ru(t){return Vf(t)?()=>{let e=Ru(ht(t));return e&&e()}:Di(t)}function nD(t,e,o,i,n){let s=t,u=e;for(;s!==null&&u!==null&&u[F]&2048&&!(u[F]&512);){let c=Hp(s,u,o,i|W.Self,kt);if(c!==kt)return c;let h=s.parent;if(!h){let f=u[cp];if(f){let m=f.get(o,kt,i);if(m!==kt)return m}h=zp(u),u=u[xi]}s=h}return n}function zp(t){let e=t[ee],o=e.type;return o===2?e.declTNode:o===1?t[bt]:null}function vf(t,e=null,o=null,i){let n=$p(t,e,o,i);return n.resolveInjectorInitializers(),n}function $p(t,e=null,o=null,i,n=new Set){let s=[o||Pt,ew(t)];return i=i||(typeof t=="object"?void 0:Ze(t)),new dr(s,e||fl(),i||null,n)}var Bt=(()=>{let e=class e{static create(i,n){if(Array.isArray(i))return vf({name:""},n,i,"");{let s=i.name??"";return vf({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=lr,e.NULL=new qo,e.\u0275prov=A({token:e,providedIn:"any",factory:()=>N(Qf)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var iD="ngOriginalError";function yu(t){return t[iD]}var jt=class{constructor(){this._console=console}handleError(e){let o=this._findOriginalError(e);this._console.error("ERROR",e),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(e){let o=e&&yu(e);for(;o&&yu(o);)o=yu(o);return o||null}},Gp=new V("",{providedIn:"root",factory:()=>M(jt).handleError.bind(void 0)}),El=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rD,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Fu=class extends El{constructor(e){super(),this._lView=e}onDestroy(e){return yp(this._lView,e),()=>Mw(this._lView,e)}};function rD(){return new Fu(me())}function oD(){return Es(pt(),me())}function Es(t,e){return new Cr(Et(t,e))}var Cr=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=oD;let t=e;return t})();var ju=class extends Re{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,lp()&&(this.destroyRef=M(El,{optional:!0})??void 0)}emit(e){let o=ne(null);try{super.next(e)}finally{ne(o)}}subscribe(e,o,i){let n=e,s=o||(()=>null),u=i;if(e&&typeof e=="object"){let h=e;n=h.next?.bind(h),s=h.error?.bind(h),u=h.complete?.bind(h)}this.__isAsync&&(s=wu(s),n&&(n=wu(n)),u&&(u=wu(u)));let c=super.subscribe({next:n,error:s,complete:u});return e instanceof be&&e.add(c),c}};function wu(t){return e=>{setTimeout(t,void 0,e)}}var Fe=ju;function Zp(t){return(t.flags&128)===128}var Wp=new Map,sD=0;function aD(){return sD++}function uD(t){Wp.set(t[gs],t)}function lD(t){Wp.delete(t[gs])}var yf="__ngContext__";function vn(t,e){Rn(e)?(t[yf]=e[gs],uD(e)):t[yf]=e}function qp(t){return Qp(t[fr])}function Yp(t){return Qp(t[Dt])}function Qp(t){for(;t!==null&&!tn(t);)t=t[Dt];return t}var Bu;function Kp(t){Bu=t}function cD(){if(Bu!==void 0)return Bu;if(typeof document<"u")return document;throw new P(210,!1)}var Ms=new V("",{providedIn:"root",factory:()=>dD}),dD="ng",Ml=new V(""),Dn=new V("",{providedIn:"platform",factory:()=>"unknown"});var Il=new V("",{providedIn:"root",factory:()=>cD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hD="h",fD="b";var pD=()=>null;function Ll(t,e,o=!1){return pD(t,e,o)}var Xp=!1,mD=new V("",{providedIn:"root",factory:()=>Xp});var gD=/^>|^->|<!--|-->|--!>|<!-$/g,_D=/(<|>)/g,vD="\u200B$1\u200B";function yD(t){return t.replace(gD,e=>e.replace(_D,vD))}function Jp(t){return t instanceof Function?t():t}function wD(t){return(t??M(Bt)).get(Dn)==="browser"}var zn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(zn||{}),DD;function xl(t,e){return DD(t,e)}function _i(t,e,o,i,n){if(i!=null){let s,u=!1;tn(i)?s=i:Rn(i)&&(u=!0,i=i[en]);let c=Ft(i);t===0&&o!==null?n==null?rm(e,o,c):es(e,o,c,n||null,!0):t===1&&o!==null?es(e,o,c,n||null,!0):t===2?BD(e,c,u):t===3&&e.destroyNode(c),s!=null&&UD(e,t,s,o,n)}}function CD(t,e){return t.createText(e)}function bD(t,e,o){t.setValue(e,o)}function ED(t,e){return t.createComment(yD(e))}function em(t,e,o){return t.createElement(e,o)}function MD(t,e){tm(t,e),e[en]=null,e[bt]=null}function ID(t,e,o,i,n,s){i[en]=n,i[bt]=e,Ls(t,i,o,1,n,s)}function tm(t,e){e[Nt].changeDetectionScheduler?.notify(1),Ls(t,e,e[Ae],2,null,null)}function LD(t){let e=t[fr];if(!e)return Du(t[ee],t);for(;e;){let o=null;if(Rn(e))o=e[fr];else{let i=e[ft];i&&(o=i)}if(!o){for(;e&&!e[Dt]&&e!==t;)Rn(e)&&Du(e[ee],e),e=e[Pe];e===null&&(e=t),Rn(e)&&Du(e[ee],e),o=e&&e[Dt]}e=o}}function xD(t,e,o,i){let n=ft+i,s=o.length;i>0&&(o[n-1][Dt]=e),i<s-ft?(e[Dt]=o[n],Yf(o,ft+i,e)):(o.push(e),e[Dt]=null),e[Pe]=o;let u=e[ms];u!==null&&o!==u&&TD(u,e);let c=e[Ei];c!==null&&c.insertView(t),ku(e),e[F]|=128}function TD(t,e){let o=t[Ko],n=e[Pe][Pe][Rt];e[Rt]!==n&&(t[F]|=pl.HasTransplantedViews),o===null?t[Ko]=[e]:o.push(e)}function nm(t,e){let o=t[Ko],i=o.indexOf(e);o.splice(i,1)}function Vu(t,e){if(t.length<=ft)return;let o=ft+e,i=t[o];if(i){let n=i[ms];n!==null&&n!==t&&nm(n,i),e>0&&(t[o-1][Dt]=i[Dt]);let s=Wo(t,ft+e);MD(i[ee],i);let u=s[Ei];u!==null&&u.detachView(s[ee]),i[Pe]=null,i[Dt]=null,i[F]&=-129}return i}function im(t,e){if(!(e[F]&256)){let o=e[Ae];o.destroyNode&&Ls(t,e,o,3,null,null),LD(e)}}function Du(t,e){if(e[F]&256)return;let o=ne(null);try{e[F]&=-129,e[F]|=256,e[jn]&&Mh(e[jn]),PD(t,e),SD(t,e),e[ee].type===1&&e[Ae].destroy();let i=e[ms];if(i!==null&&tn(e[Pe])){i!==e[Pe]&&nm(i,e);let n=e[Ei];n!==null&&n.detachView(t)}lD(e)}finally{ne(o)}}function SD(t,e){let o=t.cleanup,i=e[hr];if(o!==null)for(let s=0;s<o.length-1;s+=2)if(typeof o[s]=="string"){let u=o[s+3];u>=0?i[u]():i[-u].unsubscribe(),s+=2}else{let u=i[o[s+1]];o[s].call(u)}i!==null&&(e[hr]=null);let n=e[gn];if(n!==null){e[gn]=null;for(let s=0;s<n.length;s++){let u=n[s];u()}}}function PD(t,e){let o;if(t!=null&&(o=t.destroyHooks)!=null)for(let i=0;i<o.length;i+=2){let n=e[o[i]];if(!(n instanceof gr)){let s=o[i+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){let c=n[s[u]],h=s[u+1];At(4,c,h);try{h.call(c)}finally{At(5,c,h)}}else{At(4,n,s);try{s.call(n)}finally{At(5,n,s)}}}}}function AD(t,e,o){return kD(t,e.parent,o)}function kD(t,e,o){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return o[en];{let{componentOffset:n}=i;if(n>-1){let{encapsulation:s}=t.data[i.directiveStart+n];if(s===Ot.None||s===Ot.Emulated)return null}return Et(i,o)}}function es(t,e,o,i,n){t.insertBefore(e,o,i,n)}function rm(t,e,o){t.appendChild(e,o)}function wf(t,e,o,i,n){i!==null?es(t,e,o,i,n):rm(t,e,o)}function OD(t,e,o,i){t.removeChild(e,o,i)}function Tl(t,e){return t.parentNode(e)}function ND(t,e){return t.nextSibling(e)}function RD(t,e,o){return jD(t,e,o)}function FD(t,e,o){return t.type&40?Et(t,o):null}var jD=FD,Df;function Is(t,e,o,i){let n=AD(t,i,e),s=e[Ae],u=i.parent||e[bt],c=RD(u,i,e);if(n!=null)if(Array.isArray(o))for(let h=0;h<o.length;h++)wf(s,n,o[h],c,!1);else wf(s,n,o,c,!1);Df!==void 0&&Df(s,i,e,o,n)}function zo(t,e){if(e!==null){let o=e.type;if(o&3)return Et(e,t);if(o&4)return Uu(-1,t[e.index]);if(o&8){let i=e.child;if(i!==null)return zo(t,i);{let n=t[e.index];return tn(n)?Uu(-1,n):Ft(n)}}else{if(o&32)return xl(e,t)()||Ft(t[e.index]);{let i=om(t,e);if(i!==null){if(Array.isArray(i))return i[0];let n=mr(t[Rt]);return zo(n,i)}else return zo(t,e.next)}}}return null}function om(t,e){if(e!==null){let i=t[Rt][bt],n=e.projection;return i.projection[n]}return null}function Uu(t,e){let o=ft+t+1;if(o<e.length){let i=e[o],n=i[ee].firstChild;if(n!==null)return zo(i,n)}return e[Bn]}function BD(t,e,o){let i=Tl(t,e);i&&OD(t,i,e,o)}function Sl(t,e,o,i,n,s,u){for(;o!=null;){let c=i[o.index],h=o.type;if(u&&e===0&&(c&&vn(Ft(c),i),o.flags|=2),(o.flags&32)!==32)if(h&8)Sl(t,e,o.child,i,n,s,!1),_i(e,t,n,c,s);else if(h&32){let f=xl(o,i),m;for(;m=f();)_i(e,t,n,m,s);_i(e,t,n,c,s)}else h&16?VD(t,e,i,o,n,s):_i(e,t,n,c,s);o=u?o.projectionNext:o.next}}function Ls(t,e,o,i,n,s){Sl(o,i,t.firstChild,e,n,s,!1)}function VD(t,e,o,i,n,s){let u=o[Rt],h=u[bt].projection[i.projection];if(Array.isArray(h))for(let f=0;f<h.length;f++){let m=h[f];_i(e,t,n,m,s)}else{let f=h,m=u[Pe];Zp(i)&&(f.flags|=128),Sl(t,e,f,m,n,s,!0)}}function UD(t,e,o,i,n){let s=o[Bn],u=Ft(o);s!==u&&_i(e,t,i,s,n);for(let c=ft;c<o.length;c++){let h=o[c];Ls(h[ee],h,t,e,i,s)}}function HD(t,e,o){t.setAttribute(e,"style",o)}function sm(t,e,o){o===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",o)}function am(t,e,o){let{mergedAttrs:i,classes:n,styles:s}=o;i!==null&&Lu(t,e,i),n!==null&&sm(t,e,n),s!==null&&HD(t,e,s)}var br={};function We(t=1){um(nn(),me(),Dl()+t,!1)}function um(t,e,o,i){if(!i)if((e[F]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Uo(e,s,o)}else{let s=t.preOrderHooks;s!==null&&Ho(e,s,0,o)}Vn(o)}function mt(t,e=W.Default){let o=me();if(o===null)return N(t,e);let i=pt();return Up(i,o,ht(t),e)}function lm(){let t="invalid";throw new Error(t)}function cm(t,e,o,i,n,s){let u=ne(null);try{let c=null;n&Kt.SignalBased&&(c=e[i][Dh]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),n&Kt.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,c,s,o,i):hp(e,c,i,s)}finally{ne(u)}}function zD(t,e){let o=t.hostBindingOpCodes;if(o!==null)try{for(let i=0;i<o.length;i++){let n=o[i];if(n<0)Vn(~n);else{let s=n,u=o[++i],c=o[++i];Rw(u,s);let h=e[s];c(2,h)}}}finally{Vn(-1)}}function xs(t,e,o,i,n,s,u,c,h,f,m){let _=e.blueprint.slice();return _[en]=n,_[F]=i|4|128|8|64,(f!==null||t&&t[F]&2048)&&(_[F]|=2048),vp(_),_[Pe]=_[xi]=t,_[Ct]=o,_[Nt]=u||t&&t[Nt],_[Ae]=c||t&&t[Ae],_[bi]=h||t&&t[bi]||null,_[bt]=s,_[gs]=aD(),_[Yo]=m,_[cp]=f,_[Rt]=e.type==2?t[Rt]:_,_}function Er(t,e,o,i,n){let s=t.data[e];if(s===null)s=$D(t,e,o,i,n),Nw()&&(s.flags|=32);else if(s.type&64){s.type=o,s.value=i,s.attrs=n;let u=Aw();s.injectorIndex=u===null?-1:u.injectorIndex}return Hn(s,!0),s}function $D(t,e,o,i,n){let s=bp(),u=vl(),c=u?s:s&&s.parent,h=t.data[e]=YD(t,c,o,e,i,n);return t.firstChild===null&&(t.firstChild=h),s!==null&&(u?s.child==null&&h.parent!==null&&(s.child=h):s.next===null&&(s.next=h,h.prev=s)),h}function dm(t,e,o,i){if(o===0)return-1;let n=e.length;for(let s=0;s<o;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return n}function hm(t,e,o,i,n){let s=Dl(),u=i&2;try{Vn(-1),u&&e.length>Xt&&um(t,e,Xt,!1),At(u?2:0,n),o(i,n)}finally{Vn(s),At(u?3:1,n)}}function Pl(t,e,o){if(ml(e)){let i=ne(null);try{let n=e.directiveStart,s=e.directiveEnd;for(let u=n;u<s;u++){let c=t.data[u];if(c.contentQueries){let h=o[u];c.contentQueries(1,h,u)}}}finally{ne(i)}}}function Al(t,e,o){wp()&&(nC(t,e,o,Et(o,e)),(o.flags&64)===64&&mm(t,e,o))}function kl(t,e,o=Et){let i=e.localNames;if(i!==null){let n=e.index+1;for(let s=0;s<i.length;s+=2){let u=i[s+1],c=u===-1?o(e,t):t[u];t[n++]=c}}}function fm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ol(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ol(t,e,o,i,n,s,u,c,h,f,m){let _=Xt+i,y=_+n,D=GD(_,y),x=typeof f=="function"?f():f;return D[ee]={type:t,blueprint:D,template:o,queries:null,viewQuery:c,declTNode:e,data:D.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof u=="function"?u():u,firstChild:null,schemas:h,consts:x,incompleteFirstPass:!1,ssrId:m}}function GD(t,e){let o=[];for(let i=0;i<e;i++)o.push(i<t?null:br);return o}function ZD(t,e,o,i){let s=i.get(mD,Xp)||o===Ot.ShadowDom,u=t.selectRootElement(e,s);return WD(u),u}function WD(t){qD(t)}var qD=()=>null;function YD(t,e,o,i,n,s){let u=e?e.injectorIndex:-1,c=0;return Tw()&&(c|=128),{type:o,index:i,insertBeforeIndex:null,injectorIndex:u,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:n,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Cf(t,e,o,i,n){for(let s in e){if(!e.hasOwnProperty(s))continue;let u=e[s];if(u===void 0)continue;i??={};let c,h=Kt.None;Array.isArray(u)?(c=u[0],h=u[1]):c=u;let f=s;if(n!==null){if(!n.hasOwnProperty(s))continue;f=n[s]}t===0?bf(i,o,f,c,h):bf(i,o,f,c)}return i}function bf(t,e,o,i,n){let s;t.hasOwnProperty(o)?(s=t[o]).push(e,i):s=t[o]=[e,i],n!==void 0&&s.push(n)}function QD(t,e,o){let i=e.directiveStart,n=e.directiveEnd,s=t.data,u=e.attrs,c=[],h=null,f=null;for(let m=i;m<n;m++){let _=s[m],y=o?o.get(_):null,D=y?y.inputs:null,x=y?y.outputs:null;h=Cf(0,_.inputs,m,h,D),f=Cf(1,_.outputs,m,f,x);let E=h!==null&&u!==null&&!dl(e)?dC(h,m,u):null;c.push(E)}h!==null&&(h.hasOwnProperty("class")&&(e.flags|=8),h.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=h,e.outputs=f}function KD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function XD(t,e,o,i,n,s,u,c){let h=Et(e,o),f=e.inputs,m;!c&&f!=null&&(m=f[i])?(Rl(t,o,m,i,n),_s(e)&&JD(o,e.index)):e.type&3?(i=KD(i),n=u!=null?u(n,e.value||"",i):n,s.setProperty(h,i,n)):e.type&12}function JD(t,e){let o=wn(e,t);o[F]&16||(o[F]|=64)}function Nl(t,e,o,i){if(wp()){let n=i===null?null:{"":-1},s=rC(t,o),u,c;s===null?u=c=null:[u,c]=s,u!==null&&pm(t,e,o,u,n,c),n&&oC(o,i,n)}o.mergedAttrs=cl(o.mergedAttrs,o.attrs)}function pm(t,e,o,i,n,s){for(let f=0;f<i.length;f++)Kw(Fp(o,e),t,i[f].type);aC(o,t.data.length,i.length);for(let f=0;f<i.length;f++){let m=i[f];m.providersResolver&&m.providersResolver(m)}let u=!1,c=!1,h=dm(t,e,i.length,null);for(let f=0;f<i.length;f++){let m=i[f];o.mergedAttrs=cl(o.mergedAttrs,m.hostAttrs),uC(t,o,e,h,m),sC(h,m,n),m.contentQueries!==null&&(o.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(o.flags|=64);let _=m.type.prototype;!u&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),u=!0),!c&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),c=!0),h++}QD(t,o,s)}function eC(t,e,o,i,n){let s=n.hostBindings;if(s){let u=t.hostBindingOpCodes;u===null&&(u=t.hostBindingOpCodes=[]);let c=~e.index;tC(u)!=c&&u.push(c),u.push(o,i,s)}}function tC(t){let e=t.length;for(;e>0;){let o=t[--e];if(typeof o=="number"&&o<0)return o}return 0}function nC(t,e,o,i){let n=o.directiveStart,s=o.directiveEnd;_s(o)&&lC(e,o,t.data[n+o.componentOffset]),t.firstCreatePass||Fp(o,e),vn(i,e);let u=o.initialInputs;for(let c=n;c<s;c++){let h=t.data[c],f=_r(e,t,c,o);if(vn(f,e),u!==null&&cC(e,c-n,f,h,o,u),Dr(h)){let m=wn(o.index,e);m[Ct]=_r(e,t,c,o)}}}function mm(t,e,o){let i=o.directiveStart,n=o.directiveEnd,s=o.index,u=Fw();try{Vn(s);for(let c=i;c<n;c++){let h=t.data[c],f=e[c];Ou(c),(h.hostBindings!==null||h.hostVars!==0||h.hostAttrs!==null)&&iC(h,f)}}finally{Vn(-1),Ou(u)}}function iC(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function rC(t,e){let o=t.directiveRegistry,i=null,n=null;if(o)for(let s=0;s<o.length;s++){let u=o[s];if(Gy(e,u.selectors,!1))if(i||(i=[]),Dr(u))if(u.findHostDirectiveDefs!==null){let c=[];n=n||new Map,u.findHostDirectiveDefs(u,c,n),i.unshift(...c,u);let h=c.length;Hu(t,e,h)}else i.unshift(u),Hu(t,e,0);else n=n||new Map,u.findHostDirectiveDefs?.(u,i,n),i.push(u)}return i===null?null:[i,n]}function Hu(t,e,o){e.componentOffset=o,(t.components??=[]).push(e.index)}function oC(t,e,o){if(e){let i=t.localNames=[];for(let n=0;n<e.length;n+=2){let s=o[e[n+1]];if(s==null)throw new P(-301,!1);i.push(e[n],s)}}}function sC(t,e,o){if(o){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)o[e.exportAs[i]]=t;Dr(e)&&(o[""]=t)}}function aC(t,e,o){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+o,t.providerIndexes=e}function uC(t,e,o,i,n){t.data[i]=n;let s=n.factory||(n.factory=Di(n.type,!0)),u=new gr(s,Dr(n),mt);t.blueprint[i]=u,o[i]=u,eC(t,e,i,dm(t,o,n.hostVars,br),n)}function lC(t,e,o){let i=Et(e,t),n=fm(o),s=t[Nt].rendererFactory,u=16;o.signals?u=4096:o.onPush&&(u=64);let c=Ts(t,xs(t,n,null,u,i,e,null,s.createRenderer(i,o),null,null,null));t[e.index]=c}function cC(t,e,o,i,n,s){let u=s[e];if(u!==null)for(let c=0;c<u.length;){let h=u[c++],f=u[c++],m=u[c++],_=u[c++];cm(i,o,h,f,m,_)}}function dC(t,e,o){let i=null,n=0;for(;n<o.length;){let s=o[n];if(s===0){n+=4;continue}else if(s===5){n+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let u=t[s];for(let c=0;c<u.length;c+=3)if(u[c]===e){i.push(s,u[c+1],u[c+2],o[n+1]);break}}n+=2}return i}function gm(t,e,o,i){return[t,!0,0,e,null,i,null,o,null,null]}function _m(t,e){let o=t.contentQueries;if(o!==null){let i=ne(null);try{for(let n=0;n<o.length;n+=2){let s=o[n],u=o[n+1];if(u!==-1){let c=t.data[u];Ip(s),c.contentQueries(2,e[u],u)}}}finally{ne(i)}}}function Ts(t,e){return t[fr]?t[hf][Dt]=e:t[fr]=e,t[hf]=e,e}function zu(t,e,o){Ip(0);let i=ne(null);try{e(t,o)}finally{ne(i)}}function hC(t){return t[hr]||(t[hr]=[])}function fC(t){return t.cleanup||(t.cleanup=[])}function vm(t,e){let o=t[bi],i=o?o.get(jt,null):null;i&&i.handleError(e)}function Rl(t,e,o,i,n){for(let s=0;s<o.length;){let u=o[s++],c=o[s++],h=o[s++],f=e[u],m=t.data[u];cm(m,f,i,c,h,n)}}function pC(t,e,o){let i=Dw(e,t);bD(t[Ae],i,o)}function mC(t,e){let o=wn(e,t),i=o[ee];gC(i,o);let n=o[en];n!==null&&o[Yo]===null&&(o[Yo]=Ll(n,o[bi])),Fl(i,o,o[Ct])}function gC(t,e){for(let o=e.length;o<t.blueprint.length;o++)e.push(t.blueprint[o])}function Fl(t,e,o){yl(e);try{let i=t.viewQuery;i!==null&&zu(1,i,o);let n=t.template;n!==null&&hm(t,e,n,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ei]?.finishViewCreation(t),t.staticContentQueries&&_m(t,e),t.staticViewQueries&&zu(2,t.viewQuery,o);let s=t.components;s!==null&&_C(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[F]&=-5,wl()}}function _C(t,e){for(let o=0;o<e.length;o++)mC(t,e[o])}function vC(t,e,o,i){let n=ne(null);try{let s=e.tView,c=t[F]&4096?4096:16,h=xs(t,s,o,c,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),f=t[e.index];h[ms]=f;let m=t[Ei];return m!==null&&(h[Ei]=m.createEmbeddedView(s)),Fl(s,h,o),h}finally{ne(n)}}function Ef(t,e){return!e||e.firstChild===null||Zp(t)}function yC(t,e,o,i=!0){let n=e[ee];if(xD(n,e,t,o),i){let u=Uu(o,t),c=e[Ae],h=Tl(c,t[Bn]);h!==null&&ID(n,t[bt],c,e,h,u)}let s=e[Yo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ts(t,e,o,i,n=!1){for(;o!==null;){let s=e[o.index];s!==null&&i.push(Ft(s)),tn(s)&&wC(s,i);let u=o.type;if(u&8)ts(t,e,o.child,i);else if(u&32){let c=xl(o,e),h;for(;h=c();)i.push(h)}else if(u&16){let c=om(e,o);if(Array.isArray(c))i.push(...c);else{let h=mr(e[Rt]);ts(h[ee],h,c,i,!0)}}o=n?o.projectionNext:o.next}return i}function wC(t,e){for(let o=ft;o<t.length;o++){let i=t[o],n=i[ee].firstChild;n!==null&&ts(i[ee],i,n,e)}t[Bn]!==t[en]&&e.push(t[Bn])}var ym=[];function DC(t){return t[jn]??CC(t)}function CC(t){let e=ym.pop()??Object.create(EC);return e.lView=t,e}function bC(t){t.lView[jn]!==t&&(t.lView=null,ym.push(t))}var EC=ye(T({},Ch),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pr(t.lView)},consumerOnSignalRead(){this.lView[jn]=this}}),wm=100;function Dm(t,e=!0,o=0){let i=t[Nt],n=i.rendererFactory,s=!1;s||n.begin?.();try{MC(t,o)}catch(u){throw e&&vm(t,u),u}finally{s||(n.end?.(),i.inlineEffectRunner?.flush())}}function MC(t,e){$u(t,e);let o=0;for(;_l(t);){if(o===wm)throw new P(103,!1);o++,$u(t,1)}}function IC(t,e,o,i){let n=e[F];if((n&256)===256)return;let s=!1;!s&&e[Nt].inlineEffectRunner?.flush(),yl(e);let u=null,c=null;!s&&LC(t)&&(c=DC(e),u=bh(c));try{vp(e),Ow(t.bindingStartIndex),o!==null&&hm(t,e,o,2,i);let h=(n&3)===3;if(!s)if(h){let _=t.preOrderCheckHooks;_!==null&&Uo(e,_,null)}else{let _=t.preOrderHooks;_!==null&&Ho(e,_,0,null),_u(e,0)}if(xC(e),Cm(e,0),t.contentQueries!==null&&_m(t,e),!s)if(h){let _=t.contentCheckHooks;_!==null&&Uo(e,_)}else{let _=t.contentHooks;_!==null&&Ho(e,_,1),_u(e,1)}zD(t,e);let f=t.components;f!==null&&Em(e,f,0);let m=t.viewQuery;if(m!==null&&zu(2,m,i),!s)if(h){let _=t.viewCheckHooks;_!==null&&Uo(e,_)}else{let _=t.viewHooks;_!==null&&Ho(e,_,2),_u(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[gu]){for(let _ of e[gu])_();e[gu]=null}s||(e[F]&=-73)}catch(h){throw pr(e),h}finally{c!==null&&(Eh(c,u),bC(c)),wl()}}function LC(t){return t.type!==2}function Cm(t,e){for(let o=qp(t);o!==null;o=Yp(o))for(let i=ft;i<o.length;i++){let n=o[i];bm(n,e)}}function xC(t){for(let e=qp(t);e!==null;e=Yp(e)){if(!(e[F]&pl.HasTransplantedViews))continue;let o=e[Ko];for(let i=0;i<o.length;i++){let n=o[i],s=n[Pe];bw(n)}}}function TC(t,e,o){let i=wn(e,t);bm(i,o)}function bm(t,e){gl(t)&&$u(t,e)}function $u(t,e){let i=t[ee],n=t[F],s=t[jn],u=!!(e===0&&n&16);if(u||=!!(n&64&&e===0),u||=!!(n&1024),u||=!!(s?.dirty&&Ka(s)),s&&(s.dirty=!1),t[F]&=-9217,u)IC(i,t,i.template,t[Ct]);else if(n&8192){Cm(t,1);let c=i.components;c!==null&&Em(t,c,1)}}function Em(t,e,o){for(let i=0;i<e.length;i++)TC(t,e[i],o)}function jl(t){for(t[Nt].changeDetectionScheduler?.notify();t;){t[F]|=64;let e=mr(t);if(pw(t)&&!e)return t;t=e}return null}var Un=class{get rootNodes(){let e=this._lView,o=e[ee];return ts(o,e,o.firstChild,[])}constructor(e,o,i=!0){this._lView=e,this._cdRefInjectingView=o,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return(this._lView[F]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pe];if(tn(e)){let o=e[Qo],i=o?o.indexOf(this):-1;i>-1&&(Vu(e,i),Wo(o,i))}this._attachedToViewContainer=!1}im(this._lView[ee],this._lView)}onDestroy(e){yp(this._lView,e)}markForCheck(){jl(this._cdRefInjectingView||this._lView)}detach(){this._lView[F]&=-129}reattach(){ku(this._lView),this._lView[F]|=128}detectChanges(){this._lView[F]|=1024,Dm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,tm(this._lView[ee],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,ku(this._lView)}},Ss=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=AC;let t=e;return t})(),SC=Ss,PC=class extends SC{constructor(e,o,i){super(),this._declarationLView=e,this._declarationTContainer=o,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,o){return this.createEmbeddedViewImpl(e,o)}createEmbeddedViewImpl(e,o,i){let n=vC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:o,dehydratedView:i});return new Un(n)}};function AC(){return kC(pt(),me())}function kC(t,e){return t.type&4?new PC(e,t,Es(t,e)):null}var SP=new RegExp(`^(\\d+)*(${fD}|${hD})*(.*)`);var OC=()=>null;function Mf(t,e){return OC(t,e)}var ns=class{},Gu=class{},is=class{};function NC(t){let e=Error(`No component factory found for ${Ze(t)}.`);return e[RC]=t,e}var RC="ngComponent";var Zu=class{resolveComponentFactory(e){throw NC(e)}},Ps=(()=>{let e=class e{};e.NULL=new Zu;let t=e;return t})(),vr=class{},As=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>FC();let t=e;return t})();function FC(){let t=me(),e=pt(),o=wn(e.index,t);return(Rn(o)?o:t)[Ae]}var jC=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Cu={};var If=new Set;function Bl(t){If.has(t)||(If.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Lf(...t){}function BC(){let t=typeof Xe.requestAnimationFrame=="function",e=Xe[t?"requestAnimationFrame":"setTimeout"],o=Xe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&o){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let n=o[Zone.__symbol__("OriginalDelegate")];n&&(o=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:o}}var ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&o,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=BC().nativeRequestAnimationFrame,HC(n)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,o,i){return this._inner.run(e,o,i)}runTask(e,o,i,n){let s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+n,e,VC,Lf,Lf);try{return s.runTask(u,o,i)}finally{s.cancelTask(u)}}runGuarded(e,o,i){return this._inner.runGuarded(e,o,i)}runOutsideAngular(e){return this._outer.run(e)}},VC={};function Vl(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function UC(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Xe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Wu(t),t.isCheckStableRunning=!0,Vl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Wu(t))}function HC(t){let e=()=>{UC(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,i,n,s,u,c)=>{if(zC(c))return o.invokeTask(n,s,u,c);try{return xf(t),o.invokeTask(n,s,u,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Tf(t)}},onInvoke:(o,i,n,s,u,c,h)=>{try{return xf(t),o.invoke(n,s,u,c,h)}finally{t.shouldCoalesceRunChangeDetection&&e(),Tf(t)}},onHasTask:(o,i,n,s)=>{o.hasTask(n,s),i===n&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Wu(t),Vl(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,i,n,s)=>(o.handleError(n,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Wu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function xf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tf(t){t._nesting--,Vl(t)}var qu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,o,i){return e.apply(o,i)}runGuarded(e,o,i){return e.apply(o,i)}runOutsideAngular(e){return e()}runTask(e,o,i,n){return e.apply(o,i)}};function zC(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function $C(t="zone.js",e){return t==="noop"?new qu:t==="zone.js"?new ce(e):t}var vi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(vi||{}),GC={destroy(){}};function Ul(t,e){!e&&dw(Ul);let o=e?.injector??M(Bt);if(!wD(o))return GC;Bl("NgAfterNextRender");let i=o.get(Hl),n=i.handler??=new Qu,s=e?.phase??vi.MixedReadWrite,u=()=>{n.unregister(h),c()},c=o.get(El).onDestroy(u),h=Jt(o,()=>new Yu(s,()=>{u(),t()}));return n.register(h),{destroy:u}}var Yu=class{constructor(e,o){this.phase=e,this.callbackFn=o,this.zone=M(ce),this.errorHandler=M(jt,{optional:!0}),M(ns,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Qu=class{constructor(){this.executingCallbacks=!1,this.buckets={[vi.EarlyRead]:new Set,[vi.Write]:new Set,[vi.MixedReadWrite]:new Set,[vi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let o of e)o.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Hl=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let n of i)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function rs(t,e,o){let i=o?t.styles:null,n=o?t.classes:null,s=0;if(e!==null)for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="number")s=c;else if(s==1)n=tf(n,c);else if(s==2){let h=c,f=e[++u];i=tf(i,h+": "+f+";")}}o?t.styles=i:t.stylesWithoutHost=i,o?t.classes=n:t.classesWithoutHost=n}var os=class extends Ps{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let o=_n(e);return new Ii(o,this.ngModule)}};function Sf(t){let e=[];for(let o in t){if(!t.hasOwnProperty(o))continue;let i=t[o];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:o})}return e}function ZC(t){let e=t.toLowerCase();return e==="svg"?gp:e==="math"?vw:null}var Ku=class{constructor(e,o){this.injector=e,this.parentInjector=o}get(e,o,i){i=hs(i);let n=this.injector.get(e,Cu,i);return n!==Cu||o===Cu?n:this.parentInjector.get(e,o,i)}},Ii=class extends is{get inputs(){let e=this.componentDef,o=e.inputTransforms,i=Sf(e.inputs);if(o!==null)for(let n of i)o.hasOwnProperty(n.propName)&&(n.transform=o[n.propName]);return i}get outputs(){return Sf(this.componentDef.outputs)}constructor(e,o){super(),this.componentDef=e,this.ngModule=o,this.componentType=e.type,this.selector=Yy(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!o}create(e,o,i,n){let s=ne(null);try{n=n||this.ngModule;let u=n instanceof Je?n:n?.injector;u&&this.componentDef.getStandaloneInjector!==null&&(u=this.componentDef.getStandaloneInjector(u)||u);let c=u?new Ku(e,u):e,h=c.get(vr,null);if(h===null)throw new P(407,!1);let f=c.get(jC,null),m=c.get(Hl,null),_=c.get(ns,null),y={rendererFactory:h,sanitizer:f,inlineEffectRunner:null,afterRenderEventManager:m,changeDetectionScheduler:_},D=h.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",E=i?ZD(D,i,this.componentDef.encapsulation,c):em(D,x,ZC(x)),z=512;this.componentDef.signals?z|=4096:this.componentDef.onPush||(z|=16);let O=null;E!==null&&(O=Ll(E,c,!0));let Ce=Ol(0,null,null,1,0,null,null,null,null,null,null),oe=xs(null,Ce,null,z,null,null,y,D,c,null,O);yl(oe);let Oe,Ht;try{let Ve=this.componentDef,Mt,qn=null;Ve.findHostDirectiveDefs?(Mt=[],qn=new Map,Ve.findHostDirectiveDefs(Ve,Mt,qn),Mt.push(Ve)):Mt=[Ve];let Se=WC(oe,E),Ue=qC(Se,E,Ve,Mt,oe,y,D);Ht=_p(Ce,Xt),E&&KC(D,Ve,E,i),o!==void 0&&XC(Ht,this.ngContentSelectors,o),Oe=QC(Ue,Ve,Mt,qn,oe,[JC]),Fl(Ce,oe,null)}finally{wl()}return new Xu(this.componentType,Oe,Es(Ht,oe),oe,Ht)}finally{ne(s)}}},Xu=class extends Gu{constructor(e,o,i,n,s){super(),this.location=i,this._rootLView=n,this._tNode=s,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Un(n,void 0,!1),this.componentType=e}setInput(e,o){let i=this._tNode.inputs,n;if(i!==null&&(n=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),o))return;let s=this._rootLView;Rl(s[ee],s,n,e,o),this.previousInputValues.set(e,o);let u=wn(this._tNode.index,s);jl(u)}}get injector(){return new Fn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function WC(t,e){let o=t[ee],i=Xt;return t[i]=e,Er(o,i,2,"#host",null)}function qC(t,e,o,i,n,s,u){let c=n[ee];YC(i,t,e,u);let h=null;e!==null&&(h=Ll(e,n[bi]));let f=s.rendererFactory.createRenderer(e,o),m=16;o.signals?m=4096:o.onPush&&(m=64);let _=xs(n,fm(o),null,m,n[t.index],t,s,f,null,null,h);return c.firstCreatePass&&Hu(c,t,i.length-1),Ts(n,_),n[t.index]=_}function YC(t,e,o,i){for(let n of t)e.mergedAttrs=cl(e.mergedAttrs,n.hostAttrs);e.mergedAttrs!==null&&(rs(e,e.mergedAttrs,!0),o!==null&&am(i,o,e))}function QC(t,e,o,i,n,s){let u=pt(),c=n[ee],h=Et(u,n);pm(c,n,u,o,null,i);for(let m=0;m<o.length;m++){let _=u.directiveStart+m,y=_r(n,c,_,u);vn(y,n)}mm(c,n,u),h&&vn(h,n);let f=_r(n,c,u.directiveStart+u.componentOffset,u);if(t[Ct]=n[Ct]=f,s!==null)for(let m of s)m(f,e);return Pl(c,u,n),f}function KC(t,e,o,i){if(i)Lu(t,o,["ng-version","17.3.1"]);else{let{attrs:n,classes:s}=Qy(e.selectors[0]);n&&Lu(t,o,n),s&&s.length>0&&sm(t,o,s.join(" "))}}function XC(t,e,o){let i=t.projection=[];for(let n=0;n<e.length;n++){let s=o[n];i.push(s!=null?Array.from(s):null)}}function JC(){let t=pt();bs(me()[ee],t)}var Ti=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eb;let t=e;return t})();function eb(){let t=pt();return nb(t,me())}var tb=Ti,Mm=class extends tb{constructor(e,o,i){super(),this._lContainer=e,this._hostTNode=o,this._hostLView=i}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new Fn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cl(this._hostTNode,this._hostLView);if(Op(e)){let o=Jo(e,this._hostLView),i=Xo(e),n=o[ee].data[i+8];return new Fn(n,o)}else return new Fn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let o=Pf(this._lContainer);return o!==null&&o[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,o,i){let n,s;typeof i=="number"?n=i:i!=null&&(n=i.index,s=i.injector);let u=Mf(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(o||{},s,u);return this.insertImpl(c,n,Ef(this._hostTNode,u)),c}createComponent(e,o,i,n,s){let u=e&&!fw(e),c;if(u)c=o;else{let x=o||{};c=x.index,i=x.injector,n=x.projectableNodes,s=x.environmentInjector||x.ngModuleRef}let h=u?e:new Ii(_n(e)),f=i||this.parentInjector;if(!s&&h.ngModule==null){let E=(u?f:this.parentInjector).get(Je,null);E&&(s=E)}let m=_n(h.componentType??{}),_=Mf(this._lContainer,m?.id??null),y=_?.firstChild??null,D=h.create(f,n,y,s);return this.insertImpl(D.hostView,c,Ef(this._hostTNode,_)),D}insert(e,o){return this.insertImpl(e,o,!0)}insertImpl(e,o,i){let n=e._lView;if(Cw(n)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let h=n[Pe],f=new Mm(h,h[bt],h[Pe]);f.detach(f.indexOf(e))}}let s=this._adjustIndex(o),u=this._lContainer;return yC(u,n,s,i),e.attachToViewContainerRef(),Yf(bu(u),s,e),e}move(e,o){return this.insert(e,o)}indexOf(e){let o=Pf(this._lContainer);return o!==null?o.indexOf(e):-1}remove(e){let o=this._adjustIndex(e,-1),i=Vu(this._lContainer,o);i&&(Wo(bu(this._lContainer),o),im(i[ee],i))}detach(e){let o=this._adjustIndex(e,-1),i=Vu(this._lContainer,o);return i&&Wo(bu(this._lContainer),o)!=null?new Un(i):null}_adjustIndex(e,o=0){return e??this.length+o}};function Pf(t){return t[Qo]}function bu(t){return t[Qo]||(t[Qo]=[])}function nb(t,e){let o,i=e[t.index];return tn(i)?o=i:(o=gm(i,e,null,t),e[t.index]=o,Ts(e,o)),rb(o,e,t,i),new Mm(o,t,e)}function ib(t,e){let o=t[Ae],i=o.createComment(""),n=Et(e,t),s=Tl(o,n);return es(o,s,i,ND(o,n),!1),i}var rb=ab,ob=()=>!1;function sb(t,e,o){return ob(t,e,o)}function ab(t,e,o,i){if(t[Bn])return;let n;o.type&8?n=Ft(i):n=ib(e,o),t[Bn]=n}function ub(t){let e=[],o=new Map;function i(n){let s=o.get(n);if(!s){let u=t(n);o.set(n,s=u.then(hb))}return s}return ss.forEach((n,s)=>{let u=[];n.templateUrl&&u.push(i(n.templateUrl).then(f=>{n.template=f}));let c=typeof n.styles=="string"?[n.styles]:n.styles||[];if(n.styles=c,n.styleUrl&&n.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(n.styleUrls?.length){let f=n.styles.length,m=n.styleUrls;n.styleUrls.forEach((_,y)=>{c.push(""),u.push(i(_).then(D=>{c[f+y]=D,m.splice(m.indexOf(_),1),m.length==0&&(n.styleUrls=void 0)}))})}else n.styleUrl&&u.push(i(n.styleUrl).then(f=>{c.push(f),n.styleUrl=void 0}));let h=Promise.all(u).then(()=>fb(s));e.push(h)}),cb(),Promise.all(e).then(()=>{})}var ss=new Map,lb=new Set;function cb(){let t=ss;return ss=new Map,t}function db(){return ss.size===0}function hb(t){return typeof t=="string"?t:t.text()}function fb(t){lb.delete(t)}var yn=class{},yr=class{};var as=class extends yn{constructor(e,o,i){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new os(this);let n=ip(e);this._bootstrapComponents=Jp(n.bootstrap),this._r3Injector=$p(e,o,[{provide:yn,useValue:this},{provide:Ps,useValue:this.componentFactoryResolver},...i],Ze(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},us=class extends yr{constructor(e){super(),this.moduleType=e}create(e){return new as(this.moduleType,e,[])}};function pb(t,e,o){return new as(t,e,o)}var Ju=class extends yn{constructor(e){super(),this.componentFactoryResolver=new os(this),this.instance=null;let o=new dr([...e.providers,{provide:yn,useValue:this},{provide:Ps,useValue:this.componentFactoryResolver}],e.parent||fl(),e.debugName,new Set(["environment"]));this.injector=o,e.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ks(t,e,o=null){return new Ju({providers:t,parent:e,debugName:o,runEnvironmentInitializers:!0}).injector}var Os=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Im(t){return gb(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function mb(t,e){if(Array.isArray(t))for(let o=0;o<t.length;o++)e(t[o]);else{let o=t[Symbol.iterator](),i;for(;!(i=o.next()).done;)e(i.value)}}function gb(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function _b(t,e,o){return t[e]=o}function zl(t,e,o){let i=t[e];return Object.is(i,o)?!1:(t[e]=o,!0)}function vb(t){return(t.flags&32)===32}function yb(t,e,o,i,n,s,u,c,h){let f=e.consts,m=Er(e,t,4,u||null,Mi(f,c));Nl(e,o,m,Mi(f,h)),bs(e,m);let _=m.tView=Ol(2,m,i,n,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f,null);return e.queries!==null&&(e.queries.template(e,m),_.queries=e.queries.embeddedTView(m)),m}function Ns(t,e,o,i,n,s,u,c){let h=me(),f=nn(),m=t+Xt,_=f.firstCreatePass?yb(m,f,h,e,o,i,n,s,u):f.data[m];Hn(_,!1);let y=wb(f,h,_,t);Ds()&&Is(f,h,y,_),vn(y,h);let D=gm(y,h,y,_);return h[m]=D,Ts(h,D),sb(D,_,h),vs(_)&&Al(f,h,_),u!=null&&kl(h,_,c),Ns}var wb=Db;function Db(t,e,o,i){return Cs(!0),e[Ae].createComment("")}function Cb(t,e,o,i){return zl(t,Mp(),o)?e+Gf(o)+i:br}function je(t,e,o){let i=me(),n=Mp();if(zl(i,n,e)){let s=nn(),u=Vw();XD(s,u,i,t,e,i[Ae],o,!1)}return je}function Af(t,e,o,i,n){let s=e.inputs,u=n?"class":"style";Rl(t,o,s[u],u,i)}function bb(t,e,o,i,n,s){let u=e.consts,c=Mi(u,n),h=Er(e,t,2,i,c);return Nl(e,o,h,Mi(u,s)),h.attrs!==null&&rs(h,h.attrs,!1),h.mergedAttrs!==null&&rs(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function Be(t,e,o,i){let n=me(),s=nn(),u=Xt+t,c=n[Ae],h=s.firstCreatePass?bb(u,s,n,e,o,i):s.data[u],f=Eb(s,n,h,c,e,t);n[u]=f;let m=vs(h);return Hn(h,!0),am(c,f,h),!vb(h)&&Ds()&&Is(s,n,f,h),Iw()===0&&vn(f,n),Lw(),m&&(Al(s,n,h),Pl(s,h,n)),i!==null&&kl(n,h),Be}function nt(){let t=pt();vl()?Ep():(t=t.parent,Hn(t,!1));let e=t;Sw(e)&&Pw(),xw();let o=nn();return o.firstCreatePass&&(bs(o,t),ml(t)&&o.queries.elementEnd(t)),e.classesWithoutHost!=null&&Gw(e)&&Af(o,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Zw(e)&&Af(o,e,me(),e.stylesWithoutHost,!1),nt}function De(t,e,o,i){return Be(t,e,o,i),nt(),De}var Eb=(t,e,o,i,n,s)=>(Cs(!0),em(i,n,Uw()));function Mb(t,e,o,i,n){let s=e.consts,u=Mi(s,i),c=Er(e,t,8,"ng-container",u);u!==null&&rs(c,u,!0);let h=Mi(s,n);return Nl(e,o,c,h),e.queries!==null&&e.queries.elementStart(e,c),c}function rn(t,e,o){let i=me(),n=nn(),s=t+Xt,u=n.firstCreatePass?Mb(s,n,i,e,o):n.data[s];Hn(u,!0);let c=Ib(n,i,u,t);return i[s]=c,Ds()&&Is(n,i,c,u),vn(c,i),vs(u)&&(Al(n,i,u),Pl(n,u,i)),o!=null&&kl(i,u),rn}function on(){let t=pt(),e=nn();return vl()?Ep():(t=t.parent,Hn(t,!1)),e.firstCreatePass&&(bs(e,t),ml(t)&&e.queries.elementEnd(t)),on}var Ib=(t,e,o,i)=>(Cs(!0),ED(e[Ae],""));function Lm(){return me()}var ls="en-US";var Lb=ls;function xb(t){typeof t=="string"&&(Lb=t.toLowerCase().replace(/_/g,"-"))}function Rs(t,e,o,i){let n=me(),s=nn(),u=pt();return Sb(s,n,n[Ae],u,t,e,i),Rs}function Tb(t,e,o,i){let n=t.cleanup;if(n!=null)for(let s=0;s<n.length-1;s+=2){let u=n[s];if(u===o&&n[s+1]===i){let c=e[hr],h=n[s+2];return c.length>h?c[h]:null}typeof u=="string"&&(s+=2)}return null}function Sb(t,e,o,i,n,s,u){let c=vs(i),f=t.firstCreatePass&&fC(t),m=e[Ct],_=hC(e),y=!0;if(i.type&3||u){let E=Et(i,e),z=u?u(E):E,O=_.length,Ce=u?Oe=>u(Ft(Oe[i.index])):i.index,oe=null;if(!u&&c&&(oe=Tb(t,e,n,i.index)),oe!==null){let Oe=oe.__ngLastListenerFn__||oe;Oe.__ngNextListenerFn__=s,oe.__ngLastListenerFn__=s,y=!1}else{s=Of(i,e,m,s,!1);let Oe=o.listen(z,n,s);_.push(s,Oe),f&&f.push(n,Ce,O,O+1)}}else s=Of(i,e,m,s,!1);let D=i.outputs,x;if(y&&D!==null&&(x=D[n])){let E=x.length;if(E)for(let z=0;z<E;z+=2){let O=x[z],Ce=x[z+1],Ht=e[O][Ce].subscribe(s),Ve=_.length;_.push(s,Ht),f&&f.push(n,i.index,Ve,-(Ve+1))}}}function kf(t,e,o,i){let n=ne(null);try{return At(6,e,o),o(i)!==!1}catch(s){return vm(t,s),!1}finally{At(7,e,o),ne(n)}}function Of(t,e,o,i,n){return function s(u){if(u===Function)return i;let c=t.componentOffset>-1?wn(t.index,e):e;jl(c);let h=kf(e,o,i,u),f=s.__ngNextListenerFn__;for(;f;)h=kf(e,o,f,u)&&h,f=f.__ngNextListenerFn__;return n&&h===!1&&u.preventDefault(),h}}function $l(t=1){return Bw(t)}function Gl(t,e=""){let o=me(),i=nn(),n=t+Xt,s=i.firstCreatePass?Er(i,n,1,e,null):i.data[n],u=Pb(i,o,s,e,t);o[n]=u,Ds()&&Is(i,o,u,s),Hn(s,!1)}var Pb=(t,e,o,i,n)=>(Cs(!0),CD(e[Ae],i));function Zl(t,e,o){let i=me(),n=Cb(i,t,e,o);return n!==br&&pC(i,Dl(),n),Zl}var Ab=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let n=sp(!1,i.type),s=n.length>0?ks([n],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(N(Je))});let t=e;return t})();function xm(t){Bl("NgStandalone"),t.getStandaloneInjector=e=>e.get(Ab).getOrCreateStandaloneInjector(t)}function Tm(t,e,o,i){return Ob(me(),kw(),t,e,o,i)}function kb(t,e){let o=t[e];return o===br?void 0:o}function Ob(t,e,o,i,n,s){let u=e+o;return zl(t,u,n)?_b(t,u+1,s?i.call(s,n):i(n)):kb(t,u+1)}var Bo=null;function Nb(t){Bo!==null&&(t.defaultEncapsulation!==Bo.defaultEncapsulation||t.preserveWhitespaces!==Bo.preserveWhitespaces)||(Bo=t)}var Fs=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Wl=new V(""),Mr=new V(""),js=(()=>{let e=class e{constructor(i,n,s){this._ngZone=i,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ql||(Rb(s),s.addToWindow(n)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>n.updateCb&&n.updateCb(i)?(clearTimeout(n.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,n,s){let u=-1;n&&n>0&&(u=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==u),i()},n)),this._callbacks.push({doneCb:i,timeoutId:u,updateCb:s})}whenStable(i,n,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,n,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,n,s){return[]}};e.\u0275fac=function(n){return new(n||e)(N(ce),N(Bs),N(Mr))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Bs=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,n){this._applications.set(i,n)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,n=!0){return ql?.findTestabilityInTree(this,i,n)??null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Rb(t){ql=t}var ql;function Ir(t){return!!t&&typeof t.then=="function"}function Sm(t){return!!t&&typeof t.subscribe=="function"}var Vs=new V(""),Pm=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,n)=>{this.resolve=i,this.reject=n}),this.appInits=M(Vs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let u=s();if(Ir(u))i.push(u);else if(Sm(u)){let c=new Promise((h,f)=>{u.subscribe({complete:h,error:f})});i.push(c)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{n()}).catch(s=>{this.reject(s)}),i.length===0&&n(),this.initialized=!0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yl=new V("");function Fb(){Ih(()=>{throw new P(600,!1)})}function jb(t){return t.isBoundToModule}function Bb(t,e,o){try{let i=o();return Ir(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function Am(t,e){return Array.isArray(e)?e.reduce(Am,t):T(T({},t),e)}var Si=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(Gp),this.afterRenderEffectManager=M(Hl),this.externalTestViews=new Set,this.beforeRender=new Re,this.afterTick=new Re,this.componentTypes=[],this.components=[],this.isStable=M(Os).hasPendingTasks.pipe(J(i=>!i)),this._injector=M(Je)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,n){let s=i instanceof is;if(!this._injector.get(Pm).done){let D=!s&&np(i),x=!1;throw new P(405,x)}let c;s?c=i:c=this._injector.get(Ps).resolveComponentFactory(i),this.componentTypes.push(c.componentType);let h=jb(c)?void 0:this._injector.get(yn),f=n||c.selector,m=c.create(Bt.NULL,[],f,h),_=m.location.nativeElement,y=m.injector.get(Wl,null);return y?.registerApplication(_),m.onDestroy(()=>{this.detachView(m.hostView),$o(this.components,m),y?.unregisterApplication(_)}),this._loadComponent(m),m}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new P(101,!1);let n=ne(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ne(n)}}detectChangesInAttachedViews(i){let n=0,s=this.afterRenderEffectManager;for(;;){if(n===wm)throw new P(103,!1);if(i){let u=n===0;this.beforeRender.next(u);for(let{_lView:c,notifyErrorHandler:h}of this._views)Vb(c,u,h)}if(n++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:u})=>el(u))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:u})=>el(u))))break}}attachView(i){let n=i;this._views.push(n),n.attachToAppRef(this)}detachView(i){let n=i;$o(this._views,n),n.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let n=this._injector.get(Yl,[]);[...this._bootstrapListeners,...n].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>$o(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new P(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $o(t,e){let o=t.indexOf(e);o>-1&&t.splice(o,1)}function Vb(t,e,o){!e&&!el(t)||Ub(t,o,e)}function el(t){return _l(t)}function Ub(t,e,o){let i;o?(i=0,t[F]|=1024):t[F]&64?i=0:i=1,Dm(t,e,i)}var tl=class{constructor(e,o){this.ngModuleFactory=e,this.componentFactories=o}},Us=(()=>{let e=class e{compileModuleSync(i){return new us(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let n=this.compileModuleSync(i),s=ip(i),u=Jp(s.declarations).reduce((c,h)=>{let f=_n(h);return f&&c.push(new Ii(f)),c},[]);return new tl(n,u)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hb=new V("");function zb(t,e,o){let i=new us(o);return Promise.resolve(i)}function Nf(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var $b=(()=>{let e=class e{constructor(){this.zone=M(ce),this.applicationRef=M(Si)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gb(t){return[{provide:ce,useFactory:t},{provide:Ci,multi:!0,useFactory:()=>{let e=M($b,{optional:!0});return()=>e.initialize()}},{provide:Ci,multi:!0,useFactory:()=>{let e=M(qb);return()=>{e.initialize()}}},{provide:Gp,useFactory:Zb}]}function Zb(){let t=M(ce),e=M(jt);return o=>t.runOutsideAngular(()=>e.handleError(o))}function Wb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var qb=(()=>{let e=class e{constructor(){this.subscription=new be,this.initialized=!1,this.zone=M(ce),this.pendingTasks=M(Os)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ce.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ce.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yb(){return typeof $localize<"u"&&$localize.locale||ls}var Ql=new V("",{providedIn:"root",factory:()=>M(Ql,W.Optional|W.SkipSelf)||Yb()});var km=new V(""),Om=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,n){let s=$C(n?.ngZone,Wb({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return s.run(()=>{let u=pb(i.moduleType,this.injector,Gb(()=>s)),c=u.injector.get(jt,null);return s.runOutsideAngular(()=>{let h=s.onError.subscribe({next:f=>{c.handleError(f)}});u.onDestroy(()=>{$o(this._modules,u),h.unsubscribe()})}),Bb(c,s,()=>{let h=u.injector.get(Pm);return h.runInitializers(),h.donePromise.then(()=>{let f=u.injector.get(Ql,ls);return xb(f||ls),this._moduleDoBootstrap(u),u})})})}bootstrapModule(i,n=[]){let s=Am({},n);return zb(this.injector,s,i).then(u=>this.bootstrapModuleFactory(u,s))}_moduleDoBootstrap(i){let n=i.injector.get(Si);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>n.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(n);else throw new P(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());let i=this._injector.get(km,null);i&&(i.forEach(n=>n()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(n){return new(n||e)(N(Bt))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ur=null,Nm=new V("");function Qb(t){if(ur&&!ur.get(Nm,!1))throw new P(400,!1);Fb(),ur=t;let e=t.get(Om);return Jb(t),e}function Kl(t,e,o=[]){let i=`Platform: ${e}`,n=new V(i);return(s=[])=>{let u=Rm();if(!u||u.injector.get(Nm,!1)){let c=[...o,...s,{provide:n,useValue:!0}];t?t(c):Qb(Kb(c,i))}return Xb(n)}}function Kb(t=[],e){return Bt.create({name:e,providers:[{provide:ps,useValue:"platform"},{provide:km,useValue:new Set([()=>ur=null])},...t]})}function Xb(t){let e=Rm();if(!e)throw new P(401,!1);return e}function Rm(){return ur?.get(Om)??null}function Jb(t){t.get(Ml,null)?.forEach(o=>o())}var Lr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eE;let t=e;return t})();function eE(t){return tE(pt(),me(),(t&16)===16)}function tE(t,e,o){if(_s(t)&&!o){let i=wn(t.index,e);return new Un(i,i)}else if(t.type&47){let i=e[Rt];return new Un(i,e)}return null}var nl=class{constructor(){}supports(e){return Im(e)}create(e){return new il(e)}},nE=(t,e)=>e,il=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nE}forEachItem(e){let o;for(o=this._itHead;o!==null;o=o._next)e(o)}forEachOperation(e){let o=this._itHead,i=this._removalsHead,n=0,s=null;for(;o||i;){let u=!i||o&&o.currentIndex<Rf(i,n,s)?o:i,c=Rf(u,n,s),h=u.currentIndex;if(u===i)n--,i=i._nextRemoved;else if(o=o._next,u.previousIndex==null)n++;else{s||(s=[]);let f=c-n,m=h-n;if(f!=m){for(let y=0;y<f;y++){let D=y<s.length?s[y]:s[y]=0,x=D+y;m<=x&&x<f&&(s[y]=D+1)}let _=u.previousIndex;s[_]=m-f}}c!==h&&e(u,c,h)}}forEachPreviousItem(e){let o;for(o=this._previousItHead;o!==null;o=o._nextPrevious)e(o)}forEachAddedItem(e){let o;for(o=this._additionsHead;o!==null;o=o._nextAdded)e(o)}forEachMovedItem(e){let o;for(o=this._movesHead;o!==null;o=o._nextMoved)e(o)}forEachRemovedItem(e){let o;for(o=this._removalsHead;o!==null;o=o._nextRemoved)e(o)}forEachIdentityChange(e){let o;for(o=this._identityChangesHead;o!==null;o=o._nextIdentityChange)e(o)}diff(e){if(e==null&&(e=[]),!Im(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o=this._itHead,i=!1,n,s,u;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],u=this._trackByFn(c,s),o===null||!Object.is(o.trackById,u)?(o=this._mismatch(o,s,u,c),i=!0):(i&&(o=this._verifyReinsertion(o,s,u,c)),Object.is(o.item,s)||this._addIdentityChange(o,s)),o=o._next}else n=0,mb(e,c=>{u=this._trackByFn(n,c),o===null||!Object.is(o.trackById,u)?(o=this._mismatch(o,c,u,n),i=!0):(i&&(o=this._verifyReinsertion(o,c,u,n)),Object.is(o.item,c)||this._addIdentityChange(o,c)),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,o,i,n){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,o)||this._addIdentityChange(e,o),this._reinsertAfter(e,s,n)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,n),e!==null?(Object.is(e.item,o)||this._addIdentityChange(e,o),this._moveAfter(e,s,n)):e=this._addAfter(new rl(o,i),s,n)),e}_verifyReinsertion(e,o,i,n){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;e!==null;){let o=e._next;this._addToRemovals(this._unlink(e)),e=o}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,o,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let n=e._prevRemoved,s=e._nextRemoved;return n===null?this._removalsHead=s:n._nextRemoved=s,s===null?this._removalsTail=n:s._prevRemoved=n,this._insertAfter(e,o,i),this._addToMoves(e,i),e}_moveAfter(e,o,i){return this._unlink(e),this._insertAfter(e,o,i),this._addToMoves(e,i),e}_addAfter(e,o,i){return this._insertAfter(e,o,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,o,i){let n=o===null?this._itHead:o._next;return e._next=n,e._prev=o,n===null?this._itTail=e:n._prev=e,o===null?this._itHead=e:o._next=e,this._linkedRecords===null&&(this._linkedRecords=new cs),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let o=e._prev,i=e._next;return o===null?this._itHead=i:o._next=i,i===null?this._itTail=o:i._prev=o,e}_addToMoves(e,o){return e.previousIndex===o||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new cs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,o){return e.item=o,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rl=class{constructor(e,o){this.item=e,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ol=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,o){let i;for(i=this._head;i!==null;i=i._nextDup)if((o===null||o<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let o=e._prevDup,i=e._nextDup;return o===null?this._head=i:o._nextDup=i,i===null?this._tail=o:i._prevDup=o,this._head===null}},cs=class{constructor(){this.map=new Map}put(e){let o=e.trackById,i=this.map.get(o);i||(i=new ol,this.map.set(o,i)),i.add(e)}get(e,o){let i=e,n=this.map.get(i);return n?n.get(e,o):null}remove(e){let o=e.trackById;return this.map.get(o).remove(e)&&this.map.delete(o),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Rf(t,e,o){let i=t.previousIndex;if(i===null)return i;let n=0;return o&&i<o.length&&(n=o[i]),i+e+n}function Ff(){return new Xl([new nl])}var Xl=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,n){if(n!=null){let s=n.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:n=>e.create(i,n||Ff()),deps:[[e,new ul,new fs]]}}find(i){let n=this.factories.find(s=>s.supports(i));if(n!=null)return n;throw new P(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:Ff});let t=e;return t})();var Fm=Kl(null,"core",[]),jm=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(n){return new(n||e)(N(Si))},e.\u0275mod=tt({type:e}),e.\u0275inj=et({});let t=e;return t})();function Bm(t){let e=_n(t);if(!e)return null;let o=new Ii(e);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Zm=null;function $n(){return Zm}function Wm(t){Zm??=t}var Hs=class{};var qe=new V(""),rc=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:()=>M(aE),providedIn:"platform"});let t=e;return t})(),qm=new V(""),aE=(()=>{let e=class e extends rc{constructor(){super(),this._doc=M(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $n().getBaseHref(this._doc)}onPopState(i){let n=$n().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",i,!1),()=>n.removeEventListener("popstate",i)}onHashChange(i){let n=$n().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",i,!1),()=>n.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,n,s){this._history.pushState(i,n,s)}replaceState(i,n,s){this._history.replaceState(i,n,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function oc(t,e){if(t.length==0)return e;if(e.length==0)return t;let o=0;return t.endsWith("/")&&o++,e.startsWith("/")&&o++,o==2?t+e.substring(1):o==1?t+e:t+"/"+e}function Vm(t){let e=t.match(/#|\?|$/),o=e&&e.index||t.length,i=o-(t[o-1]==="/"?1:0);return t.slice(0,i)+t.slice(o)}function sn(t){return t&&t[0]!=="?"?"?"+t:t}var Gn=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:()=>M(sc),providedIn:"root"});let t=e;return t})(),Ym=new V(""),sc=(()=>{let e=class e extends Gn{constructor(i,n){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??M(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return oc(this._baseHref,i)}path(i=!1){let n=this._platformLocation.pathname+sn(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${n}${s}`:n}pushState(i,n,s,u){let c=this.prepareExternalUrl(s+sn(u));this._platformLocation.pushState(i,n,c)}replaceState(i,n,s,u){let c=this.prepareExternalUrl(s+sn(u));this._platformLocation.replaceState(i,n,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(n){return new(n||e)(N(rc),N(Ym,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qm=(()=>{let e=class e extends Gn{constructor(i,n){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(i){let n=oc(this._baseHref,i);return n.length>0?"#"+n:n}pushState(i,n,s,u){let c=this.prepareExternalUrl(s+sn(u));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(i,n,c)}replaceState(i,n,s,u){let c=this.prepareExternalUrl(s+sn(u));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(i,n,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(n){return new(n||e)(N(rc),N(Ym,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Pi=(()=>{let e=class e{constructor(i){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let n=this._locationStrategy.getBaseHref();this._basePath=cE(Vm(Um(n))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,n=""){return this.path()==this.normalize(i+sn(n))}normalize(i){return e.stripTrailingSlash(lE(this._basePath,Um(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,n="",s=null){this._locationStrategy.pushState(s,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+sn(n)),s)}replaceState(i,n="",s=null){this._locationStrategy.replaceState(s,"",i,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+sn(n)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",n){this._urlChangeListeners.forEach(s=>s(i,n))}subscribe(i,n,s){return this._subject.subscribe({next:i,error:n,complete:s})}};e.normalizeQueryParams=sn,e.joinWithSlash=oc,e.stripTrailingSlash=Vm,e.\u0275fac=function(n){return new(n||e)(N(Gn))},e.\u0275prov=A({token:e,factory:()=>uE(),providedIn:"root"});let t=e;return t})();function uE(){return new Pi(N(Gn))}function lE(t,e){if(!t||!e.startsWith(t))return e;let o=e.substring(t.length);return o===""||["/",";","?","#"].includes(o[0])?o:e}function Um(t){return t.replace(/\/index.html$/,"")}function cE(t){if(new RegExp("^(https?:)?//").test(t)){let[,o]=t.split(/\/\/[^\/]+/);return o}return t}function Km(t,e){e=encodeURIComponent(e);for(let o of t.split(";")){let i=o.indexOf("="),[n,s]=i==-1?[o,""]:[o.slice(0,i),o.slice(i+1)];if(n.trim()===e)return decodeURIComponent(s)}return null}var Jl=/\s+/,Hm=[],Xm=(()=>{let e=class e{constructor(i,n){this._ngEl=i,this._renderer=n,this.initialClasses=Hm,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(Jl):Hm}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(Jl):i}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let n of i)this._updateState(n,!0);else if(i!=null)for(let n of Object.keys(i))this._updateState(n,!!i[n]);this._applyStateDiff()}_updateState(i,n){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==n&&(s.changed=!0,s.enabled=n),s.touched=!0):this.stateMap.set(i,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let n=i[0],s=i[1];s.changed?(this._toggleClass(n,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),s.touched=!1}}_toggleClass(i,n){i=i.trim(),i.length>0&&i.split(Jl).forEach(s=>{n?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(n){return new(n||e)(mt(Cr),mt(As))},e.\u0275dir=Li({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Kt.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var ec=class{constructor(e,o,i,n){this.$implicit=e,this.ngForOf=o,this.index=i,this.count=n}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Jm=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,n,s){this._viewContainer=i,this._template=n,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let n=this._viewContainer;i.forEachOperation((s,u,c)=>{if(s.previousIndex==null)n.createEmbeddedView(this._template,new ec(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)n.remove(u===null?void 0:u);else if(u!==null){let h=n.get(u);n.move(h,c),zm(h,s)}});for(let s=0,u=n.length;s<u;s++){let h=n.get(s).context;h.index=s,h.count=u,h.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let u=n.get(s.currentIndex);zm(u,s)})}static ngTemplateContextGuard(i,n){return!0}};e.\u0275fac=function(n){return new(n||e)(mt(Ti),mt(Ss),mt(Xl))},e.\u0275dir=Li({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function zm(t,e){t.context.$implicit=e.item}var eg=(()=>{let e=class e{constructor(i,n){this._viewContainer=i,this._context=new tc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){$m("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){$m("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,n){return!0}};e.\u0275fac=function(n){return new(n||e)(mt(Ti),mt(Ss))},e.\u0275dir=Li({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),tc=class{constructor(){this.$implicit=null,this.ngIf=null}};function $m(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ze(e)}'.`)}var $s=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({});let t=e;return t})(),ac="browser",dE="server";function hE(t){return t===ac}function uc(t){return t===dE}var tg=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>hE(M(Dn))?new nc(M(qe),window):new ic});let t=e;return t})(),nc=class{constructor(e,o){this.document=e,this.window=o,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let o=fE(this.document,e);o&&(this.scrollToElement(o),o.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let o=e.getBoundingClientRect(),i=o.left+this.window.pageXOffset,n=o.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],n-s[1])}};function fE(t,e){let o=t.getElementById(e)||t.getElementsByName(e)[0];if(o)return o;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),n=i.currentNode;for(;n;){let s=n.shadowRoot;if(s){let u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}n=i.nextNode()}}return null}var ic=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},zs=class{};var dc=class extends Hs{constructor(){super(...arguments),this.supportsDOMEvents=!0}},hc=class t extends dc{static makeCurrent(){Wm(new t)}onAndCancel(e,o,i){return e.addEventListener(o,i),()=>{e.removeEventListener(o,i)}}dispatchEvent(e,o){e.dispatchEvent(o)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,o){return o=o||this.getDefaultDocument(),o.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,o){return o==="window"?window:o==="document"?e:o==="body"?e.body:null}getBaseHref(e){let o=gE();return o==null?null:_E(o)}resetBaseElement(){xr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Km(document.cookie,e)}},xr=null;function gE(){return xr=xr||document.querySelector("base"),xr?xr.getAttribute("href"):null}function _E(t){return new URL(t,document.baseURI).pathname}var fc=class{addToWindow(e){Xe.getAngularTestability=(i,n=!0)=>{let s=e.findTestabilityInTree(i,n);if(s==null)throw new P(5103,!1);return s},Xe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Xe.getAllAngularRootElements=()=>e.getAllRootElements();let o=i=>{let n=Xe.getAllAngularTestabilities(),s=n.length,u=function(){s--,s==0&&i()};n.forEach(c=>{c.whenStable(u)})};Xe.frameworkStabilizers||(Xe.frameworkStabilizers=[]),Xe.frameworkStabilizers.push(o)}findTestabilityInTree(e,o,i){if(o==null)return null;let n=e.getTestability(o);return n??(i?$n().isShadowRoot(o)?this.findTestabilityInTree(e,o.host,!0):this.findTestabilityInTree(e,o.parentElement,!0):null)}},vE=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),pc=new V(""),og=(()=>{let e=class e{constructor(i,n){this._zone=n,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,n,s){return this._findPluginFor(n).addEventListener(i,n,s)}getZone(){return this._zone}_findPluginFor(i){let n=this._eventNameToPlugin.get(i);if(n)return n;if(n=this._plugins.find(u=>u.supports(i)),!n)throw new P(5101,!1);return this._eventNameToPlugin.set(i,n),n}};e.\u0275fac=function(n){return new(n||e)(N(pc),N(ce))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Gs=class{constructor(e){this._doc=e}},lc="ng-app-id",sg=(()=>{let e=class e{constructor(i,n,s,u={}){this.doc=i,this.appId=n,this.nonce=s,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uc(u),this.resetHostNodes()}addStyles(i){for(let n of i)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(i){for(let n of i)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(n=>n.remove()),i.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let n of this.getAllStyles())this.addStyleToHost(i,n)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let n of this.hostNodes)this.addStyleToHost(n,i)}onStyleRemoved(i){let n=this.styleRef;n.get(i)?.elements?.forEach(s=>s.remove()),n.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${lc}="${this.appId}"]`);if(i?.length){let n=new Map;return i.forEach(s=>{s.textContent!=null&&n.set(s.textContent,s)}),n}return null}changeUsageCount(i,n){let s=this.styleRef;if(s.has(i)){let u=s.get(i);return u.usage+=n,u.usage}return s.set(i,{usage:n,elements:[]}),n}getStyleElement(i,n){let s=this.styleNodesInDOM,u=s?.get(n);if(u?.parentNode===i)return s.delete(n),u.removeAttribute(lc),u;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=n,this.platformIsServer&&c.setAttribute(lc,this.appId),i.appendChild(c),c}}addStyleToHost(i,n){let s=this.getStyleElement(i,n),u=this.styleRef,c=u.get(n)?.elements;c?c.push(s):u.set(n,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(n){return new(n||e)(N(qe),N(Ms),N(Il,8),N(Dn))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),cc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gc=/%COMP%/g,ag="%COMP%",yE=`_nghost-${ag}`,wE=`_ngcontent-${ag}`,DE=!0,CE=new V("",{providedIn:"root",factory:()=>DE});function bE(t){return wE.replace(gc,t)}function EE(t){return yE.replace(gc,t)}function ug(t,e){return e.map(o=>o.replace(gc,t))}var ng=(()=>{let e=class e{constructor(i,n,s,u,c,h,f,m=null){this.eventManager=i,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestroy=u,this.doc=c,this.platformId=h,this.ngZone=f,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=uc(h),this.defaultRenderer=new Tr(i,c,f,this.platformIsServer)}createRenderer(i,n){if(!i||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Ot.ShadowDom&&(n=ye(T({},n),{encapsulation:Ot.Emulated}));let s=this.getOrCreateRenderer(i,n);return s instanceof Zs?s.applyToHost(i):s instanceof Sr&&s.applyStyles(),s}getOrCreateRenderer(i,n){let s=this.rendererByCompId,u=s.get(n.id);if(!u){let c=this.doc,h=this.ngZone,f=this.eventManager,m=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(n.encapsulation){case Ot.Emulated:u=new Zs(f,m,n,this.appId,_,c,h,y);break;case Ot.ShadowDom:return new mc(f,m,i,n,c,h,this.nonce,y);default:u=new Sr(f,m,n,_,c,h,y);break}s.set(n.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(n){return new(n||e)(N(og),N(sg),N(Ms),N(CE),N(qe),N(Dn),N(ce),N(Il))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Tr=class{constructor(e,o,i,n){this.eventManager=e,this.doc=o,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,o){return o?this.doc.createElementNS(cc[o]||o,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,o){(ig(e)?e.content:e).appendChild(o)}insertBefore(e,o,i){e&&(ig(e)?e.content:e).insertBefore(o,i)}removeChild(e,o){e&&e.removeChild(o)}selectRootElement(e,o){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new P(-5104,!1);return o||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,o,i,n){if(n){o=n+":"+o;let s=cc[n];s?e.setAttributeNS(s,o,i):e.setAttribute(o,i)}else e.setAttribute(o,i)}removeAttribute(e,o,i){if(i){let n=cc[i];n?e.removeAttributeNS(n,o):e.removeAttribute(`${i}:${o}`)}else e.removeAttribute(o)}addClass(e,o){e.classList.add(o)}removeClass(e,o){e.classList.remove(o)}setStyle(e,o,i,n){n&(zn.DashCase|zn.Important)?e.style.setProperty(o,i,n&zn.Important?"important":""):e.style[o]=i}removeStyle(e,o,i){i&zn.DashCase?e.style.removeProperty(o):e.style[o]=""}setProperty(e,o,i){e!=null&&(e[o]=i)}setValue(e,o){e.nodeValue=o}listen(e,o,i){if(typeof e=="string"&&(e=$n().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${o}`);return this.eventManager.addEventListener(e,o,this.decoratePreventDefault(i))}decoratePreventDefault(e){return o=>{if(o==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(o)):e(o))===!1&&o.preventDefault()}}};function ig(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var mc=class extends Tr{constructor(e,o,i,n,s,u,c,h){super(e,s,u,h),this.sharedStylesHost=o,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=ug(n.id,n.styles);for(let m of f){let _=document.createElement("style");c&&_.setAttribute("nonce",c),_.textContent=m,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,o){return super.appendChild(this.nodeOrShadowRoot(e),o)}insertBefore(e,o,i){return super.insertBefore(this.nodeOrShadowRoot(e),o,i)}removeChild(e,o){return super.removeChild(this.nodeOrShadowRoot(e),o)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sr=class extends Tr{constructor(e,o,i,n,s,u,c,h){super(e,s,u,c),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=n,this.styles=h?ug(h,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zs=class extends Sr{constructor(e,o,i,n,s,u,c,h){let f=n+"-"+i.id;super(e,o,i,s,u,c,h,f),this.contentAttr=bE(f),this.hostAttr=EE(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,o){let i=super.createElement(e,o);return super.setAttribute(i,this.contentAttr,""),i}},ME=(()=>{let e=class e extends Gs{constructor(i){super(i)}supports(i){return!0}addEventListener(i,n,s){return i.addEventListener(n,s,!1),()=>this.removeEventListener(i,n,s)}removeEventListener(i,n,s){return i.removeEventListener(n,s)}};e.\u0275fac=function(n){return new(n||e)(N(qe))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),rg=["alt","control","meta","shift"],IE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xE=(()=>{let e=class e extends Gs{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,n,s){let u=e.parseEventName(n),c=e.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$n().onAndCancel(i,u.domEventName,c))}static parseEventName(i){let n=i.toLowerCase().split("."),s=n.shift();if(n.length===0||!(s==="keydown"||s==="keyup"))return null;let u=e._normalizeKey(n.pop()),c="",h=n.indexOf("code");if(h>-1&&(n.splice(h,1),c="code."),rg.forEach(m=>{let _=n.indexOf(m);_>-1&&(n.splice(_,1),c+=m+".")}),c+=u,n.length!=0||u.length===0)return null;let f={};return f.domEventName=s,f.fullKey=c,f}static matchEventFullKeyCode(i,n){let s=IE[i.key]||i.key,u="";return n.indexOf("code.")>-1&&(s=i.code,u="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),rg.forEach(c=>{if(c!==s){let h=LE[c];h(i)&&(u+=c+".")}}),u+=s,u===n)}static eventCallback(i,n,s){return u=>{e.matchEventFullKeyCode(u,i)&&s.runGuarded(()=>n(u))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(n){return new(n||e)(N(qe))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function TE(){hc.makeCurrent()}function SE(){return new jt}function PE(){return Kp(document),document}var AE=[{provide:Dn,useValue:ac},{provide:Ml,useValue:TE,multi:!0},{provide:qe,useFactory:PE,deps:[]}],lg=Kl(Fm,"browser",AE),kE=new V(""),OE=[{provide:Mr,useClass:fc,deps:[]},{provide:Wl,useClass:js,deps:[ce,Bs,Mr]},{provide:js,useClass:js,deps:[ce,Bs,Mr]}],NE=[{provide:ps,useValue:"root"},{provide:jt,useFactory:SE,deps:[]},{provide:pc,useClass:ME,multi:!0,deps:[qe,ce,Dn]},{provide:pc,useClass:xE,multi:!0,deps:[qe]},ng,sg,og,{provide:vr,useExisting:ng},{provide:zs,useClass:vE,deps:[]},[]],cg=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Ms,useValue:i.appId}]}}};e.\u0275fac=function(n){return new(n||e)(N(kE,12))},e.\u0275mod=tt({type:e}),e.\u0275inj=et({providers:[...NE,...OE],imports:[$s,jm]});let t=e;return t})();var dg=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(n){return new(n||e)(N(qe))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $="primary",Gr=Symbol("RouteTitle"),Dc=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let o=this.params[e];return Array.isArray(o)?o[0]:o}return null}getAll(e){if(this.has(e)){let o=this.params[e];return Array.isArray(o)?o:[o]}return[]}get keys(){return Object.keys(this.params)}};function Ri(t){return new Dc(t)}function RE(t,e,o){let i=o.path.split("/");if(i.length>t.length||o.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let n={};for(let s=0;s<i.length;s++){let u=i[s],c=t[s];if(u.startsWith(":"))n[u.substring(1)]=c;else if(u!==c.path)return null}return{consumed:t.slice(0,i.length),posParams:n}}function FE(t,e){if(t.length!==e.length)return!1;for(let o=0;o<t.length;++o)if(!Vt(t[o],e[o]))return!1;return!0}function Vt(t,e){let o=t?Cc(t):void 0,i=e?Cc(e):void 0;if(!o||!i||o.length!=i.length)return!1;let n;for(let s=0;s<o.length;s++)if(n=o[s],!Dg(t[n],e[n]))return!1;return!0}function Cc(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Dg(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let o=[...t].sort(),i=[...e].sort();return o.every((n,s)=>i[s]===n)}else return t===e}function Cg(t){return t.length>0?t[t.length-1]:null}function Mn(t){return lu(t)?t:Ir(t)?pe(Promise.resolve(t)):R(t)}var jE={exact:Eg,subset:Mg},bg={exact:BE,subset:VE,ignored:()=>!0};function fg(t,e,o){return jE[o.paths](t.root,e.root,o.matrixParams)&&bg[o.queryParams](t.queryParams,e.queryParams)&&!(o.fragment==="exact"&&t.fragment!==e.fragment)}function BE(t,e){return Vt(t,e)}function Eg(t,e,o){if(!Wn(t.segments,e.segments)||!Ys(t.segments,e.segments,o)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!Eg(t.children[i],e.children[i],o))return!1;return!0}function VE(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(o=>Dg(t[o],e[o]))}function Mg(t,e,o){return Ig(t,e,e.segments,o)}function Ig(t,e,o,i){if(t.segments.length>o.length){let n=t.segments.slice(0,o.length);return!(!Wn(n,o)||e.hasChildren()||!Ys(n,o,i))}else if(t.segments.length===o.length){if(!Wn(t.segments,o)||!Ys(t.segments,o,i))return!1;for(let n in e.children)if(!t.children[n]||!Mg(t.children[n],e.children[n],i))return!1;return!0}else{let n=o.slice(0,t.segments.length),s=o.slice(t.segments.length);return!Wn(t.segments,n)||!Ys(t.segments,n,i)||!t.children[$]?!1:Ig(t.children[$],e,s,i)}}function Ys(t,e,o){return e.every((i,n)=>bg[o](t[n].parameters,i.parameters))}var Cn=class{constructor(e=new re([],{}),o={},i=null){this.root=e,this.queryParams=o,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ri(this.queryParams),this._queryParamMap}toString(){return zE.serialize(this)}},re=class{constructor(e,o){this.segments=e,this.children=o,this.parent=null,Object.values(o).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qs(this)}},Zn=class{constructor(e,o){this.path=e,this.parameters=o}get parameterMap(){return this._parameterMap??=Ri(this.parameters),this._parameterMap}toString(){return xg(this)}};function UE(t,e){return Wn(t,e)&&t.every((o,i)=>Vt(o.parameters,e[i].parameters))}function Wn(t,e){return t.length!==e.length?!1:t.every((o,i)=>o.path===e[i].path)}function HE(t,e){let o=[];return Object.entries(t.children).forEach(([i,n])=>{i===$&&(o=o.concat(e(n,i)))}),Object.entries(t.children).forEach(([i,n])=>{i!==$&&(o=o.concat(e(n,i)))}),o}var Zr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:()=>new Fr,providedIn:"root"});let t=e;return t})(),Fr=class{parse(e){let o=new Ec(e);return new Cn(o.parseRootSegment(),o.parseQueryParams(),o.parseFragment())}serialize(e){let o=`/${Pr(e.root,!0)}`,i=ZE(e.queryParams),n=typeof e.fragment=="string"?`#${$E(e.fragment)}`:"";return`${o}${i}${n}`}},zE=new Fr;function Qs(t){return t.segments.map(e=>xg(e)).join("/")}function Pr(t,e){if(!t.hasChildren())return Qs(t);if(e){let o=t.children[$]?Pr(t.children[$],!1):"",i=[];return Object.entries(t.children).forEach(([n,s])=>{n!==$&&i.push(`${n}:${Pr(s,!1)}`)}),i.length>0?`${o}(${i.join("//")})`:o}else{let o=HE(t,(i,n)=>n===$?[Pr(t.children[$],!1)]:[`${n}:${Pr(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[$]!=null?`${Qs(t)}/${o[0]}`:`${Qs(t)}/(${o.join("//")})`}}function Lg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ws(t){return Lg(t).replace(/%3B/gi,";")}function $E(t){return encodeURI(t)}function bc(t){return Lg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ks(t){return decodeURIComponent(t)}function pg(t){return Ks(t.replace(/\+/g,"%20"))}function xg(t){return`${bc(t.path)}${GE(t.parameters)}`}function GE(t){return Object.entries(t).map(([e,o])=>`;${bc(e)}=${bc(o)}`).join("")}function ZE(t){let e=Object.entries(t).map(([o,i])=>Array.isArray(i)?i.map(n=>`${Ws(o)}=${Ws(n)}`).join("&"):`${Ws(o)}=${Ws(i)}`).filter(o=>o);return e.length?`?${e.join("&")}`:""}var WE=/^[^\/()?;#]+/;function _c(t){let e=t.match(WE);return e?e[0]:""}var qE=/^[^\/()?;=#]+/;function YE(t){let e=t.match(qE);return e?e[0]:""}var QE=/^[^=?&#]+/;function KE(t){let e=t.match(QE);return e?e[0]:""}var XE=/^[^&#]+/;function JE(t){let e=t.match(XE);return e?e[0]:""}var Ec=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let o={};this.peekStartsWith("/(")&&(this.capture("/"),o=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(o).length>0)&&(i[$]=new re(e,o)),i}parseSegment(){let e=_c(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Zn(Ks(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let o=YE(this.remaining);if(!o)return;this.capture(o);let i="";if(this.consumeOptional("=")){let n=_c(this.remaining);n&&(i=n,this.capture(i))}e[Ks(o)]=Ks(i)}parseQueryParam(e){let o=KE(this.remaining);if(!o)return;this.capture(o);let i="";if(this.consumeOptional("=")){let u=JE(this.remaining);u&&(i=u,this.capture(i))}let n=pg(o),s=pg(i);if(e.hasOwnProperty(n)){let u=e[n];Array.isArray(u)||(u=[u],e[n]=u),u.push(s)}else e[n]=s}parseParens(e){let o={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=_c(this.remaining),n=this.remaining[i.length];if(n!=="/"&&n!==")"&&n!==";")throw new P(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=$);let u=this.parseChildren();o[s]=Object.keys(u).length===1?u[$]:new re([],u),this.consumeOptional("//")}return o}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function Tg(t){return t.segments.length>0?new re([],{[$]:t}):t}function Sg(t){let e={};for(let[i,n]of Object.entries(t.children)){let s=Sg(n);if(i===$&&s.segments.length===0&&s.hasChildren())for(let[u,c]of Object.entries(s.children))e[u]=c;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let o=new re(t.segments,e);return e0(o)}function e0(t){if(t.numberOfChildren===1&&t.children[$]){let e=t.children[$];return new re(t.segments.concat(e.segments),e.children)}return t}function Fi(t){return t instanceof Cn}function t0(t,e,o=null,i=null){let n=Pg(t);return Ag(n,e,o,i)}function Pg(t){let e;function o(s){let u={};for(let h of s.children){let f=o(h);u[h.outlet]=f}let c=new re(s.url,u);return s===t&&(e=c),c}let i=o(t.root),n=Tg(i);return e??n}function Ag(t,e,o,i){let n=t;for(;n.parent;)n=n.parent;if(e.length===0)return vc(n,n,n,o,i);let s=n0(e);if(s.toRoot())return vc(n,n,new re([],{}),o,i);let u=i0(s,n,t),c=u.processChildren?Or(u.segmentGroup,u.index,s.commands):Og(u.segmentGroup,u.index,s.commands);return vc(n,u.segmentGroup,c,o,i)}function Xs(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function jr(t){return typeof t=="object"&&t!=null&&t.outlets}function vc(t,e,o,i,n){let s={};i&&Object.entries(i).forEach(([h,f])=>{s[h]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`});let u;t===e?u=o:u=kg(t,e,o);let c=Tg(Sg(u));return new Cn(c,s,n)}function kg(t,e,o){let i={};return Object.entries(t.children).forEach(([n,s])=>{s===e?i[n]=o:i[n]=kg(s,e,o)}),new re(t.segments,i)}var Js=class{constructor(e,o,i){if(this.isAbsolute=e,this.numberOfDoubleDots=o,this.commands=i,e&&i.length>0&&Xs(i[0]))throw new P(4003,!1);let n=i.find(jr);if(n&&n!==Cg(i))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function n0(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Js(!0,0,t);let e=0,o=!1,i=t.reduce((n,s,u)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([h,f])=>{c[h]=typeof f=="string"?f.split("/"):f}),[...n,{outlets:c}]}if(s.segmentPath)return[...n,s.segmentPath]}return typeof s!="string"?[...n,s]:u===0?(s.split("/").forEach((c,h)=>{h==0&&c==="."||(h==0&&c===""?o=!0:c===".."?e++:c!=""&&n.push(c))}),n):[...n,s]},[]);return new Js(o,e,i)}var Oi=class{constructor(e,o,i){this.segmentGroup=e,this.processChildren=o,this.index=i}};function i0(t,e,o){if(t.isAbsolute)return new Oi(e,!0,0);if(!o)return new Oi(e,!1,NaN);if(o.parent===null)return new Oi(o,!0,0);let i=Xs(t.commands[0])?0:1,n=o.segments.length-1+i;return r0(o,n,t.numberOfDoubleDots)}function r0(t,e,o){let i=t,n=e,s=o;for(;s>n;){if(s-=n,i=i.parent,!i)throw new P(4005,!1);n=i.segments.length}return new Oi(i,!1,n-s)}function o0(t){return jr(t[0])?t[0].outlets:{[$]:t}}function Og(t,e,o){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return Or(t,e,o);let i=s0(t,e,o),n=o.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new re(t.segments.slice(0,i.pathIndex),{});return s.children[$]=new re(t.segments.slice(i.pathIndex),t.children),Or(s,0,n)}else return i.match&&n.length===0?new re(t.segments,{}):i.match&&!t.hasChildren()?Mc(t,e,o):i.match?Or(t,0,n):Mc(t,e,o)}function Or(t,e,o){if(o.length===0)return new re(t.segments,{});{let i=o0(o),n={};if(Object.keys(i).some(s=>s!==$)&&t.children[$]&&t.numberOfChildren===1&&t.children[$].segments.length===0){let s=Or(t.children[$],e,o);return new re(t.segments,s.children)}return Object.entries(i).forEach(([s,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(n[s]=Og(t.children[s],e,u))}),Object.entries(t.children).forEach(([s,u])=>{i[s]===void 0&&(n[s]=u)}),new re(t.segments,n)}}function s0(t,e,o){let i=0,n=e,s={match:!1,pathIndex:0,commandIndex:0};for(;n<t.segments.length;){if(i>=o.length)return s;let u=t.segments[n],c=o[i];if(jr(c))break;let h=`${c}`,f=i<o.length-1?o[i+1]:null;if(n>0&&h===void 0)break;if(h&&f&&typeof f=="object"&&f.outlets===void 0){if(!gg(h,f,u))return s;i+=2}else{if(!gg(h,{},u))return s;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}function Mc(t,e,o){let i=t.segments.slice(0,e),n=0;for(;n<o.length;){let s=o[n];if(jr(s)){let h=a0(s.outlets);return new re(i,h)}if(n===0&&Xs(o[0])){let h=t.segments[e];i.push(new Zn(h.path,mg(o[0]))),n++;continue}let u=jr(s)?s.outlets[$]:`${s}`,c=n<o.length-1?o[n+1]:null;u&&c&&Xs(c)?(i.push(new Zn(u,mg(c))),n+=2):(i.push(new Zn(u,{})),n++)}return new re(i,{})}function a0(t){let e={};return Object.entries(t).forEach(([o,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[o]=Mc(new re([],{}),0,i))}),e}function mg(t){let e={};return Object.entries(t).forEach(([o,i])=>e[o]=`${i}`),e}function gg(t,e,o){return t==o.path&&Vt(e,o.parameters)}var Nr="imperative",Ie=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ie||{}),gt=class{constructor(e,o){this.id=e,this.url=o}},ji=class extends gt{constructor(e,o,i="imperative",n=null){super(e,o),this.type=Ie.NavigationStart,this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends gt{constructor(e,o,i){super(e,o),this.urlAfterRedirects=i,this.type=Ie.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ot=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ot||{}),ea=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ea||{}),bn=class extends gt{constructor(e,o,i,n){super(e,o),this.reason=i,this.code=n,this.type=Ie.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},En=class extends gt{constructor(e,o,i,n){super(e,o),this.reason=i,this.code=n,this.type=Ie.NavigationSkipped}},Br=class extends gt{constructor(e,o,i,n){super(e,o),this.error=i,this.target=n,this.type=Ie.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ta=class extends gt{constructor(e,o,i,n){super(e,o),this.urlAfterRedirects=i,this.state=n,this.type=Ie.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ic=class extends gt{constructor(e,o,i,n){super(e,o),this.urlAfterRedirects=i,this.state=n,this.type=Ie.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lc=class extends gt{constructor(e,o,i,n,s){super(e,o),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=s,this.type=Ie.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xc=class extends gt{constructor(e,o,i,n){super(e,o),this.urlAfterRedirects=i,this.state=n,this.type=Ie.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tc=class extends gt{constructor(e,o,i,n){super(e,o),this.urlAfterRedirects=i,this.state=n,this.type=Ie.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sc=class{constructor(e){this.route=e,this.type=Ie.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pc=class{constructor(e){this.route=e,this.type=Ie.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ac=class{constructor(e){this.snapshot=e,this.type=Ie.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kc=class{constructor(e){this.snapshot=e,this.type=Ie.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oc=class{constructor(e){this.snapshot=e,this.type=Ie.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nc=class{constructor(e){this.snapshot=e,this.type=Ie.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},na=class{constructor(e,o,i){this.routerEvent=e,this.position=o,this.anchor=i,this.type=Ie.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Vr=class{},Ur=class{constructor(e){this.url=e}};var Rc=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wr,this.attachRef=null}},Wr=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){let s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){let n=this.getContext(i);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new Rc,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ia=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let o=this.pathFromRoot(e);return o.length>1?o[o.length-2]:null}children(e){let o=Fc(e,this._root);return o?o.children.map(i=>i.value):[]}firstChild(e){let o=Fc(e,this._root);return o&&o.children.length>0?o.children[0].value:null}siblings(e){let o=jc(e,this._root);return o.length<2?[]:o[o.length-2].children.map(n=>n.value).filter(n=>n!==e)}pathFromRoot(e){return jc(e,this._root).map(o=>o.value)}};function Fc(t,e){if(t===e.value)return e;for(let o of e.children){let i=Fc(t,o);if(i)return i}return null}function jc(t,e){if(t===e.value)return[e];for(let o of e.children){let i=jc(t,o);if(i.length)return i.unshift(e),i}return[]}var rt=class{constructor(e,o){this.value=e,this.children=o}toString(){return`TreeNode(${this.value})`}};function ki(t){let e={};return t&&t.children.forEach(o=>e[o.value.outlet]=o),e}var ra=class extends ia{constructor(e,o){super(e),this.snapshot=o,qc(this,e)}toString(){return this.snapshot.toString()}};function Ng(t){let e=u0(t),o=new xe([new Zn("",{})]),i=new xe({}),n=new xe({}),s=new xe({}),u=new xe(""),c=new Bi(o,i,s,u,n,$,t,e.root);return c.snapshot=e.root,new ra(new rt(c,[]),e)}function u0(t){let e={},o={},i={},n="",s=new Hr([],e,i,n,o,$,t,null,{});return new oa("",new rt(s,[]))}var Bi=class{constructor(e,o,i,n,s,u,c,h){this.urlSubject=e,this.paramsSubject=o,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=s,this.outlet=u,this.component=c,this._futureSnapshot=h,this.title=this.dataSubject?.pipe(J(f=>f[Gr]))??R(void 0),this.url=e,this.params=o,this.queryParams=i,this.fragment=n,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Ri(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Ri(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wc(t,e,o="emptyOnly"){let i,{routeConfig:n}=t;return e!==null&&(o==="always"||n?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:T(T({},e.params),t.params),data:T(T({},e.data),t.data),resolve:T(T(T(T({},t.data),e.data),n?.data),t._resolvedData)}:i={params:T({},t.params),data:T({},t.data),resolve:T(T({},t.data),t._resolvedData??{})},n&&Fg(n)&&(i.resolve[Gr]=n.title),i}var Hr=class{get title(){return this.data?.[Gr]}constructor(e,o,i,n,s,u,c,h,f){this.url=e,this.params=o,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=u,this.component=c,this.routeConfig=h,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ri(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ri(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),o=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${o}')`}},oa=class extends ia{constructor(e,o){super(o),this.url=e,qc(this,o)}toString(){return Rg(this._root)}};function qc(t,e){e.value._routerState=t,e.children.forEach(o=>qc(t,o))}function Rg(t){let e=t.children.length>0?` { ${t.children.map(Rg).join(", ")} } `:"";return`${t.value}${e}`}function yc(t){if(t.snapshot){let e=t.snapshot,o=t._futureSnapshot;t.snapshot=o,Vt(e.queryParams,o.queryParams)||t.queryParamsSubject.next(o.queryParams),e.fragment!==o.fragment&&t.fragmentSubject.next(o.fragment),Vt(e.params,o.params)||t.paramsSubject.next(o.params),FE(e.url,o.url)||t.urlSubject.next(o.url),Vt(e.data,o.data)||t.dataSubject.next(o.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Bc(t,e){let o=Vt(t.params,e.params)&&UE(t.url,e.url),i=!t.parent!=!e.parent;return o&&!i&&(!t.parent||Bc(t.parent,e.parent))}function Fg(t){return typeof t.title=="string"||t.title===null}var Yc=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=M(Wr),this.location=M(Ti),this.changeDetector=M(Lr),this.environmentInjector=M(Je),this.inputBinder=M(ca,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:n,previousValue:s}=i.name;if(n)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,n){this.activated=i,this._activatedRoute=n,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,n){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=i;let s=this.location,c=i.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,f=new Vc(i,h,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:f,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Li({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ys]});let t=e;return t})(),Vc=class{constructor(e,o,i){this.route=e,this.childContexts=o,this.parent=i}get(e,o){return e===Bi?this.route:e===Wr?this.childContexts:this.parent.get(e,o)}},ca=new V(""),_g=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:n}=i,s=or([n.queryParams,n.params,n.data]).pipe(ct(([u,c,h],f)=>(h=T(T(T({},u),c),h),f===0?R(h):Promise.resolve(h)))).subscribe(u=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(i);return}let c=Bm(n.component);if(!c){this.unsubscribeFromRouteData(i);return}for(let{templateName:h}of c.inputs)i.activatedComponentRef.setInput(h,u[h])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function l0(t,e,o){let i=zr(t,e._root,o?o._root:void 0);return new ra(i,e)}function zr(t,e,o){if(o&&t.shouldReuseRoute(e.value,o.value.snapshot)){let i=o.value;i._futureSnapshot=e.value;let n=c0(t,e,o);return new rt(i,n)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(c=>zr(t,c)),u}}let i=d0(e.value),n=e.children.map(s=>zr(t,s));return new rt(i,n)}}function c0(t,e,o){return e.children.map(i=>{for(let n of o.children)if(t.shouldReuseRoute(i.value,n.value.snapshot))return zr(t,i,n);return zr(t,i)})}function d0(t){return new Bi(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var jg="ngNavigationCancelingError";function Bg(t,e){let{redirectTo:o,navigationBehaviorOptions:i}=Fi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,n=Vg(!1,ot.Redirect);return n.url=o,n.navigationBehaviorOptions=i,n}function Vg(t,e){let o=new Error(`NavigationCancelingError: ${t||""}`);return o[jg]=!0,o.cancellationCode=e,o}function h0(t){return Ug(t)&&Fi(t.url)}function Ug(t){return!!t&&t[jg]}var f0=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ke({type:e,selectors:[["ng-component"]],standalone:!0,features:[xm],decls:1,vars:0,template:function(n,s){n&1&&De(0,"router-outlet")},dependencies:[Yc],encapsulation:2});let t=e;return t})();function p0(t,e){return t.providers&&!t._injector&&(t._injector=ks(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Qc(t){let e=t.children&&t.children.map(Qc),o=e?ye(T({},t),{children:e}):T({},t);return!o.component&&!o.loadComponent&&(e||o.loadChildren)&&o.outlet&&o.outlet!==$&&(o.component=f0),o}function Ut(t){return t.outlet||$}function m0(t,e){let o=t.filter(i=>Ut(i)===e);return o.push(...t.filter(i=>Ut(i)!==e)),o}function qr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let o=e.routeConfig;if(o?._loadedInjector)return o._loadedInjector;if(o?._injector)return o._injector}return null}var g0=(t,e,o,i)=>J(n=>(new Uc(e,n.targetRouterState,n.currentRouterState,o,i).activate(t),n)),Uc=class{constructor(e,o,i,n,s){this.routeReuseStrategy=e,this.futureState=o,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=s}activate(e){let o=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(o,i,e),yc(this.futureState.root),this.activateChildRoutes(o,i,e)}deactivateChildRoutes(e,o,i){let n=ki(o);e.children.forEach(s=>{let u=s.value.outlet;this.deactivateRoutes(s,n[u],i),delete n[u]}),Object.values(n).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,o,i){let n=e.value,s=o?o.value:null;if(n===s)if(n.component){let u=i.getContext(n.outlet);u&&this.deactivateChildRoutes(e,o,u.children)}else this.deactivateChildRoutes(e,o,i);else s&&this.deactivateRouteAndItsChildren(o,i)}deactivateRouteAndItsChildren(e,o){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,o):this.deactivateRouteAndOutlet(e,o)}detachAndStoreRouteSubtree(e,o){let i=o.getContext(e.value.outlet),n=i&&e.value.component?i.children:o,s=ki(e);for(let u of Object.values(s))this.deactivateRouteAndItsChildren(u,n);if(i&&i.outlet){let u=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:c})}}deactivateRouteAndOutlet(e,o){let i=o.getContext(e.value.outlet),n=i&&e.value.component?i.children:o,s=ki(e);for(let u of Object.values(s))this.deactivateRouteAndItsChildren(u,n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,o,i){let n=ki(o);e.children.forEach(s=>{this.activateRoutes(s,n[s.value.outlet],i),this.forwardEvent(new Nc(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kc(e.value.snapshot))}activateRoutes(e,o,i){let n=e.value,s=o?o.value:null;if(yc(n),n===s)if(n.component){let u=i.getOrCreateContext(n.outlet);this.activateChildRoutes(e,o,u.children)}else this.activateChildRoutes(e,o,i);else if(n.component){let u=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let c=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),u.children.onOutletReAttached(c.contexts),u.attachRef=c.componentRef,u.route=c.route.value,u.outlet&&u.outlet.attach(c.componentRef,c.route.value),yc(c.route.value),this.activateChildRoutes(e,null,u.children)}else{let c=qr(n.snapshot);u.attachRef=null,u.route=n,u.injector=c,u.outlet&&u.outlet.activateWith(n,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}},sa=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ni=class{constructor(e,o){this.component=e,this.route=o}};function _0(t,e,o){let i=t._root,n=e?e._root:null;return Ar(i,n,o,[i.value])}function v0(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ui(t,e){let o=Symbol(),i=e.get(t,o);return i===o?typeof t=="function"&&!Uf(t)?t:e.get(t):i}function Ar(t,e,o,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let s=ki(e);return t.children.forEach(u=>{y0(u,s[u.value.outlet],o,i.concat([u.value]),n),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,c])=>Rr(c,o.getContext(u),n)),n}function y0(t,e,o,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,u=e?e.value:null,c=o?o.getContext(t.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){let h=w0(u,s,s.routeConfig.runGuardsAndResolvers);h?n.canActivateChecks.push(new sa(i)):(s.data=u.data,s._resolvedData=u._resolvedData),s.component?Ar(t,e,c?c.children:null,i,n):Ar(t,e,o,i,n),h&&c&&c.outlet&&c.outlet.isActivated&&n.canDeactivateChecks.push(new Ni(c.outlet.component,u))}else u&&Rr(e,c,n),n.canActivateChecks.push(new sa(i)),s.component?Ar(t,null,c?c.children:null,i,n):Ar(t,null,o,i,n);return n}function w0(t,e,o){if(typeof o=="function")return o(t,e);switch(o){case"pathParamsChange":return!Wn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wn(t.url,e.url)||!Vt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bc(t,e)||!Vt(t.queryParams,e.queryParams);case"paramsChange":default:return!Bc(t,e)}}function Rr(t,e,o){let i=ki(t),n=t.value;Object.entries(i).forEach(([s,u])=>{n.component?e?Rr(u,e.children.getContext(s),o):Rr(u,null,o):Rr(u,e,o)}),n.component?e&&e.outlet&&e.outlet.isActivated?o.canDeactivateChecks.push(new Ni(e.outlet.component,n)):o.canDeactivateChecks.push(new Ni(null,n)):o.canDeactivateChecks.push(new Ni(null,n))}function Yr(t){return typeof t=="function"}function D0(t){return typeof t=="boolean"}function C0(t){return t&&Yr(t.canLoad)}function b0(t){return t&&Yr(t.canActivate)}function E0(t){return t&&Yr(t.canActivateChild)}function M0(t){return t&&Yr(t.canDeactivate)}function I0(t){return t&&Yr(t.canMatch)}function Hg(t){return t instanceof Yt||t?.name==="EmptyError"}var qs=Symbol("INITIAL_VALUE");function Vi(){return ct(t=>or(t.map(e=>e.pipe(Qt(1),fu(qs)))).pipe(J(e=>{for(let o of e)if(o!==!0){if(o===qs)return qs;if(o===!1||o instanceof Cn)return o}return!0}),lt(e=>e!==qs),Qt(1)))}function L0(t,e){return we(o=>{let{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:s,canDeactivateChecks:u}}=o;return u.length===0&&s.length===0?R(ye(T({},o),{guardsResult:!0})):x0(u,i,n,t).pipe(we(c=>c&&D0(c)?T0(i,s,t,e):R(c)),J(c=>ye(T({},o),{guardsResult:c})))})}function x0(t,e,o,i){return pe(t).pipe(we(n=>O0(n.component,n.route,o,e,i)),St(n=>n!==!0,!0))}function T0(t,e,o,i){return pe(e).pipe(Nn(n=>fi(P0(n.route.parent,i),S0(n.route,i),k0(t,n.path,o),A0(t,n.route,o))),St(n=>n!==!0,!0))}function S0(t,e){return t!==null&&e&&e(new Oc(t)),R(!0)}function P0(t,e){return t!==null&&e&&e(new Ac(t)),R(!0)}function A0(t,e,o){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return R(!0);let n=i.map(s=>Ro(()=>{let u=qr(e)??o,c=Ui(s,u),h=b0(c)?c.canActivate(e,t):Jt(u,()=>c(e,t));return Mn(h).pipe(St())}));return R(n).pipe(Vi())}function k0(t,e,o){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>v0(u)).filter(u=>u!==null).map(u=>Ro(()=>{let c=u.guards.map(h=>{let f=qr(u.node)??o,m=Ui(h,f),_=E0(m)?m.canActivateChild(i,t):Jt(f,()=>m(i,t));return Mn(_).pipe(St())});return R(c).pipe(Vi())}));return R(s).pipe(Vi())}function O0(t,e,o,i,n){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return R(!0);let u=s.map(c=>{let h=qr(e)??n,f=Ui(c,h),m=M0(f)?f.canDeactivate(t,e,o,i):Jt(h,()=>f(t,e,o,i));return Mn(m).pipe(St())});return R(u).pipe(Vi())}function N0(t,e,o,i){let n=e.canLoad;if(n===void 0||n.length===0)return R(!0);let s=n.map(u=>{let c=Ui(u,t),h=C0(c)?c.canLoad(e,o):Jt(t,()=>c(e,o));return Mn(h)});return R(s).pipe(Vi(),zg(i))}function zg(t){return ou(Te(e=>{if(Fi(e))throw Bg(t,e)}),J(e=>e===!0))}function R0(t,e,o,i){let n=e.canMatch;if(!n||n.length===0)return R(!0);let s=n.map(u=>{let c=Ui(u,t),h=I0(c)?c.canMatch(e,o):Jt(t,()=>c(e,o));return Mn(h)});return R(s).pipe(Vi(),zg(i))}var $r=class{constructor(e){this.segmentGroup=e||null}},aa=class extends Error{constructor(e){super(),this.urlTree=e}};function Ai(t){return di(new $r(t))}function F0(t){return di(new P(4e3,!1))}function j0(t){return di(Vg(!1,ot.GuardRejected))}var Hc=class{constructor(e,o){this.urlSerializer=e,this.urlTree=o}lineralizeSegments(e,o){let i=[],n=o.root;for(;;){if(i=i.concat(n.segments),n.numberOfChildren===0)return R(i);if(n.numberOfChildren>1||!n.children[$])return F0(e.redirectTo);n=n.children[$]}}applyRedirectCommands(e,o,i){let n=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,i);if(o.startsWith("/"))throw new aa(n);return n}applyRedirectCreateUrlTree(e,o,i,n){let s=this.createSegmentGroup(e,o.root,i,n);return new Cn(s,this.createQueryParams(o.queryParams,this.urlTree.queryParams),o.fragment)}createQueryParams(e,o){let i={};return Object.entries(e).forEach(([n,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);i[n]=o[c]}else i[n]=s}),i}createSegmentGroup(e,o,i,n){let s=this.createSegments(e,o.segments,i,n),u={};return Object.entries(o.children).forEach(([c,h])=>{u[c]=this.createSegmentGroup(e,h,i,n)}),new re(s,u)}createSegments(e,o,i,n){return o.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,n):this.findOrReturn(s,i))}findPosParam(e,o,i){let n=i[o.path.substring(1)];if(!n)throw new P(4001,!1);return n}findOrReturn(e,o){let i=0;for(let n of o){if(n.path===e.path)return o.splice(i),n;i++}return e}},zc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function B0(t,e,o,i,n){let s=Kc(t,e,o);return s.matched?(i=p0(e,i),R0(i,e,o,n).pipe(J(u=>u===!0?s:T({},zc)))):R(s)}function Kc(t,e,o){if(e.path==="**")return V0(o);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||o.length>0)?T({},zc):{matched:!0,consumedSegments:[],remainingSegments:o,parameters:{},positionalParamSegments:{}};let n=(e.matcher||RE)(o,t,e);if(!n)return T({},zc);let s={};Object.entries(n.posParams??{}).forEach(([c,h])=>{s[c]=h.path});let u=n.consumed.length>0?T(T({},s),n.consumed[n.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:n.consumed,remainingSegments:o.slice(n.consumed.length),parameters:u,positionalParamSegments:n.posParams??{}}}function V0(t){return{matched:!0,parameters:t.length>0?Cg(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function vg(t,e,o,i){return o.length>0&&z0(t,o,i)?{segmentGroup:new re(e,H0(i,new re(o,t.children))),slicedSegments:[]}:o.length===0&&$0(t,o,i)?{segmentGroup:new re(t.segments,U0(t,o,i,t.children)),slicedSegments:o}:{segmentGroup:new re(t.segments,t.children),slicedSegments:o}}function U0(t,e,o,i){let n={};for(let s of o)if(da(t,e,s)&&!i[Ut(s)]){let u=new re([],{});n[Ut(s)]=u}return T(T({},i),n)}function H0(t,e){let o={};o[$]=e;for(let i of t)if(i.path===""&&Ut(i)!==$){let n=new re([],{});o[Ut(i)]=n}return o}function z0(t,e,o){return o.some(i=>da(t,e,i)&&Ut(i)!==$)}function $0(t,e,o){return o.some(i=>da(t,e,i))}function da(t,e,o){return(t.hasChildren()||e.length>0)&&o.pathMatch==="full"?!1:o.path===""}function G0(t,e,o,i){return Ut(t)!==i&&(i===$||!da(e,o,t))?!1:Kc(e,t,o).matched}function Z0(t,e,o){return e.length===0&&!t.children[o]}var $c=class{};function W0(t,e,o,i,n,s,u="emptyOnly"){return new Gc(t,e,o,i,n,u,s).recognize()}var q0=31,Gc=class{constructor(e,o,i,n,s,u,c){this.injector=e,this.configLoader=o,this.rootComponentType=i,this.config=n,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=c,this.applyRedirects=new Hc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=vg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(o=>{let i=new Hr([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,{},$,this.rootComponentType,null,{}),n=new rt(i,o),s=new oa("",n),u=t0(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root,null),{state:s,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,$).pipe(fn(i=>{if(i instanceof aa)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof $r?this.noMatchError(i):i}))}inheritParamsAndData(e,o){let i=e.value,n=Wc(i,o,this.paramsInheritanceStrategy);i.params=Object.freeze(n.params),i.data=Object.freeze(n.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,o,i,n){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,o,i):this.processSegment(e,o,i,i.segments,n,!0).pipe(J(s=>s instanceof rt?[s]:[]))}processChildren(e,o,i){let n=[];for(let s of Object.keys(i.children))s==="primary"?n.unshift(s):n.push(s);return pe(n).pipe(Nn(s=>{let u=i.children[s],c=m0(o,s);return this.processSegmentGroup(e,c,u,s)}),hu((s,u)=>(s.push(...u),s)),pn(null),du(),we(s=>{if(s===null)return Ai(i);let u=$g(s);return Y0(u),R(u)}))}processSegment(e,o,i,n,s,u){return pe(o).pipe(Nn(c=>this.processSegmentAgainstRoute(c._injector??e,o,c,i,n,s,u).pipe(fn(h=>{if(h instanceof $r)return R(null);throw h}))),St(c=>!!c),fn(c=>{if(Hg(c))return Z0(i,n,s)?R(new $c):Ai(i);throw c}))}processSegmentAgainstRoute(e,o,i,n,s,u,c){return G0(i,n,s,u)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,n,i,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,n,o,i,s,u):Ai(n):Ai(n)}expandSegmentAgainstRouteUsingRedirect(e,o,i,n,s,u){let{matched:c,consumedSegments:h,positionalParamSegments:f,remainingSegments:m}=Kc(o,n,s);if(!c)return Ai(o);n.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>q0&&(this.allowRedirects=!1));let _=this.applyRedirects.applyRedirectCommands(h,n.redirectTo,f);return this.applyRedirects.lineralizeSegments(n,_).pipe(we(y=>this.processSegment(e,i,o,y.concat(m),u,!1)))}matchSegmentAgainstRoute(e,o,i,n,s){let u=B0(o,i,n,e,this.urlSerializer);return i.path==="**"&&(o.children={}),u.pipe(ct(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,n).pipe(ct(({routes:h})=>{let f=i._loadedInjector??e,{consumedSegments:m,remainingSegments:_,parameters:y}=c,D=new Hr(m,y,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,K0(i),Ut(i),i.component??i._loadedComponent??null,i,X0(i)),{segmentGroup:x,slicedSegments:E}=vg(o,m,_,h);if(E.length===0&&x.hasChildren())return this.processChildren(f,h,x).pipe(J(O=>O===null?null:new rt(D,O)));if(h.length===0&&E.length===0)return R(new rt(D,[]));let z=Ut(i)===s;return this.processSegment(f,h,x,E,z?$:s,!0).pipe(J(O=>new rt(D,O instanceof rt?[O]:[])))}))):Ai(o)))}getChildConfig(e,o,i){return o.children?R({routes:o.children,injector:e}):o.loadChildren?o._loadedRoutes!==void 0?R({routes:o._loadedRoutes,injector:o._loadedInjector}):N0(e,o,i,this.urlSerializer).pipe(we(n=>n?this.configLoader.loadChildren(e,o).pipe(Te(s=>{o._loadedRoutes=s.routes,o._loadedInjector=s.injector})):j0(o))):R({routes:[],injector:e})}};function Y0(t){t.sort((e,o)=>e.value.outlet===$?-1:o.value.outlet===$?1:e.value.outlet.localeCompare(o.value.outlet))}function Q0(t){let e=t.value.routeConfig;return e&&e.path===""}function $g(t){let e=[],o=new Set;for(let i of t){if(!Q0(i)){e.push(i);continue}let n=e.find(s=>i.value.routeConfig===s.value.routeConfig);n!==void 0?(n.children.push(...i.children),o.add(n)):e.push(i)}for(let i of o){let n=$g(i.children);e.push(new rt(i.value,n))}return e.filter(i=>!o.has(i))}function K0(t){return t.data||{}}function X0(t){return t.resolve||{}}function J0(t,e,o,i,n,s){return we(u=>W0(t,e,o,i,u.extractedUrl,n,s).pipe(J(({state:c,tree:h})=>ye(T({},u),{targetSnapshot:c,urlAfterRedirects:h}))))}function eM(t,e){return we(o=>{let{targetSnapshot:i,guards:{canActivateChecks:n}}=o;if(!n.length)return R(o);let s=new Set(n.map(h=>h.route)),u=new Set;for(let h of s)if(!u.has(h))for(let f of Gg(h))u.add(f);let c=0;return pe(u).pipe(Nn(h=>s.has(h)?tM(h,i,t,e):(h.data=Wc(h,h.parent,t).resolve,R(void 0))),Te(()=>c++),pi(1),we(h=>c===u.size?R(o):Ke))})}function Gg(t){let e=t.children.map(o=>Gg(o)).flat();return[t,...e]}function tM(t,e,o,i){let n=t.routeConfig,s=t._resolve;return n?.title!==void 0&&!Fg(n)&&(s[Gr]=n.title),nM(s,t,e,i).pipe(J(u=>(t._resolvedData=u,t.data=Wc(t,t.parent,o).resolve,null)))}function nM(t,e,o,i){let n=Cc(t);if(n.length===0)return R({});let s={};return pe(n).pipe(we(u=>iM(t[u],e,o,i).pipe(St(),Te(c=>{s[u]=c}))),pi(1),cu(s),fn(u=>Hg(u)?Ke:di(u)))}function iM(t,e,o,i){let n=qr(e)??i,s=Ui(t,n),u=s.resolve?s.resolve(e,o):Jt(n,()=>s(e,o));return Mn(u)}function wc(t){return ct(e=>{let o=t(e);return o?pe(o).pipe(J(()=>e)):R(e)})}var Zg=(()=>{let e=class e{buildTitle(i){let n,s=i.root;for(;s!==void 0;)n=this.getResolvedTitleForRoute(s)??n,s=s.children.find(u=>u.outlet===$);return n}getResolvedTitleForRoute(i){return i.data[Gr]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:()=>M(rM),providedIn:"root"});let t=e;return t})(),rM=(()=>{let e=class e extends Zg{constructor(i){super(),this.title=i}updateTitle(i){let n=this.buildTitle(i);n!==void 0&&this.title.setTitle(n)}};e.\u0275fac=function(n){return new(n||e)(N(dg))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qr=new V("",{providedIn:"root",factory:()=>({})}),ua=new V(""),Xc=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(Us)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return R(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let n=Mn(i.loadComponent()).pipe(J(Wg),Te(u=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=u}),sr(()=>{this.componentLoaders.delete(i)})),s=new ci(n,()=>new Re).pipe(li());return this.componentLoaders.set(i,s),s}loadChildren(i,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return R({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let u=oM(n,this.compiler,i,this.onLoadEndListener).pipe(sr(()=>{this.childrenLoaders.delete(n)})),c=new ci(u,()=>new Re).pipe(li());return this.childrenLoaders.set(n,c),c}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oM(t,e,o,i){return Mn(t.loadChildren()).pipe(J(Wg),we(n=>n instanceof yr||Array.isArray(n)?R(n):pe(e.compileModuleAsync(n))),J(n=>{i&&i(t);let s,u,c=!1;return Array.isArray(n)?(u=n,c=!0):(s=n.create(o).injector,u=s.get(ua,[],{optional:!0,self:!0}).flat()),{routes:u.map(Qc),injector:s}}))}function sM(t){return t&&typeof t=="object"&&"default"in t}function Wg(t){return sM(t)?t.default:t}var Jc=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:()=>M(aM),providedIn:"root"});let t=e;return t})(),aM=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qg=new V(""),Yg=new V("");function uM(t,e,o){let i=t.get(Yg),n=t.get(qe);return t.get(ce).runOutsideAngular(()=>{if(!n.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,u=new Promise(f=>{s=f}),c=n.startViewTransition(()=>(s(),lM(t))),{onViewTransitionCreated:h}=i;return h&&Jt(t,()=>h({transition:c,from:e,to:o})),u})}function lM(t){return new Promise(e=>{Ul(e,{injector:t})})}var ed=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re,this.transitionAbortSubject=new Re,this.configLoader=M(Xc),this.environmentInjector=M(Je),this.urlSerializer=M(Zr),this.rootContexts=M(Wr),this.location=M(Pi),this.inputBindingEnabled=M(ca,{optional:!0})!==null,this.titleStrategy=M(Zg),this.options=M(Qr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(Jc),this.createViewTransition=M(qg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let i=s=>this.events.next(new Sc(s)),n=s=>this.events.next(new Pc(s));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let n=++this.navigationId;this.transitions?.next(ye(T(T({},this.transitions.value),i),{id:n}))}setupNavigations(i,n,s){return this.transitions=new xe({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nr,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(lt(u=>u.id!==0),J(u=>ye(T({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),ct(u=>{let c=!1,h=!1;return R(u).pipe(ct(f=>{if(this.navigationId>u.id)return this.cancelNavigationTransition(u,"",ot.SupersededByNewNavigation),Ke;this.currentTransition=u,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?ye(T({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),_=f.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!m&&_!=="reload"){let y="";return this.events.next(new En(f.id,this.urlSerializer.serialize(f.rawUrl),y,ea.IgnoredSameUrlNavigation)),f.resolve(null),Ke}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return R(f).pipe(ct(y=>{let D=this.transitions?.getValue();return this.events.next(new ji(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),D!==this.transitions?.getValue()?Ke:Promise.resolve(y)}),J0(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Te(y=>{u.targetSnapshot=y.targetSnapshot,u.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=ye(T({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let D=new ta(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(D)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:y,extractedUrl:D,source:x,restoredState:E,extras:z}=f,O=new ji(y,this.urlSerializer.serialize(D),x,E);this.events.next(O);let Ce=Ng(this.rootComponentType).snapshot;return this.currentTransition=u=ye(T({},f),{targetSnapshot:Ce,urlAfterRedirects:D,extras:ye(T({},z),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=D,R(u)}else{let y="";return this.events.next(new En(f.id,this.urlSerializer.serialize(f.extractedUrl),y,ea.IgnoredByUrlHandlingStrategy)),f.resolve(null),Ke}}),Te(f=>{let m=new Ic(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),J(f=>(this.currentTransition=u=ye(T({},f),{guards:_0(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),u)),L0(this.environmentInjector,f=>this.events.next(f)),Te(f=>{if(u.guardsResult=f.guardsResult,Fi(f.guardsResult))throw Bg(this.urlSerializer,f.guardsResult);let m=new Lc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(m)}),lt(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",ot.GuardRejected),!1)),wc(f=>{if(f.guards.canActivateChecks.length)return R(f).pipe(Te(m=>{let _=new xc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),ct(m=>{let _=!1;return R(m).pipe(eM(this.paramsInheritanceStrategy,this.environmentInjector),Te({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(m,"",ot.NoDataFromResolver)}}))}),Te(m=>{let _=new Tc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}))}),wc(f=>{let m=_=>{let y=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(_.routeConfig).pipe(Te(D=>{_.component=D}),J(()=>{})));for(let D of _.children)y.push(...m(D));return y};return or(m(f.targetSnapshot.root)).pipe(pn(null),Qt(1))}),wc(()=>this.afterPreactivation()),ct(()=>{let{currentSnapshot:f,targetSnapshot:m}=u,_=this.createViewTransition?.(this.environmentInjector,f.root,m.root);return _?pe(_).pipe(J(()=>u)):R(u)}),J(f=>{let m=l0(i.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=u=ye(T({},f),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,u}),Te(()=>{this.events.next(new Vr)}),g0(this.rootContexts,i.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),Qt(1),Te({next:f=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{c=!0}}),pu(this.transitionAbortSubject.pipe(Te(f=>{throw f}))),sr(()=>{!c&&!h&&this.cancelNavigationTransition(u,"",ot.SupersededByNewNavigation),this.currentTransition?.id===u.id&&(this.currentNavigation=null,this.currentTransition=null)}),fn(f=>{if(h=!0,Ug(f))this.events.next(new bn(u.id,this.urlSerializer.serialize(u.extractedUrl),f.message,f.cancellationCode)),h0(f)?this.events.next(new Ur(f.url)):u.resolve(!1);else{this.events.next(new Br(u.id,this.urlSerializer.serialize(u.extractedUrl),f,u.targetSnapshot??void 0));try{u.resolve(i.errorHandler(f))}catch(m){this.options.resolveNavigationPromiseOnError?u.resolve(!1):u.reject(m)}}return Ke}))}))}cancelNavigationTransition(i,n,s){let u=new bn(i.id,this.urlSerializer.serialize(i.extractedUrl),n,s);this.events.next(u),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cM(t){return t!==Nr}var dM=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:()=>M(hM),providedIn:"root"});let t=e;return t})(),Zc=class{shouldDetach(e){return!1}store(e,o){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,o){return e.routeConfig===o.routeConfig}},hM=(()=>{let e=class e extends Zc{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=bl(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qg=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:()=>M(fM),providedIn:"root"});let t=e;return t})(),fM=(()=>{let e=class e extends Qg{constructor(){super(...arguments),this.location=M(Pi),this.urlSerializer=M(Zr),this.options=M(Qr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(Jc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ng(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(n=>{n.type==="popstate"&&i(n.url,n.state)})}handleRouterEvent(i,n){if(i instanceof ji)this.stateMemento=this.createStateMemento();else if(i instanceof En)this.rawUrlTree=n.initialUrl;else if(i instanceof ta){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(s,n)}}else i instanceof Vr?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):i instanceof bn&&(i.code===ot.GuardRejected||i.code===ot.NoDataFromResolver)?this.restoreHistory(n):i instanceof Br?this.restoreHistory(n,!0):i instanceof an&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,n){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl){let u=this.browserPageId,c=T(T({},n.extras.state),this.generateNgRouterState(n.id,u));this.location.replaceState(s,"",c)}else{let u=T(T({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(s,"",u)}}restoreHistory(i,n=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,u=this.currentPageId-s;u!==0?this.location.historyGo(u):this.currentUrlTree===i.finalUrl&&u===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,n){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:n}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=bl(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(kr||{});function Kg(t,e){t.events.pipe(lt(o=>o instanceof an||o instanceof bn||o instanceof Br||o instanceof En),J(o=>o instanceof an||o instanceof En?kr.COMPLETE:(o instanceof bn?o.code===ot.Redirect||o.code===ot.SupersededByNewNavigation:!1)?kr.REDIRECTING:kr.FAILED),lt(o=>o!==kr.REDIRECTING),Qt(1)).subscribe(()=>{e()})}function pM(t){throw t}var mM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=M(Fs),this.stateManager=M(Qg),this.options=M(Qr,{optional:!0})||{},this.pendingTasks=M(Os),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(ed),this.urlSerializer=M(Zr),this.location=M(Pi),this.urlHandlingStrategy=M(Jc),this._events=new Re,this.errorHandler=this.options.errorHandler||pM,this.navigated=!1,this.routeReuseStrategy=M(dM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(ua,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(ca,{optional:!0}),this.eventsSubscription=new be,this.isNgZoneEnabled=M(ce)instanceof ce&&ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(n=>{try{let s=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(s!==null&&u!==null){if(this.stateManager.handleRouterEvent(n,u),n instanceof bn&&n.code!==ot.Redirect&&n.code!==ot.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof an)this.navigated=!0;else if(n instanceof Ur){let c=this.urlHandlingStrategy.merge(n.url,s.currentRawUrl),h={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||cM(s.source)};this.scheduleNavigation(c,Nr,null,h,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}vM(n)&&this._events.next(n)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",n)},0)})}navigateToSyncWithBrowser(i,n,s){let u={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let f=T({},s);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(u.state=f)}let h=this.parseUrl(i);this.scheduleNavigation(h,n,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Qc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,n={}){let{relativeTo:s,queryParams:u,fragment:c,queryParamsHandling:h,preserveFragment:f}=n,m=f?this.currentUrlTree.fragment:c,_=null;switch(h){case"merge":_=T(T({},this.currentUrlTree.queryParams),u);break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=u||null}_!==null&&(_=this.removeEmptyProps(_));let y;try{let D=s?s.snapshot:this.routerState.snapshot.root;y=Pg(D)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return Ag(y,i,_,m??null)}navigateByUrl(i,n={skipLocationChange:!1}){let s=Fi(i)?i:this.parseUrl(i),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,Nr,null,n)}navigate(i,n={skipLocationChange:!1}){return _M(i),this.navigateByUrl(this.createUrlTree(i,n),n)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,n){let s;if(n===!0?s=T({},mM):n===!1?s=T({},gM):s=n,Fi(i))return fg(this.currentUrlTree,i,s);let u=this.parseUrl(i);return fg(this.currentUrlTree,u,s)}removeEmptyProps(i){return Object.entries(i).reduce((n,[s,u])=>(u!=null&&(n[s]=u),n),{})}scheduleNavigation(i,n,s,u,c){if(this.disposed)return Promise.resolve(!1);let h,f,m;c?(h=c.resolve,f=c.reject,m=c.promise):m=new Promise((y,D)=>{h=y,f=D});let _=this.pendingTasks.add();return Kg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:u,resolve:h,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _M(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function vM(t){return!(t instanceof Vr)&&!(t instanceof Ur)}var la=class{};var yM=(()=>{let e=class e{constructor(i,n,s,u,c){this.router=i,this.injector=s,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(lt(i=>i instanceof an),Nn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,n){let s=[];for(let u of n){u.providers&&!u._injector&&(u._injector=ks(u.providers,i,`Route: ${u.path}`));let c=u._injector??i,h=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&u.canLoad===void 0||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(h,u.children??u._loadedRoutes))}return pe(s).pipe(hi())}preloadConfig(i,n){return this.preloadingStrategy.preload(n,()=>{let s;n.loadChildren&&n.canLoad===void 0?s=this.loader.loadChildren(i,n):s=R(null);let u=s.pipe(we(c=>c===null?R(void 0):(n._loadedRoutes=c.routes,n._loadedInjector=c.injector,this.processRoutes(c.injector??i,c.routes))));if(n.loadComponent&&!n._loadedComponent){let c=this.loader.loadComponent(n);return pe([u,c]).pipe(hi())}else return u})}};e.\u0275fac=function(n){return new(n||e)(N(un),N(Us),N(Je),N(la),N(Xc))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xg=new V(""),wM=(()=>{let e=class e{constructor(i,n,s,u,c={}){this.urlSerializer=i,this.transitions=n,this.viewportScroller=s,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof ji?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof an?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof En&&i.code===ea.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof na&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new na(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(n){lm()},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function DM(t){return t.routerState.root}function Kr(t,e){return{\u0275kind:t,\u0275providers:e}}function CM(){let t=M(Bt);return e=>{let o=t.get(Si);if(e!==o.components[0])return;let i=t.get(un),n=t.get(Jg);t.get(td)===1&&i.initialNavigation(),t.get(e_,null,W.Optional)?.setUpPreloading(),t.get(Xg,null,W.Optional)?.init(),i.resetRootComponentType(o.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Jg=new V("",{factory:()=>new Re}),td=new V("",{providedIn:"root",factory:()=>1});function bM(){return Kr(2,[{provide:td,useValue:0},{provide:Vs,multi:!0,deps:[Bt],useFactory:e=>{let o=e.get(qm,Promise.resolve());return()=>o.then(()=>new Promise(i=>{let n=e.get(un),s=e.get(Jg);Kg(n,()=>{i(!0)}),e.get(ed).afterPreactivation=()=>(i(!0),s.closed?R(void 0):s),n.initialNavigation()}))}}])}function EM(){return Kr(3,[{provide:Vs,multi:!0,useFactory:()=>{let e=M(un);return()=>{e.setUpLocationChangeListener()}}},{provide:td,useValue:2}])}var e_=new V("");function MM(t){return Kr(0,[{provide:e_,useExisting:yM},{provide:la,useExisting:t}])}function IM(){return Kr(8,[_g,{provide:ca,useExisting:_g}])}function LM(t){let e=[{provide:qg,useValue:uM},{provide:Yg,useValue:T({skipNextTransition:!!t?.skipInitialTransition},t)}];return Kr(9,e)}var yg=new V("ROUTER_FORROOT_GUARD"),xM=[Pi,{provide:Zr,useClass:Fr},un,Wr,{provide:Bi,useFactory:DM,deps:[un]},Xc,[]],nd=(()=>{let e=class e{constructor(i){}static forRoot(i,n){return{ngModule:e,providers:[xM,[],{provide:ua,multi:!0,useValue:i},{provide:yg,useFactory:AM,deps:[[un,new fs,new ul]]},{provide:Qr,useValue:n||{}},n?.useHash?SM():PM(),TM(),n?.preloadingStrategy?MM(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?kM(n):[],n?.bindToComponentInputs?IM().\u0275providers:[],n?.enableViewTransitions?LM().\u0275providers:[],OM()]}}static forChild(i){return{ngModule:e,providers:[{provide:ua,multi:!0,useValue:i}]}}};e.\u0275fac=function(n){return new(n||e)(N(yg,8))},e.\u0275mod=tt({type:e}),e.\u0275inj=et({});let t=e;return t})();function TM(){return{provide:Xg,useFactory:()=>{let t=M(tg),e=M(ce),o=M(Qr),i=M(ed),n=M(Zr);return o.scrollOffset&&t.setOffset(o.scrollOffset),new wM(n,i,t,e,o)}}}function SM(){return{provide:Gn,useClass:Qm}}function PM(){return{provide:Gn,useClass:sc}}function AM(t){return"guarded"}function kM(t){return[t.initialNavigation==="disabled"?EM().\u0275providers:[],t.initialNavigation==="enabledBlocking"?bM().\u0275providers:[]]}var wg=new V("");function OM(){return[{provide:wg,useFactory:CM},{provide:Yl,multi:!0,useExisting:wg}]}var ie=yh(i_());(function(t,e,o){function i(n,s){for(;(n=n.parentElement)&&!n.classList.contains(s););return n}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(n,s){this._map=n,this._container=n._container,this._overlayPane=n._panes.overlayPane,this._popupPane=n._panes.popupPane,s&&s.shapeOptions&&(s.shapeOptions=L.Util.extend({},this.options.shapeOptions,s.shapeOptions)),L.setOptions(this,s);var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(L.DomUtil.disableTextSelection(),n.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(n){L.setOptions(this,n)},_fireCreatedEvent:function(n){this._map.fire(L.Draw.Event.CREATED,{layer:n,layerType:this.type})},_cancelDrawing:function(n){n.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(n,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,n,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var n=this._markers.pop(),s=this._poly,u=s.getLatLngs(),c=u.splice(-1,1)[0];this._poly.setLatLngs(u),this._markerGroup.removeLayer(n),s.getLatLngs().length<2&&this._map.removeLayer(s),this._vertexChanged(c,!1)}},addVertex:function(n){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(n))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(n)),this._poly.addLatLng(n),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(n,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var n=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),s=this._poly.newLatLngIntersects(n[n.length-1]);if(!this.options.allowIntersection&&s||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(n){var s=this._map.mouseEventToLayerPoint(n.originalEvent),u=this._map.layerPointToLatLng(s);this._currentLatLng=u,this._updateTooltip(u),this._updateGuide(s),this._mouseMarker.setLatLng(u),L.DomEvent.preventDefault(n.originalEvent)},_vertexChanged:function(n,s){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(n,s),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(n){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(n),this._clickHandled=!0,this._disableNewMarkers();var s=n.originalEvent,u=s.clientX,c=s.clientY;this._startPoint.call(this,u,c)}},_startPoint:function(n,s){this._mouseDownOrigin=L.point(n,s)},_onMouseUp:function(n){var s=n.originalEvent,u=s.clientX,c=s.clientY;this._endPoint.call(this,u,c,n),this._clickHandled=null},_endPoint:function(n,s,u){if(this._mouseDownOrigin){var c=L.point(n,s).distanceTo(this._mouseDownOrigin),h=this._calculateFinishDistance(u.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(u.latlng),this._finishShape()):h<10&&L.Browser.touch?this._finishShape():Math.abs(c)<9*(t.devicePixelRatio||1)&&this.addVertex(u.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(n){var s,u,c=n.originalEvent;!c.touches||!c.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(s=c.touches[0].clientX,u=c.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,s,u),this._endPoint.call(this,s,u,n),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(n){var s;if(this._markers.length>0){var u;if(this.type===L.Draw.Polyline.TYPE)u=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;u=this._markers[0]}var c=this._map.latLngToContainerPoint(u.getLatLng()),h=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),f=this._map.latLngToContainerPoint(h.getLatLng());s=c.distanceTo(f)}else s=1/0;return s},_updateFinishHandler:function(){var n=this._markers.length;n>1&&this._markers[n-1].on("click",this._finishShape,this),n>2&&this._markers[n-2].off("click",this._finishShape,this)},_createMarker:function(n){var s=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(s),s},_updateGuide:function(n){var s=this._markers?this._markers.length:0;s>0&&(n=n||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[s-1].getLatLng()),n))},_updateTooltip:function(n){var s=this._getTooltipText();n&&this._tooltip.updatePosition(n),this._errorShown||this._tooltip.updateContent(s)},_drawGuide:function(n,s){var u,c,h,f=Math.floor(Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2))),m=this.options.guidelineDistance,_=this.options.maxGuideLineLength,y=f>_?f-_:m;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));y<f;y+=this.options.guidelineDistance)u=y/f,c={x:Math.floor(n.x*(1-u)+u*s.x),y:Math.floor(n.y*(1-u)+u*s.y)},h=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),h.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(h,c)},_updateGuideColor:function(n){if(this._guidesContainer)for(var s=0,u=this._guidesContainer.childNodes.length;s<u;s++)this._guidesContainer.childNodes[s].style.backgroundColor=n},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var n,s,u=this.options.showLength;return this._markers.length===0?n={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(s=u?this._getMeasurementString():"",n=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:s}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:s}),n},_updateRunningMeasure:function(n,s){var u,c,h=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(u=h-(s?2:1),c=L.GeometryUtil.isVersion07x()?n.distanceTo(this._markers[u].getLatLng())*(this.options.factor||1):this._map.distance(n,this._markers[u].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=c*(s?1:-1))},_getMeasurementString:function(){var n,s=this._currentLatLng,u=this._markers[this._markers.length-1].getLatLng();return n=L.GeometryUtil.isVersion07x()?u&&s&&s.distanceTo?this._measurementRunningTotal+s.distanceTo(u)*(this.options.factor||1):this._measurementRunningTotal||0:u&&s?this._measurementRunningTotal+this._map.distance(s,u)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(n,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var n=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(n,s){L.Draw.Polyline.prototype.initialize.call(this,n,s),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var n=this._markers.length;n===1&&this._markers[0].on("click",this._finishShape,this),n>2&&(this._markers[n-1].on("dblclick",this._finishShape,this),n>3&&this._markers[n-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var n,s;return this._markers.length===0?n=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(n=L.drawLocal.draw.handlers.polygon.tooltip.cont,s=this._getMeasurementString()):(n=L.drawLocal.draw.handlers.polygon.tooltip.end,s=this._getMeasurementString()),{text:n,subtext:s}},_getMeasurementString:function(){var n=this._area,s="";return n||this.options.showLength?(this.options.showLength&&(s=L.Draw.Polyline.prototype._getMeasurementString.call(this)),n&&(s+="<br>"+L.GeometryUtil.readableArea(n,this.options.metric,this.options.precision)),s):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(n,s){var u;!this.options.allowIntersection&&this.options.showArea&&(u=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(u)),L.Draw.Polyline.prototype._vertexChanged.call(this,n,s)},_cleanUpShape:function(){var n=this._markers.length;n>0&&(this._markers[0].off("click",this._finishShape,this),n>2&&this._markers[n-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(n,s){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,n,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(n){this._isDrawing=!0,this._startLatLng=n.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(n.originalEvent)},_onMouseMove:function(n){var s=n.latlng;this._tooltip.updatePosition(s),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(s))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(n,s){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,s)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(n){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!i(n.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(n){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,n)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,n),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_getTooltipText:function(){var n,s,u,c=L.Draw.SimpleShape.prototype._getTooltipText.call(this),h=this._shape,f=this.options.showArea;return h&&(n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),s=L.GeometryUtil.geodesicArea(n),u=f?L.GeometryUtil.readableArea(s,this.options.metric):""),{text:c.text,subtext:u}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(n,s){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(n){var s=n.latlng;this._tooltip.updatePosition(s),this._mouseMarker.setLatLng(s),this._marker?(s=this._mouseMarker.getLatLng(),this._marker.setLatLng(s)):(this._marker=this._createMarker(s),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(n){return new L.Marker(n,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(n){this._onMouseMove(n),this._onClick()},_fireCreatedEvent:function(){var n=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(n,s){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,s)},_fireCreatedEvent:function(){var n=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)},_createMarker:function(n){return new L.CircleMarker(n,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(n,s){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,s)},_drawShape:function(n){if(L.GeometryUtil.isVersion07x())var s=this._startLatLng.distanceTo(n);else var s=this._map.distance(this._startLatLng,n);this._shape?this._shape.setRadius(s):(this._shape=new L.Circle(this._startLatLng,s,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_onMouseMove:function(n){var s,u=n.latlng,c=this.options.showRadius,h=this.options.metric;if(this._tooltip.updatePosition(u),this._isDrawing){this._drawShape(u),s=this._shape.getRadius().toFixed(1);var f="";c&&(f=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(s,h,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:f})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(n,s){this._marker=n,L.setOptions(this,s)},addHooks:function(){var n=this._marker;n.dragging.enable(),n.on("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},removeHooks:function(){var n=this._marker;n.dragging.disable(),n.off("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},_onDragEnd:function(n){var s=n.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_toggleMarkerHighlight:function(){var n=this._marker._icon;n&&(n.style.display="none",L.DomUtil.hasClass(n,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,-4)):(L.DomUtil.addClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,4)),n.style.display="")},_offsetMarker:function(n,s){var u=parseInt(n.style.marginTop,10)-s,c=parseInt(n.style.marginLeft,10)-s;n.style.marginTop=u+"px",n.style.marginLeft=c+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(n){this.latlngs=[n._latlngs],n._holes&&(this.latlngs=this.latlngs.concat(n._holes)),this._poly=n,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(n){for(var s=0;s<this._verticesHandlers.length;s++)n(this._verticesHandlers[s])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(n){n.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(n){n.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(n){n.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var n=0;n<this.latlngs.length;n++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[n],this._poly.options.poly))},_updateLatLngs:function(n){this.latlngs=[n.layer._latlngs],n.layer._holes&&(this.latlngs=this.latlngs.concat(n.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(n,s,u){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=n,u&&u.drawError&&(u.drawError=L.Util.extend({},this.options.drawError,u.drawError)),this._latlngs=s,L.setOptions(this,u)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var n=this._poly,s=n._path;n instanceof L.Polygon||(n.options.fill=!1,n.options.editing&&(n.options.editing.fill=!1)),s&&n.options.editing&&n.options.editing.className&&(n.options.original.className&&n.options.original.className.split(" ").forEach(function(u){L.DomUtil.removeClass(s,u)}),n.options.editing.className.split(" ").forEach(function(u){L.DomUtil.addClass(s,u)})),n.setStyle(n.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var n=this._poly,s=n._path;s&&n.options.editing&&n.options.editing.className&&(n.options.editing.className.split(" ").forEach(function(u){L.DomUtil.removeClass(s,u)}),n.options.original.className&&n.options.original.className.split(" ").forEach(function(u){L.DomUtil.addClass(s,u)})),n.setStyle(n.options.original),n._map&&(n._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var n,s,u,c,h=this._defaultShape();for(n=0,u=h.length;n<u;n++)c=this._createMarker(h[n],n),c.on("click",this._onMarkerClick,this),c.on("contextmenu",this._onContextMenu,this),this._markers.push(c);var f,m;for(n=0,s=u-1;n<u;s=n++)(n!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[s],m=this._markers[n],this._createMiddleMarker(f,m),this._updatePrevNext(f,m))},_createMarker:function(n,s){var u=new L.Marker.Touch(n,{draggable:!0,icon:this.options.icon});return u._origLatLng=n,u._index=s,u.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(u),u},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var n=this._defaultShape(),s=[].splice.apply(n,arguments);return this._poly._convertLatLngs(n,!0),this._poly.redraw(),s},_removeMarker:function(n){var s=n._index;this._markerGroup.removeLayer(n),this._markers.splice(s,1),this._spliceLatLngs(s,1),this._updateIndexes(s,-1),n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(n){var s=n.target,u=this._poly,c=L.LatLngUtil.cloneLatLng(s._origLatLng);if(L.extend(s._origLatLng,s._latlng),u.options.poly){var h=u._map._editTooltip;if(!u.options.poly.allowIntersection&&u.intersects()){L.extend(s._origLatLng,c),s.setLatLng(c);var f=u.options.color;u.setStyle({color:this.options.drawError.color}),h&&h.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){u.setStyle({color:f}),h&&h.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}s._middleLeft&&s._middleLeft.setLatLng(this._getMiddleLatLng(s._prev,s)),s._middleRight&&s._middleRight.setLatLng(this._getMiddleLatLng(s,s._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var m=this._poly.getLatLngs();this._poly._convertLatLngs(m,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(n){var s=L.Polygon&&this._poly instanceof L.Polygon?4:3,u=n.target;this._defaultShape().length<s||(this._removeMarker(u),this._updatePrevNext(u._prev,u._next),u._middleLeft&&this._markerGroup.removeLayer(u._middleLeft),u._middleRight&&this._markerGroup.removeLayer(u._middleRight),u._prev&&u._next?this._createMiddleMarker(u._prev,u._next):u._prev?u._next||(u._prev._middleRight=null):u._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(n){var s=n.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:s,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(n){var s=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),u=this._map.layerPointToLatLng(s),c=n.target;L.extend(c._origLatLng,u),c._middleLeft&&c._middleLeft.setLatLng(this._getMiddleLatLng(c._prev,c)),c._middleRight&&c._middleRight.setLatLng(this._getMiddleLatLng(c,c._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(n,s){this._markerGroup.eachLayer(function(u){u._index>n&&(u._index+=s)})},_createMiddleMarker:function(n,s){var u,c,h,f=this._getMiddleLatLng(n,s),m=this._createMarker(f);m.setOpacity(.6),n._middleRight=s._middleLeft=m,c=function(){m.off("touchmove",c,this);var _=s._index;m._index=_,m.off("click",u,this).on("click",this._onMarkerClick,this),f.lat=m.getLatLng().lat,f.lng=m.getLatLng().lng,this._spliceLatLngs(_,0,f),this._markers.splice(_,0,m),m.setOpacity(1),this._updateIndexes(_,1),s._index++,this._updatePrevNext(n,m),this._updatePrevNext(m,s),this._poly.fire("editstart")},h=function(){m.off("dragstart",c,this),m.off("dragend",h,this),m.off("touchmove",c,this),this._createMiddleMarker(n,m),this._createMiddleMarker(m,s)},u=function(){c.call(this),h.call(this),this._fireEdit()},m.on("click",u,this).on("dragstart",c,this).on("dragend",h,this).on("touchmove",c,this),this._markerGroup.addLayer(m)},_updatePrevNext:function(n,s){n&&(n._next=s),s&&(s._prev=n)},_getMiddleLatLng:function(n,s){var u=this._poly._map,c=u.project(n.getLatLng()),h=u.project(s.getLatLng());return u.unproject(c._add(h)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(n,s){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=n,L.Util.setOptions(this,s)},addHooks:function(){var n=this._shape;this._shape._map&&(this._map=this._shape._map,n.setStyle(n.options.editing),n._map&&(this._map=n._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var n=this._shape;if(n.setStyle(n.options.original),n._map){this._unbindMarker(this._moveMarker);for(var s=0,u=this._resizeMarkers.length;s<u;s++)this._unbindMarker(this._resizeMarkers[s]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(n,s){var u=new L.Marker.Touch(n,{draggable:!0,icon:s,zIndexOffset:10});return this._bindMarker(u),this._markerGroup.addLayer(u),u},_bindMarker:function(n){n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(n){n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(n){n.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(n){var s=n.target,u=s.getLatLng();s===this._moveMarker?this._move(u):this._resize(u),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(n){n.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(n){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n),typeof this._getCorners=="function"){var s=this._getCorners(),u=n.target,c=u._cornerIndex;u.setOpacity(0),this._oppositeCorner=s[(c+2)%4],this._toggleCornerMarkers(0,c)}this._shape.fire("editstart")},_onTouchMove:function(n){var s=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),u=this._map.layerPointToLatLng(s);return n.target===this._moveMarker?this._move(u):this._resize(u),this._shape.redraw(),!1},_onTouchEnd:function(n){n.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getBounds(),s=n.getCenter();this._moveMarker=this._createMarker(s,this.options.moveIcon)},_createResizeMarker:function(){var n=this._getCorners();this._resizeMarkers=[];for(var s=0,u=n.length;s<u;s++)this._resizeMarkers.push(this._createMarker(n[s],this.options.resizeIcon)),this._resizeMarkers[s]._cornerIndex=s},_onMarkerDragStart:function(n){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n);var s=this._getCorners(),u=n.target,c=u._cornerIndex;this._oppositeCorner=s[(c+2)%4],this._toggleCornerMarkers(0,c)},_onMarkerDragEnd:function(n){var s,u,c=n.target;c===this._moveMarker&&(s=this._shape.getBounds(),u=s.getCenter(),c.setLatLng(u)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,n)},_move:function(n){for(var s,u=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),c=this._shape.getBounds(),h=c.getCenter(),f=[],m=0,_=u.length;m<_;m++)s=[u[m].lat-h.lat,u[m].lng-h.lng],f.push([n.lat+s[0],n.lng+s[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(n){var s;this._shape.setBounds(L.latLngBounds(n,this._oppositeCorner)),s=this._shape.getBounds(),this._moveMarker.setLatLng(s.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var n=this._shape.getBounds();return[n.getNorthWest(),n.getNorthEast(),n.getSouthEast(),n.getSouthWest()]},_toggleCornerMarkers:function(n){for(var s=0,u=this._resizeMarkers.length;s<u;s++)this._resizeMarkers[s].setOpacity(n)},_repositionCornerMarkers:function(){for(var n=this._getCorners(),s=0,u=this._resizeMarkers.length;s<u;s++)this._resizeMarkers[s].setLatLng(n[s])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getLatLng();this._moveMarker=this._createMarker(n,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(n){if(this._resizeMarkers.length){var s=this._getResizeMarkerPoint(n);this._resizeMarkers[0].setLatLng(s)}this._shape.setLatLng(n),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var n=this._shape.getLatLng(),s=this._getResizeMarkerPoint(n);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(s,this.options.resizeIcon))},_getResizeMarkerPoint:function(n){var s=this._shape._radius*Math.cos(Math.PI/4),u=this._map.project(n);return this._map.unproject([u.x+s,u.y-s])},_resize:function(n){var s=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=s.distanceTo(n):radius=this._map.distance(s,n),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(n,s){var u={};if(n.touches!==void 0){if(!n.touches.length)return;u=n.touches[0]}else if(n.pointerType!=="touch"||(u=n,!this._filterClick(n)))return;var c=this._map.mouseEventToContainerPoint(u),h=this._map.mouseEventToLayerPoint(u),f=this._map.layerPointToLatLng(h);this._map.fire(s,{latlng:f,layerPoint:h,containerPoint:c,pageX:u.pageX,pageY:u.pageY,originalEvent:n})},_filterClick:function(n){var s=n.timeStamp||n.originalEvent.timeStamp,u=L.DomEvent._lastClick&&s-L.DomEvent._lastClick;return u&&u>100&&u<500||n.target._simulatedClick&&!n._simulated?(L.DomEvent.stop(n),!1):(L.DomEvent._lastClick=s,!0)},_onTouchStart:function(n){this._map._loaded&&this._touchEvent(n,"touchstart")},_onTouchEnd:function(n){this._map._loaded&&this._touchEvent(n,"touchend")},_onTouchCancel:function(n){if(this._map._loaded){var s="touchcancel";this._detectIE()&&(s="pointercancel"),this._touchEvent(n,s)}},_onTouchLeave:function(n){this._map._loaded&&this._touchEvent(n,"touchleave")},_onTouchMove:function(n){this._map._loaded&&this._touchEvent(n,"touchmove")},_detectIE:function(){var n=t.navigator.userAgent,s=n.indexOf("MSIE ");if(s>0)return parseInt(n.substring(s+5,n.indexOf(".",s)),10);if(n.indexOf("Trident/")>0){var u=n.indexOf("rv:");return parseInt(n.substring(u+3,n.indexOf(".",u)),10)}var c=n.indexOf("Edge/");return c>0&&parseInt(n.substring(c+5,n.indexOf(".",c)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var n=this._icon,s=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?s.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):s.concat(["touchcancel"]),L.DomUtil.addClass(n,"leaflet-clickable"),L.DomEvent.on(n,"click",this._onMouseClick,this),L.DomEvent.on(n,"keypress",this._onKeyPress,this);for(var u=0;u<s.length;u++)L.DomEvent.on(n,s[u],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var n=t.navigator.userAgent,s=n.indexOf("MSIE ");if(s>0)return parseInt(n.substring(s+5,n.indexOf(".",s)),10);if(n.indexOf("Trident/")>0){var u=n.indexOf("rv:");return parseInt(n.substring(u+3,n.indexOf(".",u)),10)}var c=n.indexOf("Edge/");return c>0&&parseInt(n.substring(c+5,n.indexOf(".",c)),10)}}),L.LatLngUtil={cloneLatLngs:function(n){for(var s=[],u=0,c=n.length;u<c;u++)Array.isArray(n[u])?s.push(L.LatLngUtil.cloneLatLngs(n[u])):s.push(this.cloneLatLng(n[u]));return s},cloneLatLng:function(n){return L.latLng(n.lat,n.lng)}},function(){var n={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(s){var u,c,h=s.length,f=0,m=Math.PI/180;if(h>2){for(var _=0;_<h;_++)u=s[_],c=s[(_+1)%h],f+=(c.lng-u.lng)*m*(2+Math.sin(u.lat*m)+Math.sin(c.lat*m));f=6378137*f*6378137/2}return Math.abs(f)},formattedNumber:function(s,u){var c=parseFloat(s).toFixed(u),h=L.drawLocal.format&&L.drawLocal.format.numeric,f=h&&h.delimiters,m=f&&f.thousands,_=f&&f.decimal;if(m||_){var y=c.split(".");c=m?y[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m):y[0],_=_||".",y.length>1&&(c=c+_+y[1])}return c},readableArea:function(s,u,m){var h,f,m=L.Util.extend({},n,m);return u?(f=["ha","m"],type=typeof u,type==="string"?f=[u]:type!=="boolean"&&(f=u),h=s>=1e6&&f.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*s,m.km)+" km\xB2":s>=1e4&&f.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*s,m.ha)+" ha":L.GeometryUtil.formattedNumber(s,m.m)+" m\xB2"):(s/=.836127,h=s>=3097600?L.GeometryUtil.formattedNumber(s/3097600,m.mi)+" mi\xB2":s>=4840?L.GeometryUtil.formattedNumber(s/4840,m.ac)+" acres":L.GeometryUtil.formattedNumber(s,m.yd)+" yd\xB2"),h},readableDistance:function(s,u,c,h,_){var m,_=L.Util.extend({},n,_);switch(u?typeof u=="string"?u:"metric":c?"feet":h?"nauticalMile":"yards"){case"metric":m=s>1e3?L.GeometryUtil.formattedNumber(s/1e3,_.km)+" km":L.GeometryUtil.formattedNumber(s,_.m)+" m";break;case"feet":s*=3.28083,m=L.GeometryUtil.formattedNumber(s,_.ft)+" ft";break;case"nauticalMile":s*=.53996,m=L.GeometryUtil.formattedNumber(s/1e3,_.nm)+" nm";break;case"yards":default:s*=1.09361,m=s>1760?L.GeometryUtil.formattedNumber(s/1760,_.mi)+" miles":L.GeometryUtil.formattedNumber(s,_.yd)+" yd"}return m},isVersion07x:function(){var s=L.version.split(".");return parseInt(s[0],10)===0&&parseInt(s[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(n,s,u,c){return this._checkCounterclockwise(n,u,c)!==this._checkCounterclockwise(s,u,c)&&this._checkCounterclockwise(n,s,u)!==this._checkCounterclockwise(n,s,c)},_checkCounterclockwise:function(n,s,u){return(u.y-n.y)*(s.x-n.x)>(s.y-n.y)*(u.x-n.x)}}),L.Polyline.include({intersects:function(){var n,s,u,c=this._getProjectedPoints(),h=c?c.length:0;if(this._tooFewPointsForIntersection())return!1;for(n=h-1;n>=3;n--)if(s=c[n-1],u=c[n],this._lineSegmentsIntersectsRange(s,u,n-2))return!0;return!1},newLatLngIntersects:function(n,s){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(n),s)},newPointIntersects:function(n,s){var u=this._getProjectedPoints(),c=u?u.length:0,h=u?u[c-1]:null,f=c-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(h,n,f,s?1:0)},_tooFewPointsForIntersection:function(n){var s=this._getProjectedPoints(),u=s?s.length:0;return u+=n||0,!s||u<=3},_lineSegmentsIntersectsRange:function(n,s,u,c){var h,f,m=this._getProjectedPoints();c=c||0;for(var _=u;_>c;_--)if(h=m[_-1],f=m[_],L.LineUtil.segmentsIntersect(n,s,h,f))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var n=[],s=this._defaultShape(),u=0;u<s.length;u++)n.push(this._map.latLngToLayerPoint(s[u]));return n}}),L.Polygon.include({intersects:function(){var n,s,u,c,h=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(n=h.length,s=h[0],u=h[n-1],c=n-2,this._lineSegmentsIntersectsRange(u,s,c,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(n){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,n);var s;this._toolbars={},L.DrawToolbar&&this.options.draw&&(s=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=s,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(s=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=s,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(n){var s,u=L.DomUtil.create("div","leaflet-draw"),c=!1;for(var h in this._toolbars)this._toolbars.hasOwnProperty(h)&&(s=this._toolbars[h].addToolbar(n))&&(c||(L.DomUtil.hasClass(s,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(s.childNodes[0],"leaflet-draw-toolbar-top"),c=!0),u.appendChild(s));return u},onRemove:function(){for(var n in this._toolbars)this._toolbars.hasOwnProperty(n)&&this._toolbars[n].removeToolbar()},setDrawingOptions:function(n){for(var s in this._toolbars)this._toolbars[s]instanceof L.DrawToolbar&&this._toolbars[s].setOptions(n)},_toolbarEnabled:function(n){var s=n.target;for(var u in this._toolbars)this._toolbars[u]!==s&&this._toolbars[u].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(n){L.setOptions(this,n),this._modes={},this._actionButtons=[],this._activeMode=null;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(n){var s,u=L.DomUtil.create("div","leaflet-draw-section"),c=0,h=this._toolbarClass||"",f=this.getModeHandlers(n);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=n,s=0;s<f.length;s++)f[s].enabled&&this._initModeHandler(f[s].handler,this._toolbarContainer,c++,h,f[s].title);if(c)return this._lastButtonIndex=--c,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),u.appendChild(this._toolbarContainer),u.appendChild(this._actionsContainer),u},removeToolbar:function(){for(var n in this._modes)this._modes.hasOwnProperty(n)&&(this._disposeButton(this._modes[n].button,this._modes[n].handler.enable,this._modes[n].handler),this._modes[n].handler.disable(),this._modes[n].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var s=0,u=this._actionButtons.length;s<u;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(n,s,u,c,h){var f=n.type;this._modes[f]={},this._modes[f].handler=n,this._modes[f].button=this._createButton({type:f,title:h,className:c+"-"+f,container:s,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=u,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(n){var s=L.DomUtil.create("a",n.className||"",n.container),u=L.DomUtil.create("span","sr-only",n.container);s.href="#",s.appendChild(u),n.title&&(s.title=n.title,u.innerHTML=n.title),n.text&&(s.innerHTML=n.text,u.innerHTML=n.text);var c=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(s,"click",L.DomEvent.stopPropagation).on(s,"mousedown",L.DomEvent.stopPropagation).on(s,"dblclick",L.DomEvent.stopPropagation).on(s,"touchstart",L.DomEvent.stopPropagation).on(s,"click",L.DomEvent.preventDefault).on(s,c,n.callback,n.context),s},_disposeButton:function(n,s){var u=this._detectIOS()?"touchstart":"click";L.DomEvent.off(n,"click",L.DomEvent.stopPropagation).off(n,"mousedown",L.DomEvent.stopPropagation).off(n,"dblclick",L.DomEvent.stopPropagation).off(n,"touchstart",L.DomEvent.stopPropagation).off(n,"click",L.DomEvent.preventDefault).off(n,u,s)},_handlerActivated:function(n){this.disable(),this._activeMode=this._modes[n.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(n){var s,u,c,h,f=this._actionsContainer,m=this.getActions(n),_=m.length;for(u=0,c=this._actionButtons.length;u<c;u++)this._disposeButton(this._actionButtons[u].button,this._actionButtons[u].callback);for(this._actionButtons=[];f.firstChild;)f.removeChild(f.firstChild);for(var y=0;y<_;y++)"enabled"in m[y]&&!m[y].enabled||(s=L.DomUtil.create("li","",f),h=this._createButton({title:m[y].title,text:m[y].text,container:s,callback:m[y].callback,context:m[y].context}),this._actionButtons.push({button:h,callback:m[y].callback}))},_showActionsToolbar:function(){var n=this._activeMode.buttonIndex,s=this._lastButtonIndex,u=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=u+"px",n===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),n===s&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(n){this._map=n,this._popupPane=n._panes.popupPane,this._visible=!1,this._container=n.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(n){return this._container?(n.subtext=n.subtext||"",n.subtext.length!==0||this._singleLineLabel?n.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(n.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+n.subtext+"</span><br />":"")+"<span>"+n.text+"</span>",n.text||n.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(n){var s=this._map.latLngToLayerPoint(n),u=this._container;return this._container&&(this._visible&&(u.style.visibility="inherit"),L.DomUtil.setPosition(u,s)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(n){for(var s in this.options)this.options.hasOwnProperty(s)&&n[s]&&(n[s]=L.extend({},this.options[s],n[s]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,n)},getModeHandlers:function(n){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(n,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(n,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(n,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(n,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(n,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(n,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(n){return[{enabled:n.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:n.completeShape,context:n},{enabled:n.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:n.deleteLastVertex,context:n},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(n){L.setOptions(this,n);for(var s in this._modes)this._modes.hasOwnProperty(s)&&n.hasOwnProperty(s)&&this._modes[s].handler.setOptions(n[s])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(n){n.edit&&(n.edit.selectedPathOptions===void 0&&(n.edit.selectedPathOptions=this.options.edit.selectedPathOptions),n.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,n.edit.selectedPathOptions)),n.remove&&(n.remove=L.extend({},this.options.remove,n.remove)),n.poly&&(n.poly=L.extend({},this.options.poly,n.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,n),this._selectedFeatureCount=0},getModeHandlers:function(n){var s=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(n,{featureGroup:s,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(n,{featureGroup:s}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(n){var s=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return n.removeAllLayers&&s.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),s},addToolbar:function(n){var s=L.Toolbar.prototype.addToolbar.call(this,n);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),s},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var n,s=this.options.featureGroup,u=s.getLayers().length!==0;this.options.edit&&(n=this._modes[L.EditToolbar.Edit.TYPE].button,u?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",u?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(n=this._modes[L.EditToolbar.Delete.TYPE].button,u?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",u?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(n,s){if(L.Handler.prototype.initialize.call(this,n),L.setOptions(this,s),this._featureGroup=s.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),n._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(n){this._revertLayer(n)},this)},save:function(){var n=new L.LayerGroup;this._featureGroup.eachLayer(function(s){s.edited&&(n.addLayer(s),s.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:n})},_backupLayer:function(n){var s=L.Util.stamp(n);this._uneditedLayerProps[s]||(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?this._uneditedLayerProps[s]={latlngs:L.LatLngUtil.cloneLatLngs(n.getLatLngs())}:n instanceof L.Circle?this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng()),radius:n.getRadius()}:(n instanceof L.Marker||n instanceof L.CircleMarker)&&(this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(n){var s=L.Util.stamp(n);n.edited=!1,this._uneditedLayerProps.hasOwnProperty(s)&&(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?n.setLatLngs(this._uneditedLayerProps[s].latlngs):n instanceof L.Circle?(n.setLatLng(this._uneditedLayerProps[s].latlng),n.setRadius(this._uneditedLayerProps[s].radius)):(n instanceof L.Marker||n instanceof L.CircleMarker)&&n.setLatLng(this._uneditedLayerProps[s].latlng),n.fire("revert-edited",{layer:n}))},_enableLayerEdit:function(n){var s,u,c=n.layer||n.target||n;this._backupLayer(c),this.options.poly&&(u=L.Util.extend({},this.options.poly),c.options.poly=u),this.options.selectedPathOptions&&(s=L.Util.extend({},this.options.selectedPathOptions),s.maintainColor&&(s.color=c.options.color,s.fillColor=c.options.fillColor),c.options.original=L.extend({},c.options),c.options.editing=s),c instanceof L.Marker?(c.editing&&c.editing.enable(),c.dragging.enable(),c.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):c.editing.enable()},_disableLayerEdit:function(n){var s=n.layer||n.target||n;s.edited=!1,s.editing&&s.editing.disable(),delete s.options.editing,delete s.options.original,this._selectedPathOptions&&(s instanceof L.Marker?this._toggleMarkerHighlight(s):(s.setStyle(s.options.previousOptions),delete s.options.previousOptions)),s instanceof L.Marker?(s.dragging.disable(),s.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):s.editing.disable()},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_onMarkerDragEnd:function(n){var s=n.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_onTouchMove:function(n){var s=n.originalEvent.changedTouches[0],u=this._map.mouseEventToLayerPoint(s),c=this._map.layerPointToLatLng(u);n.target.setLatLng(c)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(n,s){if(L.Handler.prototype.initialize.call(this,n),L.Util.setOptions(this,s),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var u=L.version.split(".");parseInt(u[0],10)===1&&parseInt(u[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(n){this._deletableLayers.addLayer(n),n.fire("revert-deleted",{layer:n})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(n){this._removeLayer({layer:n})},this),this.save()},_enableLayerDelete:function(n){(n.layer||n.target||n).on("click",this._removeLayer,this)},_disableLayerDelete:function(n){var s=n.layer||n.target||n;s.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(s)},_removeLayer:function(n){var s=n.layer||n.target||n;this._deletableLayers.removeLayer(s),this._deletedLayers.addLayer(s),s.fire("deleted")},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var YA=yh(o_());ie.Icon.Default.imagePath="assets/";var In=(()=>{let e=class e{constructor(){this.config={addDrawingTool:!1,addOnClick:!1,addDefaultmarker:!1,addDefaultLayer:!0,addWmslayers:!1,addMarkerClusters:!1,useUSACenter:!1},this.popup=ie.popup()}ngAfterViewInit(){this.initMap()}initMap(){let i=this.config?.useUSACenter?[39.742043,-104.991531]:[60.45451,22.264824];this.map=ie.map("map",{center:i,zoom:6}),ie.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:3,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map),this.config?.addDefaultmarker&&this.addMyLocationMarker(),this.config?.addOnClick&&this.addOnClick(),this.config?.addDrawingTool&&this.editMapTools(),this.config?.addWmslayers&&this.addWmsLayers(),this.config?.addMarkerClusters&&this.addMarkerClusters()}addMyLocationMarker(){ie.marker([60.45451,22.264824]).addTo(this.map).bindPopup("I current live on this city.").openPopup()}addOnClick(){this.map.on("click",i=>{this.popup.setLatLng(i.latlng).setContent("You clicked the map at "+i.latlng.toString()).openOn(this.map)})}editMapTools(){let i=new ie.FeatureGroup;this.map.addLayer(i);let n=new ie.FeatureGroup;ie.marker([60.45451,22.264824]).bindPopup("<b>Hello world!</b><br>I am a popup.").addTo(n),ie.marker([60.45451,23.264824]).bindPopup("<b>Hello world!</b><br>I am a popup.").addTo(n),ie.marker([60.45451,24.264824]).bindPopup("<b>Hello world!</b><br>I am a popup.").addTo(n),this.map.addLayer(n);let s=new ie.Control.Draw({edit:{featureGroup:n}});this.map.addControl(s),this.map.on("draw:created",u=>{var c=u.layerType,h=u.layer;c==="marker"&&h.bindPopup("A popup!"),n.addLayer(h)})}addWmsLayers(){let i={OpenSteetMap:ie.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:3,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),Clouds:ie.tileLayer.wms("https://tile.openweathermap.org/map/clouds_new/{z}/{x}/{y}.png?appid=88d7ef27b3134a995fe787193e9cda72",{layers:"clouds_new"}),Precipitation:ie.tileLayer.wms("https://tile.openweathermap.org/map/precipitation_new/{z}/{x}/{y}.png?appid=88d7ef27b3134a995fe787193e9cda72",{layers:"precipitation_new"}),WindSpeed:ie.tileLayer.wms("https://tile.openweathermap.org/map/wind_new/{z}/{x}/{y}.png?appid=88d7ef27b3134a995fe787193e9cda72",{layers:"wind_new"}),Temperature:ie.tileLayer.wms("https://tile.openweathermap.org/map/temp_new/{z}/{x}/{y}.png?appid=88d7ef27b3134a995fe787193e9cda72",{layers:"temp_new"}),Topography:ie.tileLayer.wms("http://ows.mundialis.de/services/service?",{layers:"TOPO-WMS"}),Places:ie.tileLayer.wms("http://ows.mundialis.de/services/service?",{layers:"OSM-Overlay-WMS"}),"Topography, then places":ie.tileLayer.wms("http://ows.mundialis.de/services/service?",{layers:"TOPO-WMS,OSM-Overlay-WMS"}),"Places, then topography":ie.tileLayer.wms("http://ows.mundialis.de/services/service?",{layers:"OSM-Overlay-WMS,TOPO-WMS"})};ie.control.layers(i).addTo(this.map),i.Temperature.addTo(this.map)}addMarkerClusters(){fetch("https://raw.githubusercontent.com/geodav-tech/open-source-web-mapping-workshop/master/demos/data/climbs.geojson").then(i=>{if(!i.ok)throw new Error("Network response was not ok");return i.json()}).then(i=>{var n=new window.L.MarkerClusterGroup,s=ie.geoJson(i,{onEachFeature:function(u,c){c.bindPopup(u.properties.Name)}});n.addLayer(s),this.map.addLayer(n)})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ke({type:e,selectors:[["app-map"]],inputs:{config:"config"},decls:3,vars:0,consts:[[1,"map-container"],[1,"map-frame"],["id","map"]],template:function(n,s){n&1&&(Be(0,"div",0)(1,"div",1),De(2,"div",2),nt()())},styles:[".map-container[_ngcontent-%COMP%]{position:relative;inset:0;margin:30px;height:90vh}.map-frame[_ngcontent-%COMP%]{border:2px solid black;height:100%}#map[_ngcontent-%COMP%]{height:100%}"]});let t=e;return t})();var id=(()=>{let e=class e{constructor(){this.mapConfig={addDrawingTool:!1,addOnClick:!0,addDefaultmarker:!0}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ke({type:e,selectors:[["app-simple-map"]],decls:2,vars:1,consts:[[3,"config"]],template:function(n,s){n&1&&(rn(0),De(1,"app-map",0),on()),n&2&&(We(),je("config",s.mapConfig))},dependencies:[In]});let t=e;return t})();var s_=(()=>{let e=class e{constructor(){this.mapConfig={addDrawingTool:!0,addOnClick:!1,addDefaultmarker:!1}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ke({type:e,selectors:[["app-map-tools"]],decls:2,vars:1,consts:[[3,"config"]],template:function(n,s){n&1&&(rn(0),De(1,"app-map",0),on()),n&2&&(We(),je("config",s.mapConfig))},dependencies:[In]});let t=e;return t})();var a_=(()=>{let e=class e{constructor(){this.mapConfig={addDrawingTool:!0,addOnClick:!1,addDefaultmarker:!1,addDefaultLayer:!1,addWmslayers:!0}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ke({type:e,selectors:[["app-map-layers"]],decls:2,vars:1,consts:[[3,"config"]],template:function(n,s){n&1&&(rn(0),De(1,"app-map",0),on()),n&2&&(We(),je("config",s.mapConfig))},dependencies:[In]});let t=e;return t})();var u_=(()=>{let e=class e{constructor(){this.mapConfig={addDrawingTool:!0,addOnClick:!1,addDefaultmarker:!1,addDefaultLayer:!1,addWmslayers:!1,addMarkerClusters:!0,useUSACenter:!0}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ke({type:e,selectors:[["app-map-clusters"]],decls:2,vars:1,consts:[[3,"config"]],template:function(n,s){n&1&&(rn(0),De(1,"app-map",0),on()),n&2&&(We(),je("config",s.mapConfig))},dependencies:[In]});let t=e;return t})();var NM=[{path:"",component:id},{path:"map-tools",component:s_},{path:"map-layers",component:a_},{path:"map-clusters",component:u_},{path:"*",component:id}],l_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({imports:[nd.forRoot(NM),nd]});let t=e;return t})();var RM=t=>({active:t});function FM(t,e){t&1&&(ws(),Be(0,"svg",9)(1,"g"),De(2,"path",10)(3,"path",11),nt()())}function jM(t,e){t&1&&(ws(),Be(0,"svg",12),De(1,"path",13),nt())}function BM(t,e){t&1&&(ws(),Be(0,"svg",14)(1,"g")(2,"g"),De(3,"path",15),nt()()())}function VM(t,e){if(t&1){let o=Lm();Be(0,"li",4),Rs("click",function(){let n=Dp(o).$implicit,s=$l();return Cp(s.navigate(n.url))}),Ns(1,FM,4,0,"svg",5)(2,jM,2,0,"svg",6)(3,BM,4,0,"svg",7),Be(4,"span",8),Gl(5),nt()()}if(t&2){let o=e.$implicit,i=$l();je("ngClass",Tm(5,RM,i.isActivateRoute(o.url))),We(),je("ngIf",o.icon==="home"),We(),je("ngIf",o.icon=="other"),We(),je("ngIf",o.icon=="layer"),We(2),Zl(" ",o.name," ")}}var c_=(()=>{let e=class e{constructor(i){this.router=i,this.menuItems=[{name:"Simple Map",id:"simple-map",icon:"home",url:"/"},{name:"Map with Tools",id:"map-with-tools",icon:"other",url:"/map-tools"},{name:"Map with Layers",id:"map-with-layers",icon:"layer",url:"/map-layers"},{name:"Map with Clustering",id:"map-with-clustering",icon:"other",url:"/map-clusters"}]}navigate(i){this.router.navigate([i])}isActivateRoute(i){return this.router.isActive(i,{paths:"exact",fragment:"ignored",matrixParams:"subset",queryParams:"subset"})}};e.\u0275fac=function(n){return new(n||e)(mt(un))},e.\u0275cmp=ke({type:e,selectors:[["app-sidebar"]],decls:5,vars:1,consts:[[1,"bg-gray-900","sm:w-60","min-h-screen","w-14","pt-4","transition-all"],[1,"text-center","text-white","p-6","text-4xl","font-bold","hidden","sm:block"],[1,"mt-11"],["class","hover:bg-gray-800 cursor-pointer sm:justify-start px-4 h-12 flex items-center justify-center",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"hover:bg-gray-800","cursor-pointer","sm:justify-start","px-4","h-12","flex","items-center","justify-center",3,"click","ngClass"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 36.767 48.001",4,"ngIf"],["fill","white","width","24","height","24","viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg","class","icon",4,"ngIf"],["fill","white","width","24","height","24","version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 421.59 421.59",0,"xml","space","preserve",4,"ngIf"],[1,"ml-3","hidden","sm:block","text-gray-400","font-semibold","tracking-wide","hover:text-white","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 36.767 48.001"],["d","M23.143,37.881C27.321,31.805,33.1,22.072,33.1,14.717a14.718,14.718,0,0,0-29.435,0c0,7.357,5.783,17.094,9.961,23.168C6.3,38.391,0,40.074,0,42.858,0,46.235,9.248,48,18.383,48s18.384-1.766,18.384-5.143C36.767,40.075,30.474,38.387,23.143,37.881ZM5.121,14.717a13.264,13.264,0,0,1,26.527,0c0,9.492-10.665,23.852-13.264,27.209C15.786,38.569,5.121,24.213,5.121,14.717ZM18.383,46.546c-10.334,0-16.929-2.184-16.929-3.688,0-1.309,5.03-3.123,13.155-3.57,1.741,2.449,3.039,4.063,3.209,4.273a.729.729,0,0,0,1.129,0c.17-.211,1.469-1.826,3.213-4.277,8.125.447,13.151,2.266,13.151,3.574C35.313,44.362,28.718,46.546,18.383,46.546Z","fill","white"],["d","M26.383,14.848a8,8,0,1,0-8,8A8.009,8.009,0,0,0,26.383,14.848Zm-14.545,0a6.546,6.546,0,1,1,6.545,6.545A6.555,6.555,0,0,1,11.838,14.848Z","fill","white"],["fill","white","width","24","height","24","viewBox","0 0 1024 1024","xmlns","http://www.w3.org/2000/svg",1,"icon"],["d","M888 680h-54V540H546v-92h238c8.8 0 16-7.2 16-16V168c0-8.8-7.2-16-16-16H240c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h238v92H190v140h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8zM256 805.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zm288 0c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM288 384V216h448v168H288zm544 421.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM360 300a40 40 0 1 0 80 0 40 40 0 1 0-80 0z"],["fill","white","width","24","height","24","version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 421.59 421.59",0,"xml","space","preserve"],["d",`M400.491,291.098l-58.865-36.976l58.864-36.971c2.185-1.372,3.511-3.771,3.511-6.351s-1.326-4.979-3.511-6.352
			l-58.865-36.977l58.862-36.973c2.185-1.373,3.511-3.771,3.511-6.351s-1.326-4.979-3.511-6.351L214.783,1.149
			c-2.438-1.532-5.54-1.532-7.979,0L21.1,117.796c-2.185,1.373-3.511,3.771-3.511,6.351c0,2.58,1.326,4.979,3.511,6.351
			l58.861,36.972l-58.859,36.978c-2.185,1.373-3.51,3.771-3.51,6.351c0,2.58,1.326,4.979,3.511,6.351l58.859,36.97l-58.859,36.979
			c-2.185,1.372-3.51,3.771-3.51,6.351c0,2.58,1.326,4.979,3.511,6.351l185.7,116.64c1.22,0.766,2.604,1.149,3.989,1.149
			s2.77-0.383,3.989-1.149L400.491,303.8c2.185-1.372,3.511-3.771,3.511-6.351C404.002,294.869,402.676,292.47,400.491,291.098z
			 M39.189,124.147l171.605-107.79l171.604,107.79l-171.604,107.79L39.189,124.147z M39.191,210.798l54.869-34.471l112.744,70.818
			c1.219,0.766,2.604,1.149,3.989,1.149c1.385,0,2.77-0.383,3.989-1.149l112.742-70.817l54.875,34.47L210.792,318.582
			L39.191,210.798z M210.792,405.232L39.191,297.448l54.87-34.472l112.742,70.814c1.22,0.766,2.604,1.149,3.989,1.149
			s2.77-0.383,3.989-1.149l112.744-70.812l54.876,34.47L210.792,405.232z`]],template:function(n,s){n&1&&(Be(0,"nav",0)(1,"div",1),Gl(2," Simple GIS "),nt(),Be(3,"ul",2),Ns(4,VM,6,7,"li",3),nt()()),n&2&&(We(4),je("ngForOf",s.menuItems))},dependencies:[Xm,Jm,eg],styles:[".active[_ngcontent-%COMP%]{background-color:#8b008b}"]});let t=e;return t})();var d_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ke({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"flex"],[1,"flex-1","bg-white","bg-opacity-20"]],template:function(n,s){n&1&&(Be(0,"main",0),De(1,"app-sidebar"),Be(2,"section",1),De(3,"router-outlet"),nt()())},dependencies:[Yc,c_]});let t=e;return t})();var h_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({imports:[$s]});let t=e;return t})();var f_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=tt({type:e,bootstrap:[d_]}),e.\u0275inj=et({imports:[cg,l_,h_]});let t=e;return t})();lg().bootstrapModule(f_).catch(t=>console.error(t));
